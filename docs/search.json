[
  {
    "objectID": "my_trabajo_BigData.html",
    "href": "my_trabajo_BigData.html",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "",
    "text": "En los últimos años la vivienda, tanto el alquiler como la compra de esta, se ha convertido en una de las principales preocupaciones de los españoles. Esto no es un fenómeno único de nuestro país, la situación es similar en otras partes de Europa y del mundo.\nPor esta razón hemos decidido investigar sobre este problema, empezando por observar ciertas variables a nivel continental, usando datos de Eurostat y de la OECD. Para luego continuar analizando la situación en España, con datos del INE.\nEn este documento, en algunos momentos puntuales también hablaremos sobre detalles del código que usamos para obtener lo que el lector vera.\nPrimero cargaremos los paquetes necesarios:\n\nDesplegar codigo#install.packages(\"eurostat\")\n#install.packages(\"tidyverse\")\n#install.packages(\"ggplot2\")\n#install.packages(\"gganimate\")\n#install.packages(\"ggthemes\")\n#install.packages(\"gt\")\n#install.packages(\"gtExtras\")\n#install.packages(\"tidyr\")\n#install.packages(\"sf\")\n#install.packages(\"giscoR\")\n#install.packages(\"ragg\")\n#install.packages(\"gifski\")\n#install.packages(\"lubridate\")\n#install.packages(\"DT\")\n#install.packages(\"pjpv.curso.R.2022\")\n#install.packages(\"classInt\")\n#install.packages(\"stringr\")\n#install.packages(\"pxR\")\n#install.packages(\"devtools\")\n\nlibrary(pxR)\nlibrary(eurostat)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(gganimate)\nlibrary(ggthemes)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(tidyr)\nlibrary(sf)        \nlibrary(giscoR)\nlibrary(ragg)\n\nlibrary(lubridate)\nlibrary(DT)\ndevtools::install_github(\"perezp44/pjpv.curso.R.2022\")\nlibrary(classInt)\nlibrary(stringr)\n\n#Usamos esto para solucionar problemas con los gráficos animados\nlibrary(gifski)"
  },
  {
    "objectID": "my_trabajo_BigData.html#intro",
    "href": "my_trabajo_BigData.html#intro",
    "title": "Los pingüinos molan",
    "section": "",
    "text": "Vamos a utilizar datos del paquete palmerpenguins. El repo del paquete en CRAN está aquí, el repo de Github está aquí y la página web del paquete está aquí.\nLos datos se pueden cargar en la memoria de de R/RStudio de esta forma:\n\n\nCódigo\n# install.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\ndf &lt;- palmerpenguins::penguins\n\n\nEl dataset contiene observaciones sobre un conjunto de 344 pingüinos de 3 especies. Hay 8 variables."
  },
  {
    "objectID": "my_trabajo_BigData.html#los-pingüinos-molan",
    "href": "my_trabajo_BigData.html#los-pingüinos-molan",
    "title": "Los pingüinos molan",
    "section": "Los pingüinos molan",
    "text": "Los pingüinos molan\nVamos a ver una foto de un pingüinos\n\n\n\nUn pingüino chulo\n\n\n\nSí, lo pingüinos molan, así que vamos a poner otra foto de pingüinos que tenemos en nuestro PC pero la vamos a poner en el margen:"
  },
  {
    "objectID": "my_trabajo_BigData.html#algunos-gráficos",
    "href": "my_trabajo_BigData.html#algunos-gráficos",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Algunos gráficos",
    "text": "Algunos gráficos\nBueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes\n\n\nDesplegar codigo\nlibrary(tidyverse)\n\n\nArreglo los datos\n\n\nDesplegar codigo\n#- cojos datos de pingüinos y arreglo un poco \ndf &lt;- palmerpenguins::penguins %&gt;% \n  dplyr::select(species, bill_depth_mm, body_mass_g) %&gt;% \n  tidyr::drop_na()\n\n\n\n\nPrimer gráfico\n\n\nDesplegar codigo\n#- primer gráfico\np &lt;- ggplot(data = df, \n       mapping = aes(x = bill_depth_mm, y = body_mass_g, color = species)) +\n     geom_point()\np\n\n\n\n\n\n\n\n\n\n\n\n\nSegundo\n\n\nDesplegar codigo\n#- segundo gráfico\np &lt;- p + geom_smooth(method = \"lm\", se = FALSE) \n\np\n\n\n\n\n\n\n\n\n\n\n\n\nEl último\n\n\nDesplegar codigo\n#- tercer gráfico\np + geom_smooth(method = \"lm\", se = FALSE, color = \"black\") \n\n\n\n\n\n\n\n\n\n\nCon esto acabo mi trabajo para BigData!!\n\n\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n\n\n current session info \n\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.2 (2025-10-31 ucrt)\n os       Windows 10 x64 (build 19045)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-07\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\PROGRA~1\\\\RStudio\\\\RESOUR~1\\\\app\\\\bin\\\\quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package        * version date (UTC) lib source\n cli              3.6.5   2025-04-23 [1] CRAN (R 4.5.2)\n clipr            0.8.0   2022-02-22 [1] CRAN (R 4.5.2)\n desc             1.4.3   2023-12-10 [1] CRAN (R 4.5.2)\n details          0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest           0.6.39  2025-11-19 [1] CRAN (R 4.5.2)\n dplyr          * 1.1.4   2023-11-17 [1] CRAN (R 4.5.2)\n evaluate         1.0.5   2025-08-27 [1] CRAN (R 4.5.2)\n farver           2.1.2   2024-05-13 [1] CRAN (R 4.5.2)\n fastmap          1.2.0   2024-05-15 [1] CRAN (R 4.5.2)\n forcats        * 1.0.1   2025-09-25 [1] CRAN (R 4.5.2)\n generics         0.1.4   2025-05-09 [1] CRAN (R 4.5.2)\n ggplot2        * 4.0.1   2025-11-14 [1] CRAN (R 4.5.2)\n glue             1.8.0   2024-09-30 [1] CRAN (R 4.5.2)\n gtable           0.3.6   2024-10-25 [1] CRAN (R 4.5.2)\n hms              1.1.4   2025-10-17 [1] CRAN (R 4.5.2)\n htmltools        0.5.9   2025-12-04 [1] CRAN (R 4.5.2)\n httr             1.4.7   2023-08-15 [1] CRAN (R 4.5.2)\n jsonlite         2.0.0   2025-03-27 [1] CRAN (R 4.5.2)\n knitr            1.50    2025-03-16 [1] CRAN (R 4.5.2)\n labeling         0.4.3   2023-08-29 [1] CRAN (R 4.5.2)\n lattice          0.22-7  2025-04-02 [2] CRAN (R 4.5.2)\n lifecycle        1.0.4   2023-11-07 [1] CRAN (R 4.5.2)\n lubridate      * 1.9.4   2024-12-08 [1] CRAN (R 4.5.2)\n magrittr         2.0.4   2025-09-12 [1] CRAN (R 4.5.2)\n Matrix           1.7-4   2025-08-28 [2] CRAN (R 4.5.2)\n mgcv             1.9-3   2025-04-04 [2] CRAN (R 4.5.2)\n nlme             3.1-168 2025-03-31 [2] CRAN (R 4.5.2)\n palmerpenguins * 0.1.1   2022-08-15 [1] CRAN (R 4.5.2)\n pillar           1.11.1  2025-09-17 [1] CRAN (R 4.5.2)\n pkgconfig        2.0.3   2019-09-22 [1] CRAN (R 4.5.2)\n png              0.1-8   2022-11-29 [1] CRAN (R 4.5.2)\n purrr          * 1.2.0   2025-11-04 [1] CRAN (R 4.5.2)\n R6               2.6.1   2025-02-15 [1] CRAN (R 4.5.2)\n RColorBrewer     1.1-3   2022-04-03 [1] CRAN (R 4.5.2)\n readr          * 2.1.6   2025-11-14 [1] CRAN (R 4.5.2)\n rlang            1.1.6   2025-04-11 [1] CRAN (R 4.5.2)\n rmarkdown        2.30    2025-09-28 [1] CRAN (R 4.5.2)\n rstudioapi       0.17.1  2024-10-22 [1] CRAN (R 4.5.2)\n S7               0.2.1   2025-11-14 [1] CRAN (R 4.5.2)\n scales           1.4.0   2025-04-24 [1] CRAN (R 4.5.2)\n sessioninfo      1.2.3   2025-02-05 [1] CRAN (R 4.5.2)\n stringi          1.8.7   2025-03-27 [1] CRAN (R 4.5.2)\n stringr        * 1.6.0   2025-11-04 [1] CRAN (R 4.5.2)\n tibble         * 3.3.0   2025-06-08 [1] CRAN (R 4.5.2)\n tidyr          * 1.3.1   2024-01-24 [1] CRAN (R 4.5.2)\n tidyselect       1.2.1   2024-03-11 [1] CRAN (R 4.5.2)\n tidyverse      * 2.0.0   2023-02-22 [1] CRAN (R 4.5.2)\n timechange       0.3.0   2024-01-18 [1] CRAN (R 4.5.2)\n tzdb             0.5.0   2025-03-15 [1] CRAN (R 4.5.2)\n vctrs            0.6.5   2023-12-01 [1] CRAN (R 4.5.2)\n withr            3.0.2   2024-10-28 [1] CRAN (R 4.5.2)\n xfun             0.54    2025-10-30 [1] CRAN (R 4.5.2)\n yaml             2.3.11  2025-11-28 [1] CRAN (R 4.5.2)\n\n [1] C:/Users/Usuario/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.2/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_slides_BigData.html",
    "href": "my_slides_BigData.html",
    "title": "Los pingüinos molan",
    "section": "",
    "text": "Vamos a utilizar datos del paquete palmerpenguins. El repo del paquete en CRAN está aquí, el repo de Github está aquí y la página web del paquete está aquí.\nLos datos se pueden cargar en la memoria de de R/RStudio de esta forma:\n\n\nCódigo\n# install.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\ndf &lt;- palmerpenguins::penguins\n\n\nEl dataset contiene observaciones sobre un conjunto de 344 pingüinos de 3 especies. Hay 8 variables."
  },
  {
    "objectID": "my_slides_BigData.html#intro",
    "href": "my_slides_BigData.html#intro",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Intro",
    "text": "Intro\nVamos a utilizar datos de:\n\nEurostat\n\n\n\nLa OECD\n\n\n\n\nEl INE\n\n\n\n*los paquetes han sido cargados en un chunk de codigo que no se ve gracias a “include: false”."
  },
  {
    "objectID": "my_slides_BigData.html#los-pingüinos-molan",
    "href": "my_slides_BigData.html#los-pingüinos-molan",
    "title": "Los pingüinos molan",
    "section": "Los pingüinos molan",
    "text": "Los pingüinos molan\nVamos a ver una foto de un pingüinos\n\n\n\nUn pingüino chulo"
  },
  {
    "objectID": "my_slides_BigData.html#algunos-gráficos",
    "href": "my_slides_BigData.html#algunos-gráficos",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Algunos gráficos",
    "text": "Algunos gráficos\nBueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes\n\nCódigolibrary(tidyverse)\n\n\nArreglo los datos\n\nCódigo#- cojos datos de pingüinos y arreglo un poco \ndf &lt;- palmerpenguins::penguins %&gt;% \n  dplyr::select(species, bill_depth_mm, body_mass_g) %&gt;% \n  tidyr::drop_na()"
  },
  {
    "objectID": "my_trabajo_BigData.html#tabla",
    "href": "my_trabajo_BigData.html#tabla",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Tabla",
    "text": "Tabla\nBueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes\nArreglo los datos"
  },
  {
    "objectID": "my_trabajo_BigData.html#primer-grafico",
    "href": "my_trabajo_BigData.html#primer-grafico",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Primer grafico",
    "text": "Primer grafico\n\n\nDesplegar codigo\n#- primer gráfico\n\n\n\n\nSegundo\n\n\nDesplegar codigo\n#- segundo gráfico\n\n\n\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n\n\n current session info \n\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.2 (2025-10-31 ucrt)\n os       Windows 11 x64 (build 26200)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-15\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\PROGRA~1\\\\RStudio\\\\RESOUR~1\\\\app\\\\bin\\\\quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package      * version  date (UTC) lib source\n assertthat     0.2.1    2019-03-21 [1] CRAN (R 4.5.2)\n backports      1.5.0    2024-05-23 [1] CRAN (R 4.5.2)\n bibtex         0.5.1    2023-01-26 [1] CRAN (R 4.5.2)\n bit            4.6.0    2025-03-06 [1] CRAN (R 4.5.2)\n bit64          4.6.0-1  2025-01-16 [1] CRAN (R 4.5.2)\n cellranger     1.1.0    2016-07-27 [1] CRAN (R 4.5.2)\n class          7.3-23   2025-01-01 [2] CRAN (R 4.5.2)\n classInt       0.4-11   2025-01-08 [1] CRAN (R 4.5.2)\n cli            3.6.5    2025-04-23 [1] CRAN (R 4.5.2)\n clipr          0.8.0    2022-02-22 [1] CRAN (R 4.5.2)\n countrycode    1.6.1    2025-03-31 [1] CRAN (R 4.5.2)\n crayon         1.5.3    2024-06-20 [1] CRAN (R 4.5.2)\n curl           7.0.0    2025-08-19 [1] CRAN (R 4.5.2)\n data.table     1.17.8   2025-07-10 [1] CRAN (R 4.5.2)\n desc           1.4.3    2023-12-10 [1] CRAN (R 4.5.2)\n details        0.4.0    2025-02-09 [1] CRAN (R 4.5.2)\n digest         0.6.39   2025-11-19 [1] CRAN (R 4.5.2)\n dplyr        * 1.1.4    2023-11-17 [1] CRAN (R 4.5.2)\n e1071          1.7-16   2024-09-16 [1] CRAN (R 4.5.2)\n eurostat     * 4.0.0    2023-12-19 [1] CRAN (R 4.5.2)\n evaluate       1.0.5    2025-08-27 [1] CRAN (R 4.5.2)\n farver         2.1.2    2024-05-13 [1] CRAN (R 4.5.2)\n fastmap        1.2.0    2024-05-15 [1] CRAN (R 4.5.2)\n fontawesome    0.5.3    2024-11-16 [1] CRAN (R 4.5.2)\n forcats      * 1.0.1    2025-09-25 [1] CRAN (R 4.5.2)\n fs             1.6.6    2025-04-12 [1] CRAN (R 4.5.2)\n generics       0.1.4    2025-05-09 [1] CRAN (R 4.5.2)\n gganimate    * 1.0.11   2025-09-04 [1] CRAN (R 4.5.2)\n ggplot2      * 4.0.1    2025-11-14 [1] CRAN (R 4.5.2)\n ggthemes     * 5.2.0    2025-11-30 [1] CRAN (R 4.5.2)\n gifski       * 1.32.0-2 2025-03-18 [1] CRAN (R 4.5.2)\n glue           1.8.0    2024-09-30 [1] CRAN (R 4.5.2)\n gt           * 1.1.0    2025-09-23 [1] CRAN (R 4.5.2)\n gtable         0.3.6    2024-10-25 [1] CRAN (R 4.5.2)\n gtExtras     * 0.6.1    2025-10-10 [1] CRAN (R 4.5.2)\n here           1.0.2    2025-09-15 [1] CRAN (R 4.5.2)\n hms            1.1.4    2025-10-17 [1] CRAN (R 4.5.2)\n htmltools      0.5.9    2025-12-04 [1] CRAN (R 4.5.2)\n htmlwidgets    1.6.4    2023-12-06 [1] CRAN (R 4.5.2)\n httr           1.4.7    2023-08-15 [1] CRAN (R 4.5.2)\n httr2          1.2.2    2025-12-08 [1] CRAN (R 4.5.2)\n ISOweek        0.6-2    2011-09-07 [1] CRAN (R 4.5.2)\n jsonlite       2.0.0    2025-03-27 [1] CRAN (R 4.5.2)\n KernSmooth     2.23-26  2025-01-01 [2] CRAN (R 4.5.2)\n knitr          1.50     2025-03-16 [1] CRAN (R 4.5.2)\n lifecycle      1.0.4    2023-11-07 [1] CRAN (R 4.5.2)\n lubridate    * 1.9.4    2024-12-08 [1] CRAN (R 4.5.2)\n magrittr       2.0.4    2025-09-12 [1] CRAN (R 4.5.2)\n paletteer      1.6.0    2024-01-21 [1] CRAN (R 4.5.2)\n pillar         1.11.1   2025-09-17 [1] CRAN (R 4.5.2)\n pkgconfig      2.0.3    2019-09-22 [1] CRAN (R 4.5.2)\n plyr           1.8.9    2023-10-02 [1] CRAN (R 4.5.2)\n png            0.1-8    2022-11-29 [1] CRAN (R 4.5.2)\n prettyunits    1.2.0    2023-09-24 [1] CRAN (R 4.5.2)\n progress       1.2.3    2023-12-06 [1] CRAN (R 4.5.2)\n proxy          0.4-28   2025-12-11 [1] CRAN (R 4.5.2)\n purrr        * 1.2.0    2025-11-04 [1] CRAN (R 4.5.2)\n R6             2.6.1    2025-02-15 [1] CRAN (R 4.5.2)\n rappdirs       0.3.3    2021-01-31 [1] CRAN (R 4.5.2)\n RColorBrewer   1.1-3    2022-04-03 [1] CRAN (R 4.5.2)\n Rcpp           1.1.0    2025-07-02 [1] CRAN (R 4.5.2)\n readr        * 2.1.6    2025-11-14 [1] CRAN (R 4.5.2)\n readxl         1.4.5    2025-03-07 [1] CRAN (R 4.5.2)\n RefManageR     1.4.0    2022-09-30 [1] CRAN (R 4.5.2)\n regions        0.1.8    2021-06-21 [1] CRAN (R 4.5.2)\n rematch2       2.1.2    2020-05-01 [1] CRAN (R 4.5.2)\n rlang          1.1.6    2025-04-11 [1] CRAN (R 4.5.2)\n rmarkdown      2.30     2025-09-28 [1] CRAN (R 4.5.2)\n rprojroot      2.1.1    2025-08-26 [1] CRAN (R 4.5.2)\n rstudioapi     0.17.1   2024-10-22 [1] CRAN (R 4.5.2)\n S7             0.2.1    2025-11-14 [1] CRAN (R 4.5.2)\n sass           0.4.10   2025-04-11 [1] CRAN (R 4.5.2)\n scales         1.4.0    2025-04-24 [1] CRAN (R 4.5.2)\n sessioninfo    1.2.3    2025-02-05 [1] CRAN (R 4.5.2)\n stringi        1.8.7    2025-03-27 [1] CRAN (R 4.5.2)\n stringr      * 1.6.0    2025-11-04 [1] CRAN (R 4.5.2)\n tibble       * 3.3.0    2025-06-08 [1] CRAN (R 4.5.2)\n tidyr        * 1.3.1    2024-01-24 [1] CRAN (R 4.5.2)\n tidyselect     1.2.1    2024-03-11 [1] CRAN (R 4.5.2)\n tidyverse    * 2.0.0    2023-02-22 [1] CRAN (R 4.5.2)\n timechange     0.3.0    2024-01-18 [1] CRAN (R 4.5.2)\n tweenr         2.0.3    2024-02-26 [1] CRAN (R 4.5.2)\n tzdb           0.5.0    2025-03-15 [1] CRAN (R 4.5.2)\n vctrs          0.6.5    2023-12-01 [1] CRAN (R 4.5.2)\n vroom          1.6.7    2025-11-28 [1] CRAN (R 4.5.2)\n withr          3.0.2    2024-10-28 [1] CRAN (R 4.5.2)\n xfun           0.54     2025-10-30 [1] CRAN (R 4.5.2)\n xml2           1.5.1    2025-12-01 [1] CRAN (R 4.5.2)\n yaml           2.3.12   2025-12-10 [1] CRAN (R 4.5.2)\n\n [1] C:/Users/Juan Pablo/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.2/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigData.html#graficos-de-barras",
    "href": "my_trabajo_BigData.html#graficos-de-barras",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Graficos de barras",
    "text": "Graficos de barras\n\n\nDesplegar codigo\nmy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\") \n\ndf_alquileres_anual &lt;- df %&gt;%\n                  filter(coicop == \"CP041\",\n                         unit == \"RCH_A_AVG\",\n                  !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                     \"EA\", \"EA20\",\"EA19\", \"US\", \n                     \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                     \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                  rename(país = geo,\n                         año = TIME_PERIOD) %&gt;%\n                  select(-freq) \n\n\n#TOP (Porcentaje del incremento anual del precio del alquiler del páis donde más ha crecido ese año)\ndf_top &lt;- df_alquileres_anual %&gt;%\n           group_by(año) %&gt;%\n           slice_max(order_by = values, n = 1) %&gt;%\n           ungroup() %&gt;%\n           arrange(año)\n\ngráfico_barras_TOP &lt;- ggplot(df_top, aes(x = año, y = values, fill = país)) +\n                       geom_col() +\n                       labs(title = \"Porcentaje del incremento anual del precio\\ndel alquiler del páis donde más ha crecido ese año (UE)\",\n                            x = \"Año\", y = \"Porcentaje del incremento anual\",\n                            caption = \"Eurostat 2025\") +\n                       theme_solarized() +\n                       geom_text(aes(label = país), angle = 90, hjust = 0) +\n                       scale_y_continuous(breaks = seq(0, 170, by = 12.5)) +\n                       theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                             legend.position = \"none\")\n\ngráfico_barras_TOP\n\n\n\n\n\n\n\n\n\nLa evolución de los precios muestra una clara transición de inestabilidad extrema a madurez de mercado, protagonizada casi exclusivamente por las economías de Europa del Este y los países bálticos. Se distinguen dos grandes etapas: un primer periodo de ajuste agresivo (1996-2008), marcado por la apertura post-soviética y la inflación previa a la entrada en el euro, que provocó subidas desorbitadas como el pico histórico de Bulgaria en 1998 (&gt;150%) o el de Rumanía en 2007; seguido de una segunda etapa de estabilización estructural (2009-2024) tras la crisis financiera, donde las subidas se han moderado drásticamente (situándose habitualmente por debajo del 25%) al haberse completado la convergencia económica de estos países con el resto de la Unión Europea.\n\n\nDesplegar codigo\n#NONTOP\ndf_nontop &lt;- df_alquileres_anual %&gt;%\n  group_by(año) %&gt;%\n  slice_min(order_by = values, n = 1) %&gt;%\n  ungroup() %&gt;%\n  arrange(año)\n\ngráfico_barras_NONTOP &lt;- ggplot(df_nontop, aes(x = año, y = values, fill = país)) +\n                          geom_col() +\n                          labs(title = \"Porcentaje del incremento anual del precio\\ndel alquiler del páis donde menos ha crecido ese año (UE)\",\n       x = \"Año\", y = \"Porcentaje del incremento anual\",\n                          caption = \"Eurostat 2025\") +\n                          theme_solarized() +\n                          geom_text(aes(label = país), angle = 90, hjust = 0) +\n                          scale_y_continuous(breaks = seq(-40, 10, by = 5)) +\n                          theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                          legend.position = \"none\")\n\ngráfico_barras_NONTOP\n\n\n\n\n\n\n\n\n\nEste gráfico traza la historia de las crisis inmobiliarias europeas a través de los descensos de precios, identificando tres fases muy diferenciadas. Primero, una etapa de corrección violenta post-2008, donde las economías bálticas (Estonia y Lituania) sufrieron desplomes masivos de hasta un 30% al estallar sus burbujas de crédito. Segundo, un largo periodo de deflación estructural en el sur (2012-2018), protagonizado casi en exclusiva por Grecia (EL), que encadenó casi una década de caídas constantes debido a su crisis de deuda y austeridad. Finalmente, el gráfico revela una tendencia actual preocupante tras 2021: la desaparición de las bajadas, ya que en los últimos años (2022-2024) las barras vuelven a ser positivas, indicando que hoy en día los precios suben incluso en los mercados más estancados de Europa.\n\n\nDesplegar codigo\nlibrary(patchwork) #- utiliza el pkg \"patchwork\" para mostrar los 2 gráficos (p1 y p2) side-by-side\ngráfico_barras_TOP + gráfico_barras_NONTOP"
  },
  {
    "objectID": "my_trabajo_BigData.html#mapa-europa-quitado-por-problemas",
    "href": "my_trabajo_BigData.html#mapa-europa-quitado-por-problemas",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa Europa QUITADO POR PROBLEMAS",
    "text": "Mapa Europa QUITADO POR PROBLEMAS\nLa evolución del incremento anual del precio del alquiler en la Unión Europea durante el periodo 1996-2024 muestra una trayectoria de encarecimiento progresivo, caracterizada por una heterogeneidad geográfica marcada y una aceleración reciente. Mientras que en las primeras décadas se observan tasas de variación moderadas y estables en gran parte de Europa Occidental, la animación revela cómo, tras la crisis financiera y especialmente en el periodo post-pandemia (2021-2024), la intensidad de las subidas se dispara. Los países de Europa del Este y los Estados Bálticos (Estonia, Lituania) tienden a ocupar frecuentemente las categorías de crecimiento “Muy alta” (colores más oscuros en tu escala magma) debido a un efecto de convergencia económica y alta inflación reciente, mientras que mercados más regulados como Alemania o Francia suelen mostrar un comportamiento más contenido, aunque con una tendencia alcista generalizada en los últimos fotogramas debido a la presión inflacionaria global."
  },
  {
    "objectID": "my_trabajo_BigData.html#oecd-boxplot",
    "href": "my_trabajo_BigData.html#oecd-boxplot",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "OECD Boxplot",
    "text": "OECD Boxplot\nCambiamos ahora de fuente. Haciendo uso de los datos de la OECD y mediante un diagrama de cajas observamos la dinámica de la inflación de los alquileres (el ritmo al que suben los precios anualmente), revelando un comportamiento cíclico dramático. Tras dos décadas de relativa estabilidad y una fase de enfriamiento notable entre 2010 y 2020, donde las subidas anuales se moderaron hasta caer cerca del 1% de mediana, se observa una ruptura estructural a partir de 2021. En los últimos tres años (2022-2024), la tendencia se invierte bruscamente con un ascenso vertical, llevando la mediana de incremento anual por encima del 4%, niveles inéditos en la serie histórica. Además, el alargamiento vertical de las cajas en este último periodo indica una mayor volatilidad y disparidad: mientras antes los países se comportaban de forma homogénea, ahora las diferencias en la intensidad de las subidas entre unos mercados y otros son extremas.\n\nDesplegar codigourl_ocde &lt;- \"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.PA.CP041.N.?startPeriod=1996&endPeriod=2024&dimensionAtObservation=AllDimensions&format=csvfilewithlabels\"\n\n#Creamos el archivo y descargamos los datos\ndir.create(\"datos\")\n\nruta_ocde &lt;- \"./datos/alquileres_ocde_anual.csv\"\n\ncurl::curl_download(url_ocde, ruta_ocde) \n\nalquileres_ocde &lt;- read_csv(ruta_ocde)\n\n#Filtramos los datos\n\nalquileres_ocde_anual &lt;- alquileres_ocde %&gt;%\n                          select(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         `Reference area`, TIME_PERIOD, OBS_VALUE) %&gt;%\n                          mutate(año = TIME_PERIOD,\n                                 values = OBS_VALUE,\n                                 país = `Reference area`) \n#Creamos el gráfico\ngráfico &lt;- ggplot(alquileres_ocde_anual, aes(x = año,  y = values)) +\n      geom_boxplot(aes(group = año, fill = as.factor(año)), outlier.shape = 8) + \n      geom_jitter(width = 0.15, alpha = 1/4, color = \"brown\") +\n      labs(title = \"Gráfico 6: Diagrama de cajas del inncremento anual del\\nprecio del alquiler G-12\", \n           x = \"Año\", y = \"Porcentaje\",\n           caption = \"Fuente: OCDE 2025\") +\n      theme_solarized() + \n      stat_summary(fun = mean, geom = \"line\", color = \"black\", size = 1.2) +               scale_x_continuous(breaks = seq(1996, 2024, by = 1)) +\n      theme(axis.text.x = element_text(angle = 90),\n            legend.position = \"none\")\n\ngráfico"
  },
  {
    "objectID": "my_trabajo_BigData.html#oecd-animación",
    "href": "my_trabajo_BigData.html#oecd-animación",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "OECD Animación",
    "text": "OECD Animación\n\nDesplegar codigourl_ocde &lt;- \"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.IX.CP041.N.?startPeriod=1996&endPeriod=2024&dimensionAtObservation=AllDimensions&format=csvfilewithlabels\"\n\n#Creamos el archivo y descargamos los datos\ndir.create(\"datos\")\n\nruta_ocde &lt;- \"./datos/alquileres_ocde.csv\"\n\ncurl::curl_download(url_ocde, ruta_ocde) \n\nalquileres_ocde &lt;- read_csv(ruta_ocde)\n\n#Filtramos los datos\nalquileres_ocde &lt;- alquileres_ocde %&gt;%\n                   select(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         `Reference area`, TIME_PERIOD, OBS_VALUE) %&gt;%\n                   mutate(año = TIME_PERIOD,\n                          values = OBS_VALUE,\n                          país = `Reference area`)\n  \n#Creamos el gráfico \ngráfico &lt;- ggplot(alquileres_ocde, aes(x = año, y = values, color = país)) +\n            geom_line(size = 1.4) +\n            labs(title = \"Gráfico 7: Incremento del precio del alquiler (Base 2015) G-12\", \n                  x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                 caption = \"Fuente: OCDE 2025\") +\n            scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n            scale_y_continuous(breaks = seq(50, 150, by = 12.5),\n                               limits = c(50, 150),\n                               expand = c(0, 0)) +\n            theme_stata() +\n            theme(legend.position = \"none\",\n                  axis.text.x = element_text(angle = 90, vjust = 0.5),\n                  axis.text.y = element_text(angle = 0)) +\n            geom_text(aes(label = país))\n  \n#Animámos el gráfico\ngráfico_animado &lt;- gráfico + transition_reveal(año)+\n  enter_fade() + \n  exit_fade()\n\ngráfico_animado\n\n\n\n\n\n\n\nEl gráfico evidencia una tendencia alcista estructural y sostenida en el precio de los alquileres para las principales economías de la OCDE entre 1996 y 2024. Tomando 2015 como año base (índice 100), se observa cómo la totalidad de los países analizados parten de niveles inferiores (cercanos a los 50-60 puntos) a mediados de los noventa y experimentan un crecimiento constante e ininterrumpido a lo largo de las tres décadas. Aunque la pendiente varía según el país —reflejando distintas presiones inflacionarias locales—, la imagen general confirma un encarecimiento progresivo y universal del acceso a la vivienda en alquiler en el bloque occidental, situándose los valores actuales muy por encima de los registros históricos."
  },
  {
    "objectID": "my_trabajo_BigData.html#dónde-sube-más-el-alquiler-y-por-que",
    "href": "my_trabajo_BigData.html#dónde-sube-más-el-alquiler-y-por-que",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Dónde sube más el alquiler y por que?",
    "text": "¿Dónde sube más el alquiler y por que?\nObtenemos el dataset de Eurostat, directamente usando el paquete del mismo nombre. En el dataset tenemos observaciones del cambio del precio del alquiler en el periodo 1996-2024, usando el año 2014 como base. Trabajamos el dataset para quitar países que no nos interesan y otras variables que no nos importan. Posteriormente obtenemos los seis países de la UE en los que más ha subido el precio del alquiler en el mencionado periodo. El dataset contiene observaciones sobre un conjunto de . Hay variables.\n\nDesplegar codigo#Escogemos los datos de la página de Eurostat\nmy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\n#Creamos el dataframe asociado al índice de IPC de Eurostat y filtramos\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\")   \n#&gt; \nindexed 0B in  0s, 0B/s\nindexed 2.15GB in  0s, 2.15GB/s\n                                                                              \n\ndf_alquileres_index &lt;- df %&gt;%\n                        filter(coicop == \"CP041\",\n                        !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                                    \"EA\", \"EA20\",\"EA19\", \"US\", \n                                    \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                                    \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                        label_eurostat() %&gt;%\n                        filter(unit == \"Annual average index\") %&gt;%\n                        dplyr::rename(paises = geo,\n                               año = TIME_PERIOD) %&gt;%\n                        mutate(año = as.numeric(año)) %&gt;%\n                        select(-freq) \n\n##Top (Los 6 que más han crecido desde 2015 hasta 2024)\ndf_alquileres_top_6_2024 &lt;- df_alquileres_index %&gt;%\n                             filter(año == 2024) %&gt;%\n                             slice_max(values, n=6) \n\ntabla_df_alquileres_top_6_2024 &lt;- df_alquileres_top_6_2024 %&gt;%\n                                   gt() %&gt;% \n                                   gt_theme_excel() %&gt;% \n                                   tab_header(title = \"Tabla 1: Incremento del precio del alquiler\\nen los 6 países que más ha crecido\",\n                                               subtitle = \"TOP 6\") %&gt;% \n                                   tab_footnote(footnote = \"Eurostat 2025\")\n\ntabla_df_alquileres_top_6_2024\n\n\n\n\n\n\nTabla 1: Incremento del precio del alquiler en los 6 países que más ha crecido\n\n\nTOP 6\n\n\nunit\ncoicop\npaises\naño\nvalues\n\n\n\n\nAnnual average index\nActual rentals for housing\nHungary\n2024\n187.10\n\n\nAnnual average index\nActual rentals for housing\nLithuania\n2024\n173.73\n\n\nAnnual average index\nActual rentals for housing\nSlovenia\n2024\n170.51\n\n\nAnnual average index\nActual rentals for housing\nPoland\n2024\n166.40\n\n\nAnnual average index\nActual rentals for housing\nIreland\n2024\n166.10\n\n\nAnnual average index\nActual rentals for housing\nIceland\n2024\n159.84\n\n\n\nEurostat 2025\n\n\n\n\n\n\n\nDesplegar codigotop_paises &lt;- df_alquileres_top_6_2024$paises\n\ndf_top &lt;- df_alquileres_index %&gt;%\n           filter(paises %in% top_paises)\n\n#Gráfico del top\ngrafico_top &lt;- ggplot(df_top, \n                      aes(x = año, y = values, color = paises)) +\n                geom_line(size = 1.4) +\n                labs(title = \"Gráfico 1: Incremento del precio del alquiler\\n(Base 2015) del TOP 6 Países\", \n                    x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                    caption = \"Fuente: Eurostat 2025\") +\n                scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n                scale_y_continuous(breaks = seq(0, 200, by = 25)) +\n                theme_stata() +\n                theme(legend.position = \"none\", \n                      axis.text.y = element_text(angle = 0),\n                      axis.text.x = element_text(angle = 90, vjust = 0.5)) +\n                geom_text(aes(label = paises))\n\ngrafico_top_animado &lt;- grafico_top + transition_reveal(año) \n\nanimate(grafico_top_animado, \n        renderer = gifski_renderer())\n\n\n\n\n\n\n\nLos países de Europa del Este han experimentado un crecimiento económico rápido que ha elevado los salarios, pero la oferta de vivienda no ha seguido el ritmo. Además, han tenido las tasas de inflación general más altas de la UE tras la crisis energética (súbida del precio desde 2021). También está la presencia de Irlanda por la escasez crónica de oferta: la alta demanda (impulsada por el sector tecnológico y la inmigración) choca con un mercado inmobiliario que no construye lo suficiente, provocando una de las crisis de alquiler más agudas de Europa occidental. Islandia es un caso particular por el Efecto Airbnb (Turismo masivo): Gran parte del parque de viviendas se ha destinado al alquiler turístico, reduciendo drásticamente la oferta para residentes y disparando los precios, sumado a su muy limitado terreno edificable y su alta inflación."
  },
  {
    "objectID": "my_trabajo_BigData.html#y-donde-sube-menos",
    "href": "my_trabajo_BigData.html#y-donde-sube-menos",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Y donde sube menos?",
    "text": "¿Y donde sube menos?\n\nDesplegar codigo#Nontop (Los 6 que menos han crecido desde 2015 hasta 2024)\ndf_alquileres_nontop_6_2024 &lt;- df_alquileres_index %&gt;%\n                                filter(año == 2024) %&gt;%\n                                slice_min(values, n=6)\n\ntabla_df_alquileres_nontop_6_2024 &lt;- df_alquileres_nontop_6_2024 %&gt;%\n                                gt() %&gt;% \n                                gt_theme_excel() %&gt;% \n                                tab_header(title = \"Tabla 2: Incremento del precio del alquiler\\nen los 6 países que menos ha crecido\",\n                                           subtitle = \"NONTOP 6\") %&gt;% \n                                tab_footnote(footnote = \"Eurostat 2025\")\n\ntabla_df_alquileres_nontop_6_2024\n\n\n\n\n\n\nTabla 2: Incremento del precio del alquiler en los 6 países que menos ha crecido\n\n\nNONTOP 6\n\n\nunit\ncoicop\npaises\naño\nvalues\n\n\n\n\nAnnual average index\nActual rentals for housing\nGreece\n2024\n102.92\n\n\nAnnual average index\nActual rentals for housing\nFrance\n2024\n107.23\n\n\nAnnual average index\nActual rentals for housing\nItaly\n2024\n108.40\n\n\nAnnual average index\nActual rentals for housing\nSwitzerland\n2024\n110.81\n\n\nAnnual average index\nActual rentals for housing\nSpain\n2024\n110.93\n\n\nAnnual average index\nActual rentals for housing\nLuxembourg\n2024\n112.80\n\n\n\nEurostat 2025\n\n\n\n\n\n\nDesplegar codigo#Gráfico del nontop\nnontop_paises &lt;- df_alquileres_nontop_6_2024$paises\n\ndf_nontop &lt;- df_alquileres_index %&gt;%\n             filter(unit == \"Annual average index\",\n                    paises %in% nontop_paises)\n\ngrafico_nontop &lt;- ggplot(df_nontop, \n                         aes(x = año, y = values, color = paises)) +\n                   geom_line(size = 1.4) +\n                   labs(title = \"Gráfico 2: Incremento del precio del alquiler\\n(Base 2015) en los 6 Países que menos ha crecido\", \n                        x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                   caption = \"Fuente: Eurostat 2025\") +\n                   scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n                   scale_y_continuous(breaks = seq(0, 200, by = 25)) +\n                   theme_stata() +\n                   theme(legend.position = \"none\", \n                         axis.text.y = element_text(angle = 0),\n                         axis.text.x = element_text(angle = 90, vjust = 0.5)) +\n                   geom_text(aes(label = paises))\n\ngrafico_nontop_animado &lt;- grafico_nontop + transition_reveal(año) \n\nanimate(grafico_nontop_animado, \n        renderer = gifski_renderer())\n\n\n\n\n\n\n\nEl grupo de los países con menor incremento en el precio, se puede observar un escenario de estancamiento y corrección post-crisis que contrasta radicalmente con el dinamismo del este de Europa. En este conjunto destaca Grecia como una anomalía bajista, donde los alquileres son nominalmente más bajos que en la década anterior debido al colapso de la demanda interna tras su crisis de deuda, mientras que economías mediterráneas como Italia y Chipre muestran una trayectoria casi plana fruto de un crecimiento económico débil. Por otro lado, la presencia de países con mercados tensos como España o Francia en esta parte baja del ranking responde en gran medida a la metodología del índice HICP, que al medir el stock completo de contratos (incluyendo rentas antiguas y renovaciones limitadas por ley) y no solo los nuevos alquileres de mercado, suaviza la curva de precios, reflejando así una Europa donde la regulación y la inercia contractual han blindado estadísticamente a los inquilinos estables frente a la volatilidad inflacionaria reciente."
  },
  {
    "objectID": "my_trabajo_BigData.html#año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras",
    "href": "my_trabajo_BigData.html#año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Año a año, ¿donde sube mas el alquiler? (Graficos de barras)",
    "text": "Año a año, ¿donde sube mas el alquiler? (Graficos de barras)\nEl análisis mediante gráficos nos permitirá obtener otros datos sobre la situación de la vivienda en Europa. A continuación veremos en cada año cuál es el país en el que más ha subido el precio del alquiler con respecto al año anterior.\n\nDesplegar codigomy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\") \n\ndf_alquileres_anual &lt;- df %&gt;%\n                  filter(coicop == \"CP041\",\n                         unit == \"RCH_A_AVG\",\n                  !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                     \"EA\", \"EA20\",\"EA19\", \"US\", \n                     \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                     \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                  dplyr::rename(país = geo,\n                         año = TIME_PERIOD) %&gt;%\n                  select(-freq) \n\n\n#TOP (Porcentaje del incremento anual del precio del alquiler del páis donde más ha crecido ese año)\ndf_top &lt;- df_alquileres_anual %&gt;%\n           group_by(año) %&gt;%\n           slice_max(order_by = values, n = 1) %&gt;%\n           ungroup() %&gt;%\n           arrange(año)\n\ngráfico_barras_TOP &lt;- ggplot(df_top, aes(x = año, y = values, fill = país)) +\n                       geom_col() +\n                       labs(title = \"Gráfico 3: Porcentaje del incremento anual del precio\\ndel alquiler del páis donde más ha crecido ese año (UE)\",\n                            x = \"Año\", y = \"Porcentaje del incremento anual\",\n                            caption = \"Eurostat 2025\") +\n                       theme_solarized() +\n                       geom_text(aes(label = país), angle = 90, hjust = 0) +\n                       scale_y_continuous(breaks = seq(0, 170, by = 12.5)) +\n                       theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                             legend.position = \"none\")\n\ngráfico_barras_TOP\n\n\n\n\n\n\n\nLa evolución de los precios muestra una clara transición de inestabilidad extrema a madurez de mercado, protagonizada casi exclusivamente por las economías de Europa del Este y los países bálticos. Se distinguen dos grandes etapas: un primer periodo de ajuste agresivo (1996-2008), marcado por la apertura post-soviética y la inflación previa a la entrada en el euro, que provocó subidas desorbitadas como el pico histórico de Bulgaria en 1998 (&gt;150%) o el de Rumanía en 2007; seguido de una segunda etapa de estabilización estructural (2009-2024) tras la crisis financiera, donde las subidas se han moderado drásticamente (situándose habitualmente por debajo del 25%) al haberse completado la convergencia económica de estos países con el resto de la Unión Europea."
  },
  {
    "objectID": "my_trabajo_BigData.html#y-dónde-menos",
    "href": "my_trabajo_BigData.html#y-dónde-menos",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Y dónde menos?",
    "text": "¿Y dónde menos?\n\nDesplegar codigo#NONTOP\ndf_nontop &lt;- df_alquileres_anual %&gt;%\n  group_by(año) %&gt;%\n  slice_min(order_by = values, n = 1) %&gt;%\n  ungroup() %&gt;%\n  arrange(año)\n\ngráfico_barras_NONTOP &lt;- ggplot(df_nontop, aes(x = año, y = values, fill = país)) +\n                          geom_col() +\n                          labs(title = \"Gráfico 4: Porcentaje del incremento anual del precio\\ndel alquiler del páis donde menos ha crecido ese año (UE)\",\n       x = \"Año\", y = \"Porcentaje del incremento anual\",\n                          caption = \"Eurostat 2025\") +\n                          theme_solarized() +\n                          geom_text(aes(label = país), angle = 90, hjust = 0) +\n                          scale_y_continuous(breaks = seq(-40, 10, by = 5)) +\n                          theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                          legend.position = \"none\")\n\ngráfico_barras_NONTOP\n\n\n\n\n\n\n\nEste gráfico traza la historia de las crisis inmobiliarias europeas a través de los descensos de precios, identificando tres fases muy diferenciadas. Primero, una etapa de corrección violenta post-2008, donde las economías bálticas (Estonia y Lituania) sufrieron desplomes masivos de hasta un 30% al estallar sus burbujas de crédito. Segundo, un largo periodo de deflación estructural en el sur (2012-2018), protagonizado casi en exclusiva por Grecia (EL), que encadenó casi una década de caídas constantes debido a su crisis de deuda y austeridad. Finalmente, el gráfico revela una tendencia actual preocupante tras 2021: la desaparición de las bajadas, ya que en los últimos años (2022-2024) las barras vuelven a ser positivas, indicando que hoy en día los precios suben incluso en los mercados más estancados de Europa.\nPara una más cómoda comparación:\n\nDesplegar codigolibrary(patchwork) #- utiliza el pkg \"patchwork\" para mostrar los 2 gráficos (p1 y p2) side-by-side\n\ngráfico_barras_TOP_v2 &lt;- ggplot(df_top, aes(x = año, y = values, fill = país)) +\n                       geom_col() +\n                       labs(x = \"Año\", y = \"Porcentaje del incremento anual\",\n                            caption = \"Eurostat 2025\") +\n                       theme_solarized() +\n                       geom_text(aes(label = país), angle = 90, hjust = 0) +\n                       scale_y_continuous(breaks = seq(0, 170, by = 12.5)) +\n                       theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                             legend.position = \"none\")\n\ngráfico_barras_NONTOP_v2 &lt;- ggplot(df_nontop, aes(x = año, y = values, fill = país)) +\n                          geom_col() +\n                          labs(x = \"Año\", y = \"Porcentaje del incremento anual\",\n                          caption = \"Eurostat 2025\") +\n                          theme_solarized() +\n                          geom_text(aes(label = país), angle = 90, hjust = 0) +\n                          scale_y_continuous(breaks = seq(-40, 10, by = 5)) +\n                          theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                          legend.position = \"none\")\n\ngráfico_barras_TOP_v2 + labs(title = \"Gráfico 5: Países donde más y menos ha incrementado\\nel precio de alquiler anual\") + gráfico_barras_NONTOP_v2"
  },
  {
    "objectID": "my_trabajo_BigData.html#donde-sube-más-el-alquiler",
    "href": "my_trabajo_BigData.html#donde-sube-más-el-alquiler",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Donde sube más el alquiler?",
    "text": "¿Donde sube más el alquiler?\n\nDesplegar codigodf_vivienda_promedios_maxs &lt;- df_FINAL_VIVIENDA %&gt;% \n                         group_by(CCAA) %&gt;%\n                         summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n                         ungroup() %&gt;%\n                         slice_max(media_var_anual, n = 5)\n                      \np2 &lt;- ggplot(df_vivienda_promedios_maxs, aes(x = forcats::fct_reorder(CCAA, media_var_anual), y = media_var_anual)) +\n  geom_col(fill = \"lightblue\") +\n  coord_flip() +\n  labs(title = \"Gráfico 9: Las 5 comunidades con una mayor variación\\nanual media del precio de alquiler\",\n       subtitle = \"Periodo comprendido entre 2002-2025\",\n       caption = \"Fuente: INE\",\n       x = \"Comunidades Autónomas\",\n       y = \"Variación anual media (%)\")\np2\n\n\n\n\n\n\n\nEl Gráfico 9 identifica las 5 comunidades autónomas con la mayor variación anual media en el precio del alquiler durante el periodo 2002-2025. Liderando la lista se encuentran las Islas Baleares, seguidas muy de cerca por Cataluña, ambas con una variación media superior al 2.1%. Las comunidades de Aragón, Comunidad de Madrid y País Vasco cierran el top 5, manteniendo también variaciones medias anuales por encima del 2.0% para todo el período. Se muestra en un plot de barras con las coordenas invertidas y con el paquete forcats utilizamos la funcion fct_reorder para ordenar de mayor a menor\nVemos la evolución de las 5 comunidades que han experimentado una mayor variación anual media del precio de alquiler durante los periodos 2002-2025. Primero hacemos el gráfico de lineas y luego con el paquete gganimate lo hacemos animado. Se puede ver una disminución de la variación anual en las 5 CCAA en el año 2010 debido a la crisis inmobiliaria.\n\nDesplegar codigodf_vivienda_maxs &lt;- df_FINAL_VIVIENDA %&gt;% \n                    filter(CCAA %in% \n                    c(\"04 Balears, Illes\",\"09 Cataluña\",\"02 Aragón\",\"13 Madrid, Comunidad de\",\"16 País Vasco\"))\n\np4 &lt;-  ggplot(df_vivienda_maxs, aes(x = Periodo_Fecha, y = var_anual_precio_alquiler, color = CCAA)) +\n       geom_line() +\n       labs(title = \"Gráfico 10: Evolución de la variación anual del precio del alquiler\\nde las 5 comunidades\",\n        subtitle = \"Periodo comprendido entre 2002-2025\",\n        caption = \"Fuente: INE\",\n        x = \"Periodo (años)\",\n        y = \"Variación anual (%)\",\n        color = \"Comunidades Autónomas\") \n\ngrafico_ani_top5 &lt;- p4 +\n  transition_reveal(Periodo_Fecha) +  \n  enter_fade() +\n  exit_fade()\n\ngrafico_ani_top5\n\n\n\n\n\n\n\nEl Gráfico 10 muestra que, aunque las 5 comunidades comenzaron el periodo 2002-2025 con tasas de crecimiento anual superiores al 4%, todas experimentaron una fuerte y simultánea caída hasta el entorno de 2014-2016, llegando incluso a tasas negativas. A partir de 2016, las variaciones se recuperaron y fluctuaron alrededor del 1% al 2.5%, con las Islas Baleares liderando el crecimiento en varios puntos y la Comunidad de Madrid mostrando una menor variación en el último periodo. En general, se observa una alta correlación en el ciclo de precios entre estas cinco comunidades."
  },
  {
    "objectID": "my_trabajo_BigData.html#mapa-de-coropletas-de-la-variacion-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "href": "my_trabajo_BigData.html#mapa-de-coropletas-de-la-variacion-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa de coropletas de la variacion anual promedio del precio de alquiler del periodo 2002-2025",
    "text": "Mapa de coropletas de la variacion anual promedio del precio de alquiler del periodo 2002-2025\n\nDesplegar codigo#Obtenemos el mapa del paquete del curso \n\ndf_mapa &lt;- pjpv.curso.R.2022::LAU2_prov_2020_canarias\n\n#Primero agregamos provincias para obtener geometrías para las CCAA (script)\n\nccaa &lt;- df_mapa %&gt;% \n  group_by(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) %&gt;% \n  summarise() %&gt;% \n  ungroup()\n\nplot(ccaa, max.plot = 1)\n\nstr(ccaa)\n#&gt; sf [19 × 4] (S3: sf/tbl_df/tbl/data.frame)\n#&gt;  $ ine_ccaa      : chr [1:19] \"01\" \"02\" \"03\" \"04\" ...\n#&gt;  $ ine_ccaa.n    : chr [1:19] \"Andalucía\" \"Aragón\" \"Asturias, Principado de\" \"Balears, Illes\" ...\n#&gt;  $ ine_ccaa.n.pjp: chr [1:19] \"Andalucía\" \"Aragón\" \"Asturias\" \"Illes Balears\" ...\n#&gt;  $ geometry      :sfc_GEOMETRY of length 19; first list element: List of 113\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:50997, 1:2] -4.27 -4.27 -4.27 -4.27 -4.27 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:24, 1:2] -3.39 -3.39 -3.39 -3.39 -3.39 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:177, 1:2] -3.04 -3.04 -3.04 -3.04 -3.04 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -3.03 -3.03 -3.03 -3.03 -3.03 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:13, 1:2] -2.57 -2.57 -2.57 -2.57 -2.57 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:22, 1:2] -2.19 -2.19 -2.19 -2.19 -2.19 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -2.19 -2.19 -2.19 -2.19 -2.19 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:22, 1:2] -2.19 -2.19 -2.19 -2.19 -2.19 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -2.17 -2.17 -2.17 -2.17 -2.18 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:15, 1:2] -2.05 -2.05 -2.05 -2.05 -2.05 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:18, 1:2] -2 -2 -2 -2 -2 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:39, 1:2] -1.89 -1.89 -1.89 -1.89 -1.89 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:22, 1:2] -1.82 -1.82 -1.82 -1.82 -1.82 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:22, 1:2] -1.82 -1.82 -1.82 -1.82 -1.82 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:9, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:10, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:14, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:10, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:10, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:11, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:11, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:9, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.77 -1.77 -1.77 -1.77 -1.77 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.76 -1.77 -1.77 -1.77 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.76 -1.76 -1.76 -1.76 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.76 -1.76 -1.76 -1.76 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:11, 1:2] -1.76 -1.76 -1.76 -1.76 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.76 -1.76 -1.76 -1.76 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.76 -1.76 -1.76 -1.76 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.76 -1.76 -1.76 -1.76 -1.76 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.75 -1.75 -1.75 -1.75 -1.75 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.75 -1.75 -1.75 -1.75 -1.75 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.74 -1.74 -1.74 -1.74 -1.74 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.74 -1.74 -1.74 -1.74 -1.74 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.74 -1.74 -1.74 -1.74 -1.74 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.74 -1.74 -1.74 -1.74 -1.74 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:10, 1:2] -1.74 -1.74 -1.74 -1.74 -1.74 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.73 -1.73 -1.73 -1.73 -1.73 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.73 -1.73 -1.73 -1.73 -1.73 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.73 -1.73 -1.73 -1.73 -1.73 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.73 -1.73 -1.73 -1.73 -1.73 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:9, 1:2] -1.73 -1.73 -1.73 -1.73 -1.73 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.73 -1.73 -1.73 -1.73 -1.73 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:11, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:10, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.72 -1.72 -1.72 -1.72 -1.72 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.71 -1.71 -1.71 -1.71 -1.71 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:11, 1:2] -1.71 -1.71 -1.71 -1.71 -1.71 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.71 -1.71 -1.71 -1.71 -1.71 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.71 -1.71 -1.71 -1.71 -1.71 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.71 -1.71 -1.71 -1.71 -1.71 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:12, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:5, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:10, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:9, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:9, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:7, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:14, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:8, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -1.7 -1.7 -1.7 -1.7 -1.7 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:37, 1:2] -1.65 -1.65 -1.65 -1.65 -1.65 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:36, 1:2] -1.65 -1.65 -1.65 -1.65 -1.65 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:25, 1:2] -6.47 -6.47 -6.47 -6.47 -6.47 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:6, 1:2] -6.46 -6.46 -6.46 -6.46 -6.46 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:49, 1:2] -6.32 -6.32 -6.32 -6.32 -6.32 ...\n#&gt;   ..$ :List of 1\n#&gt;   .. ..$ : num [1:19, 1:2] -6.22 -6.22 -6.22 -6.22 -6.22 ...\n#&gt;   .. [list output truncated]\n#&gt;   ..- attr(*, \"class\")= chr [1:3] \"XY\" \"MULTIPOLYGON\" \"sfg\"\n#&gt;  - attr(*, \"sf_column\")= chr \"geometry\"\n#&gt;  - attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..: NA NA NA\n#&gt;   ..- attr(*, \"names\")= chr [1:3] \"ine_ccaa\" \"ine_ccaa.n\" \"ine_ccaa.n.pjp\"\n\n#Modificamos nuestro dataframe creando la media de todas las CCAAs. También creamos la columna común\n\ndf_vivienda_promedios &lt;- df_FINAL_VIVIENDA %&gt;% \n  group_by(CCAA) %&gt;%\n  summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n  filter(CCAA != \"Nacional\") %&gt;%\n  ungroup()%&gt;%\n  mutate( ine_ccaa = str_pad( string = row_number(), \n    width = 2,            \n    pad = \"0\",           \n    side = \"left\"), \n    .before = CCAA)\n\nstr(df_vivienda_promedios)\n#&gt; tibble [19 × 3] (S3: tbl_df/tbl/data.frame)\n#&gt;  $ ine_ccaa       : chr [1:19] \"01\" \"02\" \"03\" \"04\" ...\n#&gt;  $ CCAA           : Factor w/ 20 levels \"Nacional\",\"01 Andalucía\",..: 2 3 4 5 6 7 8 9 10 11 ...\n#&gt;  $ media_var_anual: num [1:19] 2.02 2.16 1.74 2.32 1.58 ...\n\n\n#Con la función left_join creamos nuestro dataframe preparado para hacer el plot de coropletas\n\ndf_mapa &lt;- left_join(ccaa, df_vivienda_promedios, by = \"ine_ccaa\") %&gt;%\n           select(ine_ccaa,ine_ccaa.n,geometry,media_var_anual)\n\n#Con print podemos ver la estructura del df en la consola\n\nprint(df_mapa)\n#&gt; Simple feature collection with 19 features and 3 fields\n#&gt; Geometry type: GEOMETRY\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: -11.90152 ymin: 35.17045 xmax: 4.327785 ymax: 43.79238\n#&gt; Geodetic CRS:  ETRS89\n#&gt; # A tibble: 19 × 4\n#&gt;    ine_ccaa ine_ccaa.n                                  geometry media_var_anual\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;GEOMETRY [°]&gt;           &lt;dbl&gt;\n#&gt;  1 01       Andalucía                  MULTIPOLYGON (((-4.26887…            2.02\n#&gt;  2 02       Aragón                     POLYGON ((-1.571136 40.2…            2.16\n#&gt;  3 03       Asturias, Principado de    MULTIPOLYGON (((-7.13843…            1.74\n#&gt;  4 04       Balears, Illes             MULTIPOLYGON (((1.157426…            2.32\n#&gt;  5 05       Canarias                   MULTIPOLYGON (((-9.56273…            1.58\n#&gt;  6 06       Cantabria                  MULTIPOLYGON (((-4.77327…            1.95\n#&gt;  7 07       Castilla y León            MULTIPOLYGON (((-4.08134…            1.61\n#&gt;  8 08       Castilla-La Mancha         MULTIPOLYGON (((-3.38046…            1.66\n#&gt;  9 09       Cataluña                   MULTIPOLYGON (((0.615536…            2.25\n#&gt; 10 10       Comunitat Valenciana       MULTIPOLYGON (((-1.41691…            1.97\n#&gt; 11 11       Extremadura                POLYGON ((-7.474915 39.5…            1.58\n#&gt; 12 12       Galicia                    MULTIPOLYGON (((-8.94933…            1.84\n#&gt; 13 13       Madrid, Comunidad de       MULTIPOLYGON (((-4.45567…            2.06\n#&gt; 14 14       Murcia, Región de          MULTIPOLYGON (((-2.29836…            1.59\n#&gt; 15 15       Navarra, Comunidad Foral … MULTIPOLYGON (((-2.42493…            1.37\n#&gt; 16 16       País Vasco                 MULTIPOLYGON (((-2.41260…            2.04\n#&gt; 17 17       Rioja, La                  POLYGON ((-3.091347 42.5…            1.50\n#&gt; 18 18       Ceuta                      MULTIPOLYGON (((-5.38192…            1.84\n#&gt; 19 19       Melilla                    MULTIPOLYGON (((-4.29690…            1.74\n\n#Creamos el dataframe con los cuartiles \n\ndf_mapa_ntiles &lt;- df_mapa %&gt;%\n   mutate(CLASE_COROPLETAS_NTILE = ntile(media_var_anual, 4)) %&gt;%\n   mutate(\n    CLASE_COROPLETAS_NTILE = case_when(\n      CLASE_COROPLETAS_NTILE == 1 ~ \"Cuartil 1 - Variación Baja\",\n      CLASE_COROPLETAS_NTILE == 2 ~ \"Cuartil 2 - Variación Media-Baja\",\n      CLASE_COROPLETAS_NTILE == 3 ~ \"Cuartil 3 - Variación Media-Alta\",\n      CLASE_COROPLETAS_NTILE == 4 ~ \"Cuartil 4 - Variación Alta\"))\n \n#Convertimos la nueva columna a factor (Variable categórica)\n\ndf_mapa_ntiles$CLASE_COROPLETAS_NTILE &lt;- as.factor(df_mapa_ntiles$CLASE_COROPLETAS_NTILE)\n\n#Mapeamos\n\nggplot(data = df_mapa_ntiles) +\n  geom_sf(aes(fill = CLASE_COROPLETAS_NTILE),\n          color = \"Black\",\n          linewidth = 0.3) +\n  scale_fill_brewer(palette = \"Blues\",\n          name = \"Variación Anual Media\\n(Clasificación por Cuartiles)\") +\n  labs(title = \"Mapa 1: Variación Anual Media del precio del alquiler por CCAA\",\n          subtitle = \"Promedio obtenido de 2002-2025 (Expresado en variación porcentual)\",\n          caption = \"Fuente: Instituto Nacional de Estadística\") +\n  theme_void()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.2 (2025-10-31 ucrt)\n os       Windows 11 x64 (build 26200)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-15\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\PROGRA~1\\\\RStudio\\\\RESOUR~1\\\\app\\\\bin\\\\quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version    date (UTC) lib source\n assertthat          0.2.1      2019-03-21 [1] CRAN (R 4.5.2)\n backports           1.5.0      2024-05-23 [1] CRAN (R 4.5.2)\n bibtex              0.5.1      2023-01-26 [1] CRAN (R 4.5.2)\n bit                 4.6.0      2025-03-06 [1] CRAN (R 4.5.2)\n bit64               4.6.0-1    2025-01-16 [1] CRAN (R 4.5.2)\n bslib               0.9.0      2025-01-30 [1] CRAN (R 4.5.2)\n cachem              1.1.0      2024-05-16 [1] CRAN (R 4.5.2)\n cellranger          1.1.0      2016-07-27 [1] CRAN (R 4.5.2)\n class               7.3-23     2025-01-01 [2] CRAN (R 4.5.2)\n classInt          * 0.4-11     2025-01-08 [1] CRAN (R 4.5.2)\n cli                 3.6.5      2025-04-23 [1] CRAN (R 4.5.2)\n clipr               0.8.0      2022-02-22 [1] CRAN (R 4.5.2)\n countrycode         1.6.1      2025-03-31 [1] CRAN (R 4.5.2)\n crayon              1.5.3      2024-06-20 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2      2025-08-26 [1] CRAN (R 4.5.2)\n curl                7.0.0      2025-08-19 [1] CRAN (R 4.5.2)\n data.table          1.17.8     2025-07-10 [1] CRAN (R 4.5.2)\n DBI                 1.2.3      2024-06-02 [1] CRAN (R 4.5.2)\n desc                1.4.3      2023-12-10 [1] CRAN (R 4.5.2)\n details             0.4.0      2025-02-09 [1] CRAN (R 4.5.2)\n devtools            2.4.6      2025-10-03 [1] CRAN (R 4.5.2)\n digest              0.6.39     2025-11-19 [1] CRAN (R 4.5.2)\n dplyr             * 1.1.4      2023-11-17 [1] CRAN (R 4.5.2)\n DT                * 0.34.0     2025-09-02 [1] CRAN (R 4.5.2)\n e1071               1.7-16     2024-09-16 [1] CRAN (R 4.5.2)\n ellipsis            0.3.2      2021-04-29 [1] CRAN (R 4.5.2)\n eurostat          * 4.0.0      2023-12-19 [1] CRAN (R 4.5.2)\n evaluate            1.0.5      2025-08-27 [1] CRAN (R 4.5.2)\n farver              2.1.2      2024-05-13 [1] CRAN (R 4.5.2)\n fastmap             1.2.0      2024-05-15 [1] CRAN (R 4.5.2)\n fontawesome         0.5.3      2024-11-16 [1] CRAN (R 4.5.2)\n forcats           * 1.0.1      2025-09-25 [1] CRAN (R 4.5.2)\n fs                  1.6.6      2025-04-12 [1] CRAN (R 4.5.2)\n generics            0.1.4      2025-05-09 [1] CRAN (R 4.5.2)\n gganimate         * 1.0.11     2025-09-04 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.1      2025-11-14 [1] CRAN (R 4.5.2)\n ggthemes          * 5.2.0      2025-11-30 [1] CRAN (R 4.5.2)\n gifski            * 1.32.0-2   2025-03-18 [1] CRAN (R 4.5.2)\n giscoR            * 1.0.0      2025-12-10 [1] CRAN (R 4.5.2)\n glue                1.8.0      2024-09-30 [1] CRAN (R 4.5.2)\n gt                * 1.1.0      2025-09-23 [1] CRAN (R 4.5.2)\n gtable              0.3.6      2024-10-25 [1] CRAN (R 4.5.2)\n gtExtras          * 0.6.1      2025-10-10 [1] CRAN (R 4.5.2)\n here                1.0.2      2025-09-15 [1] CRAN (R 4.5.2)\n hms                 1.1.4      2025-10-17 [1] CRAN (R 4.5.2)\n htmltools           0.5.9      2025-12-04 [1] CRAN (R 4.5.2)\n htmlwidgets         1.6.4      2023-12-06 [1] CRAN (R 4.5.2)\n httr                1.4.7      2023-08-15 [1] CRAN (R 4.5.2)\n httr2               1.2.2      2025-12-08 [1] CRAN (R 4.5.2)\n ISOweek             0.6-2      2011-09-07 [1] CRAN (R 4.5.2)\n jquerylib           0.1.4      2021-04-26 [1] CRAN (R 4.5.2)\n jsonlite          * 2.0.0      2025-03-27 [1] CRAN (R 4.5.2)\n KernSmooth          2.23-26    2025-01-01 [2] CRAN (R 4.5.2)\n knitr               1.50       2025-03-16 [1] CRAN (R 4.5.2)\n labeling            0.4.3      2023-08-29 [1] CRAN (R 4.5.2)\n lifecycle           1.0.4      2023-11-07 [1] CRAN (R 4.5.2)\n lubridate         * 1.9.4      2024-12-08 [1] CRAN (R 4.5.2)\n magrittr            2.0.4      2025-09-12 [1] CRAN (R 4.5.2)\n memoise             2.0.1      2021-11-26 [1] CRAN (R 4.5.2)\n otel                0.2.0      2025-08-29 [1] CRAN (R 4.5.2)\n paletteer           1.6.0      2024-01-21 [1] CRAN (R 4.5.2)\n patchwork         * 1.3.2      2025-08-25 [1] CRAN (R 4.5.2)\n pillar              1.11.1     2025-09-17 [1] CRAN (R 4.5.2)\n pjpv.curso.R.2022   0.0.0.9000 2025-12-15 [1] Github (perezp44/pjpv.curso.R.2022@bd4dd73)\n pkgbuild            1.4.8      2025-05-26 [1] CRAN (R 4.5.2)\n pkgconfig           2.0.3      2019-09-22 [1] CRAN (R 4.5.2)\n pkgload             1.4.1      2025-09-23 [1] CRAN (R 4.5.2)\n plyr              * 1.8.9      2023-10-02 [1] CRAN (R 4.5.2)\n png                 0.1-8      2022-11-29 [1] CRAN (R 4.5.2)\n prettyunits         1.2.0      2023-09-24 [1] CRAN (R 4.5.2)\n progress            1.2.3      2023-12-06 [1] CRAN (R 4.5.2)\n proxy               0.4-28     2025-12-11 [1] CRAN (R 4.5.2)\n purrr             * 1.2.0      2025-11-04 [1] CRAN (R 4.5.2)\n pxR               * 0.42.8     2025-04-06 [1] CRAN (R 4.5.2)\n R6                  2.6.1      2025-02-15 [1] CRAN (R 4.5.2)\n ragg              * 1.5.0      2025-09-02 [1] CRAN (R 4.5.2)\n rappdirs            0.3.3      2021-01-31 [1] CRAN (R 4.5.2)\n RColorBrewer        1.1-3      2022-04-03 [1] CRAN (R 4.5.2)\n Rcpp                1.1.0      2025-07-02 [1] CRAN (R 4.5.2)\n readr             * 2.1.6      2025-11-14 [1] CRAN (R 4.5.2)\n readxl              1.4.5      2025-03-07 [1] CRAN (R 4.5.2)\n RefManageR          1.4.0      2022-09-30 [1] CRAN (R 4.5.2)\n regions             0.1.8      2021-06-21 [1] CRAN (R 4.5.2)\n rematch2            2.1.2      2020-05-01 [1] CRAN (R 4.5.2)\n remotes             2.5.0      2024-03-17 [1] CRAN (R 4.5.2)\n reshape2          * 1.4.5      2025-11-12 [1] CRAN (R 4.5.2)\n rlang               1.1.6      2025-04-11 [1] CRAN (R 4.5.2)\n rmarkdown           2.30       2025-09-28 [1] CRAN (R 4.5.2)\n rprojroot           2.1.1      2025-08-26 [1] CRAN (R 4.5.2)\n rstudioapi          0.17.1     2024-10-22 [1] CRAN (R 4.5.2)\n s2                  1.1.9      2025-05-23 [1] CRAN (R 4.5.2)\n S7                  0.2.1      2025-11-14 [1] CRAN (R 4.5.2)\n sass                0.4.10     2025-04-11 [1] CRAN (R 4.5.2)\n scales              1.4.0      2025-04-24 [1] CRAN (R 4.5.2)\n sessioninfo         1.2.3      2025-02-05 [1] CRAN (R 4.5.2)\n sf                * 1.0-23     2025-11-28 [1] CRAN (R 4.5.2)\n stringi             1.8.7      2025-03-27 [1] CRAN (R 4.5.2)\n stringr           * 1.6.0      2025-11-04 [1] CRAN (R 4.5.2)\n systemfonts         1.3.1      2025-10-01 [1] CRAN (R 4.5.2)\n textshaping         1.0.4      2025-10-10 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0      2025-06-08 [1] CRAN (R 4.5.2)\n tidyr             * 1.3.1      2024-01-24 [1] CRAN (R 4.5.2)\n tidyselect          1.2.1      2024-03-11 [1] CRAN (R 4.5.2)\n tidyverse         * 2.0.0      2023-02-22 [1] CRAN (R 4.5.2)\n timechange          0.3.0      2024-01-18 [1] CRAN (R 4.5.2)\n tweenr              2.0.3      2024-02-26 [1] CRAN (R 4.5.2)\n tzdb                0.5.0      2025-03-15 [1] CRAN (R 4.5.2)\n units               1.0-0      2025-10-09 [1] CRAN (R 4.5.2)\n usethis             3.2.1      2025-09-06 [1] CRAN (R 4.5.2)\n utf8                1.2.6      2025-06-08 [1] CRAN (R 4.5.2)\n vctrs               0.6.5      2023-12-01 [1] CRAN (R 4.5.2)\n vroom               1.6.7      2025-11-28 [1] CRAN (R 4.5.2)\n withr               3.0.2      2024-10-28 [1] CRAN (R 4.5.2)\n wk                  0.9.4      2024-10-11 [1] CRAN (R 4.5.2)\n xfun                0.54       2025-10-30 [1] CRAN (R 4.5.2)\n xml2                1.5.1      2025-12-01 [1] CRAN (R 4.5.2)\n yaml                2.3.12     2025-12-10 [1] CRAN (R 4.5.2)\n\n [1] C:/Users/Juan Pablo/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.2/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html",
    "href": "my_trabajo_BigData_v1.html",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "",
    "text": "En los últimos años la vivienda, tanto el alquiler como la compra de esta, se ha convertido en una de las principales preocupaciones de los españoles. Esto no es un fenómeno único de nuestro país, la situación es similar en otras partes de Europa y del mundo.\nPor esta razón hemos decidido investigar sobre este problema, empezando por observar ciertas variables a nivel continental, usando datos de Eurostat y de la OECD. Para luego continuar analizando la situación en España, con datos del INE.\nEn este documento, en algunos momentos puntuales también hablaremos sobre detalles del código que usamos para obtener lo que el lector vera.\nPrimero cargaremos los paquetes necesarios:\n\nDesplegar codigo#install.packages(\"eurostat\")\n#install.packages(\"tidyverse\")\n#install.packages(\"ggplot2\")\n#install.packages(\"gganimate\")\n#install.packages(\"ggthemes\")\n#install.packages(\"gt\")\n#install.packages(\"gtExtras\")\n#install.packages(\"tidyr\")\n#install.packages(\"sf\")\n#install.packages(\"giscoR\")\n#install.packages(\"ragg\")\n#install.packages(\"gifski\")\n#install.packages(\"lubridate\")\n#install.packages(\"DT\")\n#install.packages(\"pjpv.curso.R.2022\")\n#install.packages(\"classInt\")\n#install.packages(\"stringr\")\n#install.packages(\"pxR\")\n#install.packages(\"devtools\")\n\nlibrary(pxR)\nlibrary(eurostat)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(gganimate)\nlibrary(ggthemes)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(tidyr)\nlibrary(sf)        \nlibrary(giscoR)\nlibrary(ragg)\n\nlibrary(lubridate)\nlibrary(DT)\ndevtools::install_github(\"perezp44/pjpv.curso.R.2022\")\nlibrary(classInt)\nlibrary(stringr)\n\n#Usamos esto para solucionar problemas con los gráficos animados\nlibrary(gifski)"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#dónde-sube-más-el-alquiler-y-por-que",
    "href": "my_trabajo_BigData_v1.html#dónde-sube-más-el-alquiler-y-por-que",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Dónde sube más el alquiler y por que?",
    "text": "¿Dónde sube más el alquiler y por que?\nObtenemos el dataset de Eurostat, directamente usando el paquete del mismo nombre. En el dataset tenemos observaciones del cambio del precio del alquiler en el periodo 1996-2024, usando el año 2014 como base. Trabajamos el dataset para quitar países que no nos interesan y otras variables que no nos importan. Posteriormente obtenemos los seis países de la UE en los que más ha subido el precio del alquiler en el mencionado periodo. El dataset contiene observaciones sobre un conjunto de . Hay variables.\n\nDesplegar codigo#Escogemos los datos de la página de Eurostat\nmy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\n#Creamos el dataframe asociado al índice de IPC de Eurostat y filtramos\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\")   \n#&gt; \nindexed 0B in  0s, 0B/s\nindexed 2.15GB in  0s, 2.15GB/s\n                                                                              \n\ndf_alquileres_index &lt;- df %&gt;%\n                        filter(coicop == \"CP041\",\n                        !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                                    \"EA\", \"EA20\",\"EA19\", \"US\", \n                                    \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                                    \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                        label_eurostat() %&gt;%\n                        filter(unit == \"Annual average index\") %&gt;%\n                        dplyr::rename(paises = geo,\n                               año = TIME_PERIOD) %&gt;%\n                        mutate(año = as.numeric(año)) %&gt;%\n                        select(-freq) \n\n##Top (Los 6 que más han crecido desde 2015 hasta 2024)\ndf_alquileres_top_6_2024 &lt;- df_alquileres_index %&gt;%\n                             filter(año == 2024) %&gt;%\n                             slice_max(values, n=6) \n\ntabla_df_alquileres_top_6_2024 &lt;- df_alquileres_top_6_2024 %&gt;%\n                                   gt() %&gt;% \n                                   gt_theme_excel() %&gt;% \n                                   tab_header(title = \"Tabla 1: Incremento del precio del alquiler\\nen los 6 países que más ha crecido\",\n                                               subtitle = \"TOP 6\") %&gt;% \n                                   tab_footnote(footnote = \"Eurostat 2025\")\n\ntabla_df_alquileres_top_6_2024\n\n\n\n\n\n\nTabla 1: Incremento del precio del alquiler en los 6 países que más ha crecido\n\n\nTOP 6\n\n\nunit\ncoicop\npaises\naño\nvalues\n\n\n\n\nAnnual average index\nActual rentals for housing\nHungary\n2024\n187.10\n\n\nAnnual average index\nActual rentals for housing\nLithuania\n2024\n173.73\n\n\nAnnual average index\nActual rentals for housing\nSlovenia\n2024\n170.51\n\n\nAnnual average index\nActual rentals for housing\nPoland\n2024\n166.40\n\n\nAnnual average index\nActual rentals for housing\nIreland\n2024\n166.10\n\n\nAnnual average index\nActual rentals for housing\nIceland\n2024\n159.84\n\n\n\nEurostat 2025\n\n\n\n\n\n\n\nDesplegar codigotop_paises &lt;- df_alquileres_top_6_2024$paises\n\ndf_top &lt;- df_alquileres_index %&gt;%\n           filter(paises %in% top_paises)\n\n#Gráfico del top\ngrafico_top &lt;- ggplot(df_top, \n                      aes(x = año, y = values, color = paises)) +\n                geom_line(size = 1.4) +\n                labs(title = \"Gráfico 1: Incremento del precio del alquiler\\n(Base 2015) del TOP 6 Países\", \n                    x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                    caption = \"Fuente: Eurostat 2025\") +\n                scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n                scale_y_continuous(breaks = seq(0, 200, by = 25)) +\n                theme_stata() +\n                theme(legend.position = \"none\", \n                      axis.text.y = element_text(angle = 0),\n                      axis.text.x = element_text(angle = 90, vjust = 0.5)) +\n                geom_text(aes(label = paises))\n\ngrafico_top_animado &lt;- grafico_top + transition_reveal(año) \n\nanimate(grafico_top_animado, \n        renderer = gifski_renderer())\n\n\n\n\n\n\n\nLos países de Europa del Este han experimentado un crecimiento económico rápido que ha elevado los salarios, pero la oferta de vivienda no ha seguido el ritmo. Además, han tenido las tasas de inflación general más altas de la UE tras la crisis energética (súbida del precio desde 2021). También está la presencia de Irlanda por la escasez crónica de oferta: la alta demanda (impulsada por el sector tecnológico y la inmigración) choca con un mercado inmobiliario que no construye lo suficiente, provocando una de las crisis de alquiler más agudas de Europa occidental. Islandia es un caso particular por el Efecto Airbnb (Turismo masivo): Gran parte del parque de viviendas se ha destinado al alquiler turístico, reduciendo drásticamente la oferta para residentes y disparando los precios, sumado a su muy limitado terreno edificable y su alta inflación."
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#y-donde-sube-menos",
    "href": "my_trabajo_BigData_v1.html#y-donde-sube-menos",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Y donde sube menos?",
    "text": "¿Y donde sube menos?\n\nDesplegar codigo#Nontop (Los 6 que menos han crecido desde 2015 hasta 2024)\ndf_alquileres_nontop_6_2024 &lt;- df_alquileres_index %&gt;%\n                                filter(año == 2024) %&gt;%\n                                slice_min(values, n=6)\n\ntabla_df_alquileres_nontop_6_2024 &lt;- df_alquileres_nontop_6_2024 %&gt;%\n                                gt() %&gt;% \n                                gt_theme_excel() %&gt;% \n                                tab_header(title = \"Tabla 2: Incremento del precio del alquiler\\nen los 6 países que menos ha crecido\",\n                                           subtitle = \"NONTOP 6\") %&gt;% \n                                tab_footnote(footnote = \"Eurostat 2025\")\n\ntabla_df_alquileres_nontop_6_2024\n\n\n\n\n\n\nTabla 2: Incremento del precio del alquiler en los 6 países que menos ha crecido\n\n\nNONTOP 6\n\n\nunit\ncoicop\npaises\naño\nvalues\n\n\n\n\nAnnual average index\nActual rentals for housing\nGreece\n2024\n102.92\n\n\nAnnual average index\nActual rentals for housing\nFrance\n2024\n107.23\n\n\nAnnual average index\nActual rentals for housing\nItaly\n2024\n108.40\n\n\nAnnual average index\nActual rentals for housing\nSwitzerland\n2024\n110.81\n\n\nAnnual average index\nActual rentals for housing\nSpain\n2024\n110.93\n\n\nAnnual average index\nActual rentals for housing\nLuxembourg\n2024\n112.80\n\n\n\nEurostat 2025\n\n\n\n\n\n\nDesplegar codigo#Gráfico del nontop\nnontop_paises &lt;- df_alquileres_nontop_6_2024$paises\n\ndf_nontop &lt;- df_alquileres_index %&gt;%\n             filter(unit == \"Annual average index\",\n                    paises %in% nontop_paises)\n\ngrafico_nontop &lt;- ggplot(df_nontop, \n                         aes(x = año, y = values, color = paises)) +\n                   geom_line(size = 1.4) +\n                   labs(title = \"Gráfico 2: Incremento del precio del alquiler\\n(Base 2015) en los 6 Países que menos ha crecido\", \n                        x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                   caption = \"Fuente: Eurostat 2025\") +\n                   scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n                   scale_y_continuous(breaks = seq(0, 200, by = 25)) +\n                   theme_stata() +\n                   theme(legend.position = \"none\", \n                         axis.text.y = element_text(angle = 0),\n                         axis.text.x = element_text(angle = 90, vjust = 0.5)) +\n                   geom_text(aes(label = paises))\n\ngrafico_nontop_animado &lt;- grafico_nontop + transition_reveal(año) \n\nanimate(grafico_nontop_animado, \n        renderer = gifski_renderer())\n\n\n\n\n\n\n\nEl grupo de los países con menor incremento en el precio, se puede observar un escenario de estancamiento y corrección post-crisis que contrasta radicalmente con el dinamismo del este de Europa. En este conjunto destaca Grecia como una anomalía bajista, donde los alquileres son nominalmente más bajos que en la década anterior debido al colapso de la demanda interna tras su crisis de deuda, mientras que economías mediterráneas como Italia y Chipre muestran una trayectoria casi plana fruto de un crecimiento económico débil. Por otro lado, la presencia de países con mercados tensos como España o Francia en esta parte baja del ranking responde en gran medida a la metodología del índice HICP, que al medir el stock completo de contratos (incluyendo rentas antiguas y renovaciones limitadas por ley) y no solo los nuevos alquileres de mercado, suaviza la curva de precios, reflejando así una Europa donde la regulación y la inercia contractual han blindado estadísticamente a los inquilinos estables frente a la volatilidad inflacionaria reciente."
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras",
    "href": "my_trabajo_BigData_v1.html#año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Año a año, ¿donde sube mas el alquiler? (Graficos de barras)",
    "text": "Año a año, ¿donde sube mas el alquiler? (Graficos de barras)\nEl análisis mediante gráficos nos permitirá obtener otros datos sobre la situación de la vivienda en Europa. A continuación veremos en cada año cuál es el país en el que más ha subido el precio del alquiler con respecto al año anterior.\n\nDesplegar codigomy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\") \n\ndf_alquileres_anual &lt;- df %&gt;%\n                  filter(coicop == \"CP041\",\n                         unit == \"RCH_A_AVG\",\n                  !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                     \"EA\", \"EA20\",\"EA19\", \"US\", \n                     \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                     \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                  dplyr::rename(país = geo,\n                         año = TIME_PERIOD) %&gt;%\n                  select(-freq) \n\n\n#TOP (Porcentaje del incremento anual del precio del alquiler del páis donde más ha crecido ese año)\ndf_top &lt;- df_alquileres_anual %&gt;%\n           group_by(año) %&gt;%\n           slice_max(order_by = values, n = 1) %&gt;%\n           ungroup() %&gt;%\n           arrange(año)\n\ngráfico_barras_TOP &lt;- ggplot(df_top, aes(x = año, y = values, fill = país)) +\n                       geom_col() +\n                       labs(title = \"Gráfico 3: Porcentaje del incremento anual del precio\\ndel alquiler del páis donde más ha crecido ese año (UE)\",\n                            x = \"Año\", y = \"Porcentaje del incremento anual\",\n                            caption = \"Eurostat 2025\") +\n                       theme_solarized() +\n                       geom_text(aes(label = país), angle = 90, hjust = 0) +\n                       scale_y_continuous(breaks = seq(0, 170, by = 12.5)) +\n                       theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                             legend.position = \"none\")\n\ngráfico_barras_TOP\n\n\n\n\n\n\n\nLa evolución de los precios muestra una clara transición de inestabilidad extrema a madurez de mercado, protagonizada casi exclusivamente por las economías de Europa del Este y los países bálticos. Se distinguen dos grandes etapas: un primer periodo de ajuste agresivo (1996-2008), marcado por la apertura post-soviética y la inflación previa a la entrada en el euro, que provocó subidas desorbitadas como el pico histórico de Bulgaria en 1998 (&gt;150%) o el de Rumanía en 2007; seguido de una segunda etapa de estabilización estructural (2009-2024) tras la crisis financiera, donde las subidas se han moderado drásticamente (situándose habitualmente por debajo del 25%) al haberse completado la convergencia económica de estos países con el resto de la Unión Europea."
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#y-dónde-menos",
    "href": "my_trabajo_BigData_v1.html#y-dónde-menos",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Y dónde menos?",
    "text": "¿Y dónde menos?\n\nDesplegar codigo#NONTOP\ndf_nontop &lt;- df_alquileres_anual %&gt;%\n  group_by(año) %&gt;%\n  slice_min(order_by = values, n = 1) %&gt;%\n  ungroup() %&gt;%\n  arrange(año)\n\ngráfico_barras_NONTOP &lt;- ggplot(df_nontop, aes(x = año, y = values, fill = país)) +\n                          geom_col() +\n                          labs(title = \"Gráfico 4: Porcentaje del incremento anual del precio\\ndel alquiler del páis donde menos ha crecido ese año (UE)\",\n       x = \"Año\", y = \"Porcentaje del incremento anual\",\n                          caption = \"Eurostat 2025\") +\n                          theme_solarized() +\n                          geom_text(aes(label = país), angle = 90, hjust = 0) +\n                          scale_y_continuous(breaks = seq(-40, 10, by = 5)) +\n                          theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                          legend.position = \"none\")\n\ngráfico_barras_NONTOP\n\n\n\n\n\n\n\nEste gráfico traza la historia de las crisis inmobiliarias europeas a través de los descensos de precios, identificando tres fases muy diferenciadas. Primero, una etapa de corrección violenta post-2008, donde las economías bálticas (Estonia y Lituania) sufrieron desplomes masivos de hasta un 30% al estallar sus burbujas de crédito. Segundo, un largo periodo de deflación estructural en el sur (2012-2018), protagonizado casi en exclusiva por Grecia (EL), que encadenó casi una década de caídas constantes debido a su crisis de deuda y austeridad. Finalmente, el gráfico revela una tendencia actual preocupante tras 2021: la desaparición de las bajadas, ya que en los últimos años (2022-2024) las barras vuelven a ser positivas, indicando que hoy en día los precios suben incluso en los mercados más estancados de Europa.\nPara una más cómoda comparación:\n\nDesplegar codigolibrary(patchwork) #- utiliza el pkg \"patchwork\" para mostrar los 2 gráficos (p1 y p2) side-by-side\n\ngráfico_barras_TOP_v2 &lt;- ggplot(df_top, aes(x = año, y = values, fill = país)) +\n                       geom_col() +\n                       labs(x = \"Año\", y = \"Porcentaje del incremento anual\",\n                            caption = \"Eurostat 2025\") +\n                       theme_solarized() +\n                       geom_text(aes(label = país), angle = 90, hjust = 0) +\n                       scale_y_continuous(breaks = seq(0, 170, by = 12.5)) +\n                       theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                             legend.position = \"none\")\n\ngráfico_barras_NONTOP_v2 &lt;- ggplot(df_nontop, aes(x = año, y = values, fill = país)) +\n                          geom_col() +\n                          labs(x = \"Año\", y = \"Porcentaje del incremento anual\",\n                          caption = \"Eurostat 2025\") +\n                          theme_solarized() +\n                          geom_text(aes(label = país), angle = 90, hjust = 0) +\n                          scale_y_continuous(breaks = seq(-40, 10, by = 5)) +\n                          theme(axis.text.x = element_text(angle = 90, vjust = 0.5),\n                          legend.position = \"none\")\n\ngráfico_barras_TOP_v2 + labs(title = \"Gráfico 5: Países donde más y menos ha incrementado\\nel precio de alquiler anual\") + gráfico_barras_NONTOP_v2"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#mapa-europa-quitado-por-problemas",
    "href": "my_trabajo_BigData_v1.html#mapa-europa-quitado-por-problemas",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa Europa QUITADO POR PROBLEMAS",
    "text": "Mapa Europa QUITADO POR PROBLEMAS\nLa evolución del incremento anual del precio del alquiler en la Unión Europea durante el periodo 1996-2024 muestra una trayectoria de encarecimiento progresivo, caracterizada por una heterogeneidad geográfica marcada y una aceleración reciente. Mientras que en las primeras décadas se observan tasas de variación moderadas y estables en gran parte de Europa Occidental, la animación revela cómo, tras la crisis financiera y especialmente en el periodo post-pandemia (2021-2024), la intensidad de las subidas se dispara. Los países de Europa del Este y los Estados Bálticos (Estonia, Lituania) tienden a ocupar frecuentemente las categorías de crecimiento “Muy alta” (colores más oscuros en tu escala magma) debido a un efecto de convergencia económica y alta inflación reciente, mientras que mercados más regulados como Alemania o Francia suelen mostrar un comportamiento más contenido, aunque con una tendencia alcista generalizada en los últimos fotogramas debido a la presión inflacionaria global."
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#oecd-boxplot",
    "href": "my_trabajo_BigData_v1.html#oecd-boxplot",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "OECD Boxplot",
    "text": "OECD Boxplot\nCambiamos ahora de fuente. Haciendo uso de los datos de la OECD y mediante un diagrama de cajas observamos la dinámica de la inflación de los alquileres (el ritmo al que suben los precios anualmente), revelando un comportamiento cíclico dramático. Tras dos décadas de relativa estabilidad y una fase de enfriamiento notable entre 2010 y 2020, donde las subidas anuales se moderaron hasta caer cerca del 1% de mediana, se observa una ruptura estructural a partir de 2021. En los últimos tres años (2022-2024), la tendencia se invierte bruscamente con un ascenso vertical, llevando la mediana de incremento anual por encima del 4%, niveles inéditos en la serie histórica. Además, el alargamiento vertical de las cajas en este último periodo indica una mayor volatilidad y disparidad: mientras antes los países se comportaban de forma homogénea, ahora las diferencias en la intensidad de las subidas entre unos mercados y otros son extremas.\n\nDesplegar codigourl_ocde &lt;- \"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.PA.CP041.N.?startPeriod=1996&endPeriod=2024&dimensionAtObservation=AllDimensions&format=csvfilewithlabels\"\n\n#Creamos el archivo y descargamos los datos\ndir.create(\"datos\")\n\nruta_ocde &lt;- \"./datos/alquileres_ocde_anual.csv\"\n\ncurl::curl_download(url_ocde, ruta_ocde) \n\nalquileres_ocde &lt;- read_csv(ruta_ocde)\n\n#Filtramos los datos\n\nalquileres_ocde_anual &lt;- alquileres_ocde %&gt;%\n                          select(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         `Reference area`, TIME_PERIOD, OBS_VALUE) %&gt;%\n                          mutate(año = TIME_PERIOD,\n                                 values = OBS_VALUE,\n                                 país = `Reference area`) \n#Creamos el gráfico\ngráfico &lt;- ggplot(alquileres_ocde_anual, aes(x = año,  y = values)) +\n      geom_boxplot(aes(group = año, fill = as.factor(año)), outlier.shape = 8) + \n      geom_jitter(width = 0.15, alpha = 1/4, color = \"brown\") +\n      labs(title = \"Gráfico 6: Diagrama de cajas del inncremento anual del\\nprecio del alquiler G-12\", \n           x = \"Año\", y = \"Porcentaje\",\n           caption = \"Fuente: OCDE 2025\") +\n      theme_solarized() + \n      stat_summary(fun = mean, geom = \"line\", color = \"black\", size = 1.2) +               scale_x_continuous(breaks = seq(1996, 2024, by = 1)) +\n      theme(axis.text.x = element_text(angle = 90),\n            legend.position = \"none\")\n\ngráfico"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#oecd-animación",
    "href": "my_trabajo_BigData_v1.html#oecd-animación",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "OECD Animación",
    "text": "OECD Animación\n\nDesplegar codigourl_ocde &lt;- \"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.IX.CP041.N.?startPeriod=1996&endPeriod=2024&dimensionAtObservation=AllDimensions&format=csvfilewithlabels\"\n\n#Creamos el archivo y descargamos los datos\ndir.create(\"datos\")\n\nruta_ocde &lt;- \"./datos/alquileres_ocde.csv\"\n\ncurl::curl_download(url_ocde, ruta_ocde) \n\nalquileres_ocde &lt;- read_csv(ruta_ocde)\n\n#Filtramos los datos\nalquileres_ocde &lt;- alquileres_ocde %&gt;%\n                   select(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         `Reference area`, TIME_PERIOD, OBS_VALUE) %&gt;%\n                   mutate(año = TIME_PERIOD,\n                          values = OBS_VALUE,\n                          país = `Reference area`)\n  \n#Creamos el gráfico \ngráfico &lt;- ggplot(alquileres_ocde, aes(x = año, y = values, color = país)) +\n            geom_line(size = 1.4) +\n            labs(title = \"Gráfico 7: Incremento del precio del alquiler (Base 2015) G-12\", \n                  x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                 caption = \"Fuente: OCDE 2025\") +\n            scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n            scale_y_continuous(breaks = seq(50, 150, by = 12.5),\n                               limits = c(50, 150),\n                               expand = c(0, 0)) +\n            theme_stata() +\n            theme(legend.position = \"none\",\n                  axis.text.x = element_text(angle = 90, vjust = 0.5),\n                  axis.text.y = element_text(angle = 0)) +\n            geom_text(aes(label = país))\n  \n#Animámos el gráfico\ngráfico_animado &lt;- gráfico + transition_reveal(año)+\n  enter_fade() + \n  exit_fade()\n\ngráfico_animado\n\n\n\n\n\n\n\nEl gráfico evidencia una tendencia alcista estructural y sostenida en el precio de los alquileres para las principales economías de la OCDE entre 1996 y 2024. Tomando 2015 como año base (índice 100), se observa cómo la totalidad de los países analizados parten de niveles inferiores (cercanos a los 50-60 puntos) a mediados de los noventa y experimentan un crecimiento constante e ininterrumpido a lo largo de las tres décadas. Aunque la pendiente varía según el país —reflejando distintas presiones inflacionarias locales—, la imagen general confirma un encarecimiento progresivo y universal del acceso a la vivienda en alquiler en el bloque occidental, situándose los valores actuales muy por encima de los registros históricos."
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#donde-sube-más-el-alquiler",
    "href": "my_trabajo_BigData_v1.html#donde-sube-más-el-alquiler",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Donde sube más el alquiler?",
    "text": "¿Donde sube más el alquiler?\n\nDesplegar codigodf_vivienda_promedios_maxs &lt;- df_FINAL_VIVIENDA %&gt;% \n                         group_by(CCAA) %&gt;%\n                         summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n                         ungroup() %&gt;%\n                         slice_max(media_var_anual, n = 5)\n                      \np2 &lt;- ggplot(df_vivienda_promedios_maxs, aes(x = forcats::fct_reorder(CCAA, media_var_anual), y = media_var_anual)) +\n  geom_col(fill = \"lightblue\") +\n  coord_flip() +\n  labs(title = \"Gráfico 9: Las 5 comunidades con una mayor variación\\nanual media del precio de alquiler\",\n       subtitle = \"Periodo comprendido entre 2002-2025\",\n       caption = \"Fuente: INE\",\n       x = \"Comunidades Autónomas\",\n       y = \"Variación anual media (%)\")\np2\n\n\n\n\n\n\n\nEl Gráfico 9 identifica las 5 comunidades autónomas con la mayor variación anual media en el precio del alquiler durante el periodo 2002-2025. Liderando la lista se encuentran las Islas Baleares, seguidas muy de cerca por Cataluña, ambas con una variación media superior al 2.1%. Las comunidades de Aragón, Comunidad de Madrid y País Vasco cierran el top 5, manteniendo también variaciones medias anuales por encima del 2.0% para todo el período. Se muestra en un plot de barras con las coordenas invertidas y con el paquete forcats utilizamos la funcion fct_reorder para ordenar de mayor a menor\nVemos la evolución de las 5 comunidades que han experimentado una mayor variación anual media del precio de alquiler durante los periodos 2002-2025. Primero hacemos el gráfico de lineas y luego con el paquete gganimate lo hacemos animado. Se puede ver una disminución de la variación anual en las 5 CCAA en el año 2010 debido a la crisis inmobiliaria.\n\nDesplegar codigodf_vivienda_maxs &lt;- df_FINAL_VIVIENDA %&gt;% \n                    filter(CCAA %in% \n                    c(\"04 Balears, Illes\",\"09 Cataluña\",\"02 Aragón\",\"13 Madrid, Comunidad de\",\"16 País Vasco\"))\n\np4 &lt;-  ggplot(df_vivienda_maxs, aes(x = Periodo_Fecha, y = var_anual_precio_alquiler, color = CCAA)) +\n       geom_line() +\n       labs(title = \"Gráfico 10: Evolución de la variación anual del precio del alquiler\\nde las 5 comunidades\",\n        subtitle = \"Periodo comprendido entre 2002-2025\",\n        caption = \"Fuente: INE\",\n        x = \"Periodo (años)\",\n        y = \"Variación anual (%)\",\n        color = \"Comunidades Autónomas\") \n\ngrafico_ani_top5 &lt;- p4 +\n  transition_reveal(Periodo_Fecha) +  \n  enter_fade() +\n  exit_fade()\n\ngrafico_ani_top5\n\n\n\n\n\n\n\nEl Gráfico 10 muestra que, aunque las 5 comunidades comenzaron el periodo 2002-2025 con tasas de crecimiento anual superiores al 4%, todas experimentaron una fuerte y simultánea caída hasta el entorno de 2014-2016, llegando incluso a tasas negativas. A partir de 2016, las variaciones se recuperaron y fluctuaron alrededor del 1% al 2.5%, con las Islas Baleares liderando el crecimiento en varios puntos y la Comunidad de Madrid mostrando una menor variación en el último periodo. En general, se observa una alta correlación en el ciclo de precios entre estas cinco comunidades."
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#mapa-de-coropletas-de-la-variacion-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "href": "my_trabajo_BigData_v1.html#mapa-de-coropletas-de-la-variacion-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa de coropletas de la variacion anual promedio del precio de alquiler del periodo 2002-2025",
    "text": "Mapa de coropletas de la variacion anual promedio del precio de alquiler del periodo 2002-2025\n\nDesplegar codigo#Obtenemos el mapa del paquete del curso \n\ndf_mapa &lt;- pjpv.curso.R.2022::LAU2_prov_2020_canarias\n\n#Primero agregamos provincias para obtener geometrías para las CCAA (script)\n\nccaa &lt;- df_mapa %&gt;% \n  group_by(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) %&gt;% \n  summarise() %&gt;% \n  ungroup()\n\n#Modificamos nuestro dataframe creando la media de todas las CCAAs. También creamos la columna común\n\ndf_vivienda_promedios &lt;- df_FINAL_VIVIENDA %&gt;% \n  group_by(CCAA) %&gt;%\n  summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n  filter(CCAA != \"Nacional\") %&gt;%\n  ungroup()%&gt;%\n  mutate( ine_ccaa = str_pad( string = row_number(), \n    width = 2,            \n    pad = \"0\",           \n    side = \"left\"), \n    .before = CCAA)\n\n#Con la función left_join creamos nuestro dataframe preparado para hacer el plot de coropletas\n\ndf_mapa &lt;- left_join(ccaa, df_vivienda_promedios, by = \"ine_ccaa\") %&gt;%\n           select(ine_ccaa,ine_ccaa.n,geometry,media_var_anual)\n\n#Con print podemos ver la estructura del df en la consola\n\nprint(df_mapa)\n#&gt; Simple feature collection with 19 features and 3 fields\n#&gt; Geometry type: GEOMETRY\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: -11.90152 ymin: 35.17045 xmax: 4.327785 ymax: 43.79238\n#&gt; Geodetic CRS:  ETRS89\n#&gt; # A tibble: 19 × 4\n#&gt;    ine_ccaa ine_ccaa.n                                  geometry media_var_anual\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;GEOMETRY [°]&gt;           &lt;dbl&gt;\n#&gt;  1 01       Andalucía                  MULTIPOLYGON (((-4.26887…            2.02\n#&gt;  2 02       Aragón                     POLYGON ((-1.571136 40.2…            2.16\n#&gt;  3 03       Asturias, Principado de    MULTIPOLYGON (((-7.13843…            1.74\n#&gt;  4 04       Balears, Illes             MULTIPOLYGON (((1.157426…            2.32\n#&gt;  5 05       Canarias                   MULTIPOLYGON (((-9.56273…            1.58\n#&gt;  6 06       Cantabria                  MULTIPOLYGON (((-4.77327…            1.95\n#&gt;  7 07       Castilla y León            MULTIPOLYGON (((-4.08134…            1.61\n#&gt;  8 08       Castilla-La Mancha         MULTIPOLYGON (((-3.38046…            1.66\n#&gt;  9 09       Cataluña                   MULTIPOLYGON (((0.615536…            2.25\n#&gt; 10 10       Comunitat Valenciana       MULTIPOLYGON (((-1.41691…            1.97\n#&gt; 11 11       Extremadura                POLYGON ((-7.474915 39.5…            1.58\n#&gt; 12 12       Galicia                    MULTIPOLYGON (((-8.94933…            1.84\n#&gt; 13 13       Madrid, Comunidad de       MULTIPOLYGON (((-4.45567…            2.06\n#&gt; 14 14       Murcia, Región de          MULTIPOLYGON (((-2.29836…            1.59\n#&gt; 15 15       Navarra, Comunidad Foral … MULTIPOLYGON (((-2.42493…            1.37\n#&gt; 16 16       País Vasco                 MULTIPOLYGON (((-2.41260…            2.04\n#&gt; 17 17       Rioja, La                  POLYGON ((-3.091347 42.5…            1.50\n#&gt; 18 18       Ceuta                      MULTIPOLYGON (((-5.38192…            1.84\n#&gt; 19 19       Melilla                    MULTIPOLYGON (((-4.29690…            1.74\n\n#Creamos el dataframe con los cuartiles \n\ndf_mapa_ntiles &lt;- df_mapa %&gt;%\n   mutate(CLASE_COROPLETAS_NTILE = ntile(media_var_anual, 4)) %&gt;%\n   mutate(\n    CLASE_COROPLETAS_NTILE = case_when(\n      CLASE_COROPLETAS_NTILE == 1 ~ \"Cuartil 1 - Variación Baja\",\n      CLASE_COROPLETAS_NTILE == 2 ~ \"Cuartil 2 - Variación Media-Baja\",\n      CLASE_COROPLETAS_NTILE == 3 ~ \"Cuartil 3 - Variación Media-Alta\",\n      CLASE_COROPLETAS_NTILE == 4 ~ \"Cuartil 4 - Variación Alta\"))\n \n#Mapeamos\n\nggplot(data = df_mapa_ntiles) +\n  geom_sf(aes(fill = CLASE_COROPLETAS_NTILE),\n          color = \"Black\",\n          linewidth = 0.3) +\n  scale_fill_brewer(palette = \"Blues\",\n          name = \"Variación Anual Media\\n(Clasificación por Cuartiles)\") +\n  labs(title = \"Mapa 2: Variación Anual Media del precio del alquiler por CCAA\",\n          subtitle = \"Promedio obtenido de 2002-2025 (Expresado en variación porcentual)\",\n          caption = \"Fuente: Instituto Nacional de Estadística\") +\n  theme_void()\n\n\n\n\n\n\n\nEn el Mapa 2 se observa la variación media anual del alquiler (2002-2025), muestra una fuerte dualidad territorial en España. Las subidas más altas (Cuartil 4) se concentran de forma clara en el Mediterráneo, lideradas por Cataluña y las Islas Baleares. La Comunidad de Madrid y la Comunidad Valenciana se sitúan en el cuartil de variación media-alta (Cuartil 3). En contraste, las regiones de la mitad oeste (Galicia, Extremadura, Castilla y León) presentan la variación más baja (Cuartil 1). El patrón subraya una mayor presión de la demanda en zonas costeras y en los principales centros económicos del país.\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.2 (2025-10-31 ucrt)\n os       Windows 11 x64 (build 26200)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-17\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\PROGRA~1\\\\RStudio\\\\RESOUR~1\\\\app\\\\bin\\\\quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version    date (UTC) lib source\n assertthat          0.2.1      2019-03-21 [1] CRAN (R 4.5.2)\n backports           1.5.0      2024-05-23 [1] CRAN (R 4.5.2)\n bibtex              0.5.1      2023-01-26 [1] CRAN (R 4.5.2)\n bit                 4.6.0      2025-03-06 [1] CRAN (R 4.5.2)\n bit64               4.6.0-1    2025-01-16 [1] CRAN (R 4.5.2)\n bslib               0.9.0      2025-01-30 [1] CRAN (R 4.5.2)\n cachem              1.1.0      2024-05-16 [1] CRAN (R 4.5.2)\n cellranger          1.1.0      2016-07-27 [1] CRAN (R 4.5.2)\n class               7.3-23     2025-01-01 [2] CRAN (R 4.5.2)\n classInt          * 0.4-11     2025-01-08 [1] CRAN (R 4.5.2)\n cli                 3.6.5      2025-04-23 [1] CRAN (R 4.5.2)\n clipr               0.8.0      2022-02-22 [1] CRAN (R 4.5.2)\n countrycode         1.6.1      2025-03-31 [1] CRAN (R 4.5.2)\n crayon              1.5.3      2024-06-20 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2      2025-08-26 [1] CRAN (R 4.5.2)\n curl                7.0.0      2025-08-19 [1] CRAN (R 4.5.2)\n data.table          1.17.8     2025-07-10 [1] CRAN (R 4.5.2)\n DBI                 1.2.3      2024-06-02 [1] CRAN (R 4.5.2)\n desc                1.4.3      2023-12-10 [1] CRAN (R 4.5.2)\n details             0.4.0      2025-02-09 [1] CRAN (R 4.5.2)\n devtools            2.4.6      2025-10-03 [1] CRAN (R 4.5.2)\n digest              0.6.39     2025-11-19 [1] CRAN (R 4.5.2)\n dplyr             * 1.1.4      2023-11-17 [1] CRAN (R 4.5.2)\n DT                * 0.34.0     2025-09-02 [1] CRAN (R 4.5.2)\n e1071               1.7-16     2024-09-16 [1] CRAN (R 4.5.2)\n ellipsis            0.3.2      2021-04-29 [1] CRAN (R 4.5.2)\n eurostat          * 4.0.0      2023-12-19 [1] CRAN (R 4.5.2)\n evaluate            1.0.5      2025-08-27 [1] CRAN (R 4.5.2)\n farver              2.1.2      2024-05-13 [1] CRAN (R 4.5.2)\n fastmap             1.2.0      2024-05-15 [1] CRAN (R 4.5.2)\n fontawesome         0.5.3      2024-11-16 [1] CRAN (R 4.5.2)\n forcats           * 1.0.1      2025-09-25 [1] CRAN (R 4.5.2)\n fs                  1.6.6      2025-04-12 [1] CRAN (R 4.5.2)\n generics            0.1.4      2025-05-09 [1] CRAN (R 4.5.2)\n gganimate         * 1.0.11     2025-09-04 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.1      2025-11-14 [1] CRAN (R 4.5.2)\n ggthemes          * 5.2.0      2025-11-30 [1] CRAN (R 4.5.2)\n gifski            * 1.32.0-2   2025-03-18 [1] CRAN (R 4.5.2)\n giscoR            * 1.0.0      2025-12-10 [1] CRAN (R 4.5.2)\n glue                1.8.0      2024-09-30 [1] CRAN (R 4.5.2)\n gt                * 1.1.0      2025-09-23 [1] CRAN (R 4.5.2)\n gtable              0.3.6      2024-10-25 [1] CRAN (R 4.5.2)\n gtExtras          * 0.6.1      2025-10-10 [1] CRAN (R 4.5.2)\n here                1.0.2      2025-09-15 [1] CRAN (R 4.5.2)\n hms                 1.1.4      2025-10-17 [1] CRAN (R 4.5.2)\n htmltools           0.5.9      2025-12-04 [1] CRAN (R 4.5.2)\n htmlwidgets         1.6.4      2023-12-06 [1] CRAN (R 4.5.2)\n httr                1.4.7      2023-08-15 [1] CRAN (R 4.5.2)\n httr2               1.2.2      2025-12-08 [1] CRAN (R 4.5.2)\n ISOweek             0.6-2      2011-09-07 [1] CRAN (R 4.5.2)\n jquerylib           0.1.4      2021-04-26 [1] CRAN (R 4.5.2)\n jsonlite          * 2.0.0      2025-03-27 [1] CRAN (R 4.5.2)\n KernSmooth          2.23-26    2025-01-01 [2] CRAN (R 4.5.2)\n knitr               1.50       2025-03-16 [1] CRAN (R 4.5.2)\n labeling            0.4.3      2023-08-29 [1] CRAN (R 4.5.2)\n lifecycle           1.0.4      2023-11-07 [1] CRAN (R 4.5.2)\n lubridate         * 1.9.4      2024-12-08 [1] CRAN (R 4.5.2)\n magrittr            2.0.4      2025-09-12 [1] CRAN (R 4.5.2)\n memoise             2.0.1      2021-11-26 [1] CRAN (R 4.5.2)\n otel                0.2.0      2025-08-29 [1] CRAN (R 4.5.2)\n paletteer           1.6.0      2024-01-21 [1] CRAN (R 4.5.2)\n patchwork         * 1.3.2      2025-08-25 [1] CRAN (R 4.5.2)\n pillar              1.11.1     2025-09-17 [1] CRAN (R 4.5.2)\n pjpv.curso.R.2022   0.0.0.9000 2025-12-15 [1] Github (perezp44/pjpv.curso.R.2022@bd4dd73)\n pkgbuild            1.4.8      2025-05-26 [1] CRAN (R 4.5.2)\n pkgconfig           2.0.3      2019-09-22 [1] CRAN (R 4.5.2)\n pkgload             1.4.1      2025-09-23 [1] CRAN (R 4.5.2)\n plyr              * 1.8.9      2023-10-02 [1] CRAN (R 4.5.2)\n png                 0.1-8      2022-11-29 [1] CRAN (R 4.5.2)\n prettyunits         1.2.0      2023-09-24 [1] CRAN (R 4.5.2)\n progress            1.2.3      2023-12-06 [1] CRAN (R 4.5.2)\n proxy               0.4-28     2025-12-11 [1] CRAN (R 4.5.2)\n purrr             * 1.2.0      2025-11-04 [1] CRAN (R 4.5.2)\n pxR               * 0.42.8     2025-04-06 [1] CRAN (R 4.5.2)\n R6                  2.6.1      2025-02-15 [1] CRAN (R 4.5.2)\n ragg              * 1.5.0      2025-09-02 [1] CRAN (R 4.5.2)\n rappdirs            0.3.3      2021-01-31 [1] CRAN (R 4.5.2)\n RColorBrewer        1.1-3      2022-04-03 [1] CRAN (R 4.5.2)\n Rcpp                1.1.0      2025-07-02 [1] CRAN (R 4.5.2)\n readr             * 2.1.6      2025-11-14 [1] CRAN (R 4.5.2)\n readxl              1.4.5      2025-03-07 [1] CRAN (R 4.5.2)\n RefManageR          1.4.0      2022-09-30 [1] CRAN (R 4.5.2)\n regions             0.1.8      2021-06-21 [1] CRAN (R 4.5.2)\n rematch2            2.1.2      2020-05-01 [1] CRAN (R 4.5.2)\n remotes             2.5.0      2024-03-17 [1] CRAN (R 4.5.2)\n reshape2          * 1.4.5      2025-11-12 [1] CRAN (R 4.5.2)\n rlang               1.1.6      2025-04-11 [1] CRAN (R 4.5.2)\n rmarkdown           2.30       2025-09-28 [1] CRAN (R 4.5.2)\n rprojroot           2.1.1      2025-08-26 [1] CRAN (R 4.5.2)\n rstudioapi          0.17.1     2024-10-22 [1] CRAN (R 4.5.2)\n s2                  1.1.9      2025-05-23 [1] CRAN (R 4.5.2)\n S7                  0.2.1      2025-11-14 [1] CRAN (R 4.5.2)\n sass                0.4.10     2025-04-11 [1] CRAN (R 4.5.2)\n scales              1.4.0      2025-04-24 [1] CRAN (R 4.5.2)\n sessioninfo         1.2.3      2025-02-05 [1] CRAN (R 4.5.2)\n sf                * 1.0-23     2025-11-28 [1] CRAN (R 4.5.2)\n stringi             1.8.7      2025-03-27 [1] CRAN (R 4.5.2)\n stringr           * 1.6.0      2025-11-04 [1] CRAN (R 4.5.2)\n systemfonts         1.3.1      2025-10-01 [1] CRAN (R 4.5.2)\n textshaping         1.0.4      2025-10-10 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0      2025-06-08 [1] CRAN (R 4.5.2)\n tidyr             * 1.3.1      2024-01-24 [1] CRAN (R 4.5.2)\n tidyselect          1.2.1      2024-03-11 [1] CRAN (R 4.5.2)\n tidyverse         * 2.0.0      2023-02-22 [1] CRAN (R 4.5.2)\n timechange          0.3.0      2024-01-18 [1] CRAN (R 4.5.2)\n tweenr              2.0.3      2024-02-26 [1] CRAN (R 4.5.2)\n tzdb                0.5.0      2025-03-15 [1] CRAN (R 4.5.2)\n units               1.0-0      2025-10-09 [1] CRAN (R 4.5.2)\n usethis             3.2.1      2025-09-06 [1] CRAN (R 4.5.2)\n utf8                1.2.6      2025-06-08 [1] CRAN (R 4.5.2)\n vctrs               0.6.5      2023-12-01 [1] CRAN (R 4.5.2)\n viridisLite         0.4.2      2023-05-02 [1] CRAN (R 4.5.2)\n vroom               1.6.7      2025-11-28 [1] CRAN (R 4.5.2)\n withr               3.0.2      2024-10-28 [1] CRAN (R 4.5.2)\n wk                  0.9.4      2024-10-11 [1] CRAN (R 4.5.2)\n xfun                0.54       2025-10-30 [1] CRAN (R 4.5.2)\n xml2                1.5.1      2025-12-01 [1] CRAN (R 4.5.2)\n yaml                2.3.12     2025-12-10 [1] CRAN (R 4.5.2)\n\n [1] C:/Users/Juan Pablo/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.2/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#mapa-europa",
    "href": "my_trabajo_BigData_v1.html#mapa-europa",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa Europa",
    "text": "Mapa Europa\n\nDesplegar codigomy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\") \n\ndf_alquileres_anual &lt;- df %&gt;%\n                        filter(coicop == \"CP041\",\n                               unit == \"RCH_A_AVG\",\n                        !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                                     \"EA\", \"EA20\",\"EA19\", \"US\", \n                                     \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                                     \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                         rename(país = geo,\n                                año = TIME_PERIOD) %&gt;%\n                         select(-freq) %&gt;%\n                         mutate(año = as.numeric(año))\n\nmapa_europa &lt;- gisco_get_nuts(year = \"2021\", \n                              resolution = \"20\", \n                              nuts_level = 0) %&gt;%\n                rename(país = NUTS_ID)\n\nmapa_animado_data &lt;- mapa_europa %&gt;%\n                      inner_join(df_alquileres_anual, by = \"país\") %&gt;%\n                      mutate(incremento_alquileres_grupos = factor(ntile(values, 5),\n                             labels = c(\"Muy baja\", \n                                        \"Baja\", \n                                        \"Moderado\",\n                                        \"Alta\", \n                                        \"Muy alta\")))\n\nanimacion &lt;- ggplot(mapa_animado_data) +\n              geom_sf(aes(fill = incremento_alquileres_grupos), \n                      color = \"white\", \n                      size = 0.1) +\n              scale_fill_viridis_d(option = \"magma\", direction = -1, \n                       name = \"Incremento del precio del alquiler (%)\") + \n              theme_void() +\n              coord_sf(xlim = c(-25, 45), ylim = c(34, 72)) +\n              labs(title = \"Mapa 1: Evolución del Incremento del alquiler entre 1996-2024 en la UE\",\n                   subtitle = \"Año: {current_frame}\",\n                   caption = \"Eurostat 2025\") +\n              transition_manual(año) +\n              ease_aes(\"linear\") \n\nanimate(animacion, renderer = gifski_renderer(), \n        duration = 35, \n        fps = 25, \n        width = 1000,\n        height = 600,\n        units = \"px\",\n        res = 150)\n\n\n\n\n\n\n\nLa evolución del incremento anual del precio del alquiler en la Unión Europea durante el periodo 1996-2024 muestra una trayectoria de encarecimiento progresivo, caracterizada por una heterogeneidad geográfica marcada y una aceleración reciente. Mientras que en las primeras décadas se observan tasas de variación moderadas y estables en gran parte de Europa Occidental, la animación revela cómo, tras la crisis financiera y especialmente en el periodo post-pandemia (2021-2024), la intensidad de las subidas se dispara. Los países de Europa del Este y los Estados Bálticos (Estonia, Lituania) tienden a ocupar frecuentemente las categorías de crecimiento “Muy alta” (colores más oscuros en tu escala magma) debido a un efecto de convergencia económica y alta inflación reciente, mientras que mercados más regulados como Alemania o Francia suelen mostrar un comportamiento más contenido, aunque con una tendencia alcista generalizada en los últimos fotogramas debido a la presión inflacionaria global."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "",
    "text": "Hola, somos Jorge Moreno, Victor Cloquell y Juan Pablo Endrino.\nEsta web sirve para presentar el trabajo en equipo para la asignatura “Programación y manejo de datos en la era Del Big Data”, optativa de GECO en la Facultad de Economía de la Universitat de València.\nLa web de la asignatura está aquí y los trabajos de mis compañeros de curso puedes verlos aquí.\nNuestro trabajo lleva por título : “La vivienda, una mirada a Europa y a España”. El objetivo es poder entender mejor la actual situación de los alquileres en los diferentes países del continente y en las diferentes comunidades de España. Además de enseñarle a Pedro las cosas que sabemos hacer con R :)\nEl trabajo puede verse aquí y las slides aquí.\n\n\nReutilizarCC BY 4.0"
  },
  {
    "objectID": "my_slides_BigData.html#en-europa-donde-sube-y-donde-no-sube-el-precio-del-alquiler",
    "href": "my_slides_BigData.html#en-europa-donde-sube-y-donde-no-sube-el-precio-del-alquiler",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "En Europa donde sube y donde no sube el precio del alquiler",
    "text": "En Europa donde sube y donde no sube el precio del alquiler\n\n\nTabla 1 (mal)\nTabla 2 (bien)\nCódigo correcto\n\n\n\n\n\n\n\n\n\n\nTabla 1: Incremento del precio del alquiler en los 6 países que más ha crecido\n\n\nTOP 6\n\n\nunit\ncoicop\npaises\naño\nvalues\n\n\n\n\nAnnual average index\nActual rentals for housing\nHungary\n2024\n187.10\n\n\nAnnual average index\nActual rentals for housing\nLithuania\n2024\n173.73\n\n\nAnnual average index\nActual rentals for housing\nSlovenia\n2024\n170.51\n\n\nAnnual average index\nActual rentals for housing\nPoland\n2024\n166.40\n\n\nAnnual average index\nActual rentals for housing\nIreland\n2024\n166.10\n\n\nAnnual average index\nActual rentals for housing\nIceland\n2024\n159.84\n\n\n\nEurostat 2025\n\n\n\n\n\nAl pasar una tabla de un archivo html a formato slides es necesario realizar ajustes de tamaño de la tabla y el texto que ahi dentro de esta para que se vea bien.\n\n\n\n\n\n\n\n\n\nTabla 2: Incremento del precio del alquiler en los 6 países que menos ha crecido\n\n\nNONTOP 6\n\n\nunit\ncoicop\npaises\naño\nvalues\n\n\n\n\nAnnual average index\nActual rentals for housing\nGreece\n2024\n102.92\n\n\nAnnual average index\nActual rentals for housing\nFrance\n2024\n107.23\n\n\nAnnual average index\nActual rentals for housing\nItaly\n2024\n108.40\n\n\nAnnual average index\nActual rentals for housing\nSwitzerland\n2024\n110.81\n\n\nAnnual average index\nActual rentals for housing\nSpain\n2024\n110.93\n\n\nAnnual average index\nActual rentals for housing\nLuxembourg\n2024\n112.80\n\n\n\nEurostat 2025\n\n\n\n\n\n\n\n\nCódigo#Nontop (Los 6 que menos han crecido desde 2015 hasta 2024)\ndf_alquileres_nontop_6_2024 &lt;- df_alquileres_index %&gt;%\n                                filter(año == 2024) %&gt;%\n                                slice_min(values, n=6)\n\ntabla_df_alquileres_nontop_6_2024 &lt;- df_alquileres_nontop_6_2024 %&gt;%\n                                gt() %&gt;% \n                                gt_theme_excel() %&gt;% \n                                tab_header(title = \"Tabla 2: Incremento del precio del alquiler\\nen los 6 países que menos ha crecido\",\n                                           subtitle = \"NONTOP 6\") %&gt;% \n                                tab_footnote(footnote = \"Eurostat 2025\") %&gt;%\n                                  tab_options(table.width = pct(100), table.font.size = \"18pt\", heading.title.font.size = \"30pt\", data_row.padding = \"8px\") \n\ntabla_df_alquileres_nontop_6_2024"
  },
  {
    "objectID": "my_slides_BigData.html#grafico-y-conclusiones",
    "href": "my_slides_BigData.html#grafico-y-conclusiones",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Grafico y conclusiones",
    "text": "Grafico y conclusiones\n\n\n\n\n\n\n\n\n\n\n\n\nVemos claramente como el año base es 2015.\n\n\n\nJapón (linea azul) no tiene apenas incremento en el precio de la vivienda.\n\n\n\nEstados Unidos (rosa), en cambio, lidera la carrera."
  },
  {
    "objectID": "my_slides_BigData.html#grafico-y-conclusiones-con-tabset",
    "href": "my_slides_BigData.html#grafico-y-conclusiones-con-tabset",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Grafico y conclusiones (con tabset)",
    "text": "Grafico y conclusiones (con tabset)\n\n\n\n\nGrafico\nCódigo\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCódigourl_ocde &lt;- \"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.IX.CP041.N.?startPeriod=1996&endPeriod=2024&dimensionAtObservation=AllDimensions&format=csvfilewithlabels\"\n\n#Creamos el archivo y descargamos los datos\ndir.create(\"datos\")\n\nruta_ocde &lt;- \"./datos/alquileres_ocde.csv\"\n\ncurl::curl_download(url_ocde, ruta_ocde) \n\nalquileres_ocde &lt;- read_csv(ruta_ocde)\n\n#Filtramos los datos\nalquileres_ocde &lt;- alquileres_ocde %&gt;%\n                   select(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         `Reference area`, TIME_PERIOD, OBS_VALUE) %&gt;%\n                   mutate(año = TIME_PERIOD,\n                          values = OBS_VALUE,\n                          país = `Reference area`)\n  \n#Creamos el gráfico \ngráfico &lt;- ggplot(alquileres_ocde, aes(x = año, y = values, color = país)) +\n            geom_line(size = 1.4) +\n            labs(title = \"Gráfico 7: Incremento del precio del alquiler (Base 2015) G-12\", \n                  x = \"Año\", y = \"Porcentaje (Base 2015)\",\n                 caption = \"Fuente: OCDE 2025\") +\n            scale_x_continuous(breaks = seq(1996, 2024, by = 2)) +\n            scale_y_continuous(breaks = seq(50, 150, by = 12.5),\n                               limits = c(50, 150),\n                               expand = c(0, 0)) +\n            theme_stata() +\n            theme(legend.position = \"none\",\n                  axis.text.x = element_text(angle = 90, vjust = 0.5),\n                  axis.text.y = element_text(angle = 0)) +\n            geom_text(aes(label = país))\n  \n#Animámos el gráfico\ngráfico_animado &lt;- gráfico + transition_reveal(año)+\n  enter_fade() + \n  exit_fade()\n\ngráfico_animado\n\n\n\n\n\n\n\nVemos claramente como el año base es 2015.\n\n\n\nJapón (linea azul) no tiene apenas incremento en el precio de la vivienda.\n\n\n\nEstados Unidos (rosa), en cambio, lidera la carrera."
  },
  {
    "objectID": "my_slides_BigData.html#mapa-dinámico",
    "href": "my_slides_BigData.html#mapa-dinámico",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa dinámico",
    "text": "Mapa dinámico"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#donde-baja-más-el-alquiler",
    "href": "my_trabajo_BigData_v1.html#donde-baja-más-el-alquiler",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Donde baja más el alquiler?",
    "text": "¿Donde baja más el alquiler?\nAhora, buscamos lo contrario, qué 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler en el periodo 2002-2025.En este hacemos lo mismo pero con las 8 comunidades con menor variación anual media. Aquí ningún valor supera el 1.75% de variación media y con el condicional ifelse destacamos que la comunidad que menos ha variado es Navarra. También utilizamos la función fct_reorder para ordenar de mayor a menor y quitamos la leyenda. El resto de comunidades de este grupo, incluyendo Melilla y Asturias, se mantienen en un rango muy estrecho de variaciones, confirmando que estas son las regiones donde el alquiler se ha moderado más.\n\nDesplegar codigodf_vivienda_promedios_mins &lt;- df_FINAL_VIVIENDA %&gt;% \n  group_by(CCAA) %&gt;%\n  summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n  ungroup() %&gt;%\n  slice_min(media_var_anual, n = 8)\n\np3 &lt;- ggplot(df_vivienda_promedios_mins, \n      aes(x = forcats::fct_reorder(CCAA, media_var_anual), y = media_var_anual, \n      fill = ifelse (CCAA == \"15 Navarra, Comunidad Foral de\", \"darkred\", \"lightblue\"))) +\n      geom_col() +\n      coord_flip() +\n      labs(title = \"Gráfico 11: Las 5 comunidades que han experimentado\\nuna menor variación anual media del precio de alquiler\",\n       subtitle = \"Periodo comprendido entre 2002-2025\",\n       caption = \"Fuente INE\",\n       x = \"Comunidades Autónomas\",\n       y = \"Variación anual media (%)\") +\n      theme(legend.position = \"none\")\np3\n\n\n\n\n\n\n\nMostramos los datos en una tabla con el paquete DT Utilizamos las opciones para dejarla mas limpia y la función formatRound para limitar la columna media_var_anual a 2 decimales\n\nDesplegar codigoDT::datatable(df_vivienda_promedios_mins,\n  options = list(dom = \"t\", columnDefs = list(list(targets = \"_all\", className = \"dt-center\"))),\n  caption = \"Tabla 3: Las 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler\") %&gt;% \n  formatRound(\"media_var_anual\", 2)"
  },
  {
    "objectID": "my_trabajo_BigData_v1.html#mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "href": "my_trabajo_BigData_v1.html#mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025",
    "text": "Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025\n\nDesplegar codigo#Obtenemos el mapa del paquete del curso \n\ndf_mapa &lt;- pjpv.curso.R.2022::LAU2_prov_2020_canarias\n\n#Primero agregamos provincias para obtener geometrías para las CCAA (script)\n\nccaa &lt;- df_mapa %&gt;% \n  group_by(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) %&gt;% \n  summarise() %&gt;% \n  ungroup()\n\n#Modificamos nuestro dataframe creando la media de todas las CCAAs. También creamos la columna común\n\ndf_vivienda_promedios &lt;- df_FINAL_VIVIENDA %&gt;% \n  group_by(CCAA) %&gt;%\n  summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n  filter(CCAA != \"Nacional\") %&gt;%\n  ungroup()%&gt;%\n  mutate( ine_ccaa = str_pad( string = row_number(), \n    width = 2,            \n    pad = \"0\",           \n    side = \"left\"), \n    .before = CCAA)\n\n#Con la función left_join creamos nuestro dataframe preparado para hacer el plot de coropletas\n\ndf_mapa &lt;- left_join(ccaa, df_vivienda_promedios, by = \"ine_ccaa\") %&gt;%\n           select(ine_ccaa,ine_ccaa.n,geometry,media_var_anual)\n\n#Con print podemos ver la estructura del df en la consola\n\nprint(df_mapa)\n#&gt; Simple feature collection with 19 features and 3 fields\n#&gt; Geometry type: GEOMETRY\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: -11.90152 ymin: 35.17045 xmax: 4.327785 ymax: 43.79238\n#&gt; Geodetic CRS:  ETRS89\n#&gt; # A tibble: 19 × 4\n#&gt;    ine_ccaa ine_ccaa.n                                  geometry media_var_anual\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;GEOMETRY [°]&gt;           &lt;dbl&gt;\n#&gt;  1 01       Andalucía                  MULTIPOLYGON (((-4.26887…            2.02\n#&gt;  2 02       Aragón                     POLYGON ((-1.571136 40.2…            2.16\n#&gt;  3 03       Asturias, Principado de    MULTIPOLYGON (((-7.13843…            1.74\n#&gt;  4 04       Balears, Illes             MULTIPOLYGON (((1.157426…            2.32\n#&gt;  5 05       Canarias                   MULTIPOLYGON (((-9.56273…            1.58\n#&gt;  6 06       Cantabria                  MULTIPOLYGON (((-4.77327…            1.95\n#&gt;  7 07       Castilla y León            MULTIPOLYGON (((-4.08134…            1.61\n#&gt;  8 08       Castilla-La Mancha         MULTIPOLYGON (((-3.38046…            1.66\n#&gt;  9 09       Cataluña                   MULTIPOLYGON (((0.615536…            2.25\n#&gt; 10 10       Comunitat Valenciana       MULTIPOLYGON (((-1.41691…            1.97\n#&gt; 11 11       Extremadura                POLYGON ((-7.474915 39.5…            1.58\n#&gt; 12 12       Galicia                    MULTIPOLYGON (((-8.94933…            1.84\n#&gt; 13 13       Madrid, Comunidad de       MULTIPOLYGON (((-4.45567…            2.06\n#&gt; 14 14       Murcia, Región de          MULTIPOLYGON (((-2.29836…            1.59\n#&gt; 15 15       Navarra, Comunidad Foral … MULTIPOLYGON (((-2.42493…            1.37\n#&gt; 16 16       País Vasco                 MULTIPOLYGON (((-2.41260…            2.04\n#&gt; 17 17       Rioja, La                  POLYGON ((-3.091347 42.5…            1.50\n#&gt; 18 18       Ceuta                      MULTIPOLYGON (((-5.38192…            1.84\n#&gt; 19 19       Melilla                    MULTIPOLYGON (((-4.29690…            1.74\n\n#Creamos el dataframe con los cuartiles \n\ndf_mapa_ntiles &lt;- df_mapa %&gt;%\n   mutate(CLASE_COROPLETAS_NTILE = ntile(media_var_anual, 4)) %&gt;%\n   mutate(\n    CLASE_COROPLETAS_NTILE = case_when(\n      CLASE_COROPLETAS_NTILE == 1 ~ \"Cuartil 1 - Variación Baja\",\n      CLASE_COROPLETAS_NTILE == 2 ~ \"Cuartil 2 - Variación Media-Baja\",\n      CLASE_COROPLETAS_NTILE == 3 ~ \"Cuartil 3 - Variación Media-Alta\",\n      CLASE_COROPLETAS_NTILE == 4 ~ \"Cuartil 4 - Variación Alta\"))\n \n#Mapeamos\n\nggplot(data = df_mapa_ntiles) +\n  geom_sf(aes(fill = CLASE_COROPLETAS_NTILE),\n          color = \"Black\",\n          linewidth = 0.3) +\n  scale_fill_brewer(palette = \"Blues\",\n          name = \"Variación Anual Media\\n(Clasificación por Cuartiles)\") +\n  labs(title = \"Mapa 2: Variación Anual Media del precio del alquiler por CCAA\",\n          subtitle = \"Promedio obtenido de 2002-2025 (Expresado en variación porcentual)\",\n          caption = \"Fuente: Instituto Nacional de Estadística\") +\n  theme_void()\n\n\n\n\n\n\n\nEn el Mapa 2 se observa la variación media anual del alquiler (2002-2025), muestra una fuerte dualidad territorial en España. Las subidas más altas (Cuartil 4) se concentran de forma clara en el Mediterráneo, lideradas por Cataluña y las Islas Baleares. La Comunidad de Madrid y la Comunidad Valenciana se sitúan en el cuartil de variación media-alta (Cuartil 3). En contraste, las regiones de la mitad oeste (Galicia, Extremadura, Castilla y León) presentan la variación más baja (Cuartil 1). El patrón subraya una mayor presión de la demanda en zonas costeras y en los principales centros económicos del país.\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.2 (2025-10-31 ucrt)\n os       Windows 11 x64 (build 26200)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-17\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\PROGRA~1\\\\RStudio\\\\RESOUR~1\\\\app\\\\bin\\\\quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version    date (UTC) lib source\n assertthat          0.2.1      2019-03-21 [1] CRAN (R 4.5.2)\n backports           1.5.0      2024-05-23 [1] CRAN (R 4.5.2)\n bibtex              0.5.1      2023-01-26 [1] CRAN (R 4.5.2)\n bit                 4.6.0      2025-03-06 [1] CRAN (R 4.5.2)\n bit64               4.6.0-1    2025-01-16 [1] CRAN (R 4.5.2)\n bslib               0.9.0      2025-01-30 [1] CRAN (R 4.5.2)\n cachem              1.1.0      2024-05-16 [1] CRAN (R 4.5.2)\n cellranger          1.1.0      2016-07-27 [1] CRAN (R 4.5.2)\n class               7.3-23     2025-01-01 [2] CRAN (R 4.5.2)\n classInt          * 0.4-11     2025-01-08 [1] CRAN (R 4.5.2)\n cli                 3.6.5      2025-04-23 [1] CRAN (R 4.5.2)\n clipr               0.8.0      2022-02-22 [1] CRAN (R 4.5.2)\n countrycode         1.6.1      2025-03-31 [1] CRAN (R 4.5.2)\n crayon              1.5.3      2024-06-20 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2      2025-08-26 [1] CRAN (R 4.5.2)\n curl                7.0.0      2025-08-19 [1] CRAN (R 4.5.2)\n data.table          1.17.8     2025-07-10 [1] CRAN (R 4.5.2)\n DBI                 1.2.3      2024-06-02 [1] CRAN (R 4.5.2)\n desc                1.4.3      2023-12-10 [1] CRAN (R 4.5.2)\n details             0.4.0      2025-02-09 [1] CRAN (R 4.5.2)\n devtools            2.4.6      2025-10-03 [1] CRAN (R 4.5.2)\n digest              0.6.39     2025-11-19 [1] CRAN (R 4.5.2)\n dplyr             * 1.1.4      2023-11-17 [1] CRAN (R 4.5.2)\n DT                * 0.34.0     2025-09-02 [1] CRAN (R 4.5.2)\n e1071               1.7-16     2024-09-16 [1] CRAN (R 4.5.2)\n ellipsis            0.3.2      2021-04-29 [1] CRAN (R 4.5.2)\n eurostat          * 4.0.0      2023-12-19 [1] CRAN (R 4.5.2)\n evaluate            1.0.5      2025-08-27 [1] CRAN (R 4.5.2)\n farver              2.1.2      2024-05-13 [1] CRAN (R 4.5.2)\n fastmap             1.2.0      2024-05-15 [1] CRAN (R 4.5.2)\n fontawesome         0.5.3      2024-11-16 [1] CRAN (R 4.5.2)\n forcats           * 1.0.1      2025-09-25 [1] CRAN (R 4.5.2)\n fs                  1.6.6      2025-04-12 [1] CRAN (R 4.5.2)\n generics            0.1.4      2025-05-09 [1] CRAN (R 4.5.2)\n gganimate         * 1.0.11     2025-09-04 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.1      2025-11-14 [1] CRAN (R 4.5.2)\n ggthemes          * 5.2.0      2025-11-30 [1] CRAN (R 4.5.2)\n gifski            * 1.32.0-2   2025-03-18 [1] CRAN (R 4.5.2)\n giscoR            * 1.0.0      2025-12-10 [1] CRAN (R 4.5.2)\n glue                1.8.0      2024-09-30 [1] CRAN (R 4.5.2)\n gt                * 1.1.0      2025-09-23 [1] CRAN (R 4.5.2)\n gtable              0.3.6      2024-10-25 [1] CRAN (R 4.5.2)\n gtExtras          * 0.6.1      2025-10-10 [1] CRAN (R 4.5.2)\n here                1.0.2      2025-09-15 [1] CRAN (R 4.5.2)\n hms                 1.1.4      2025-10-17 [1] CRAN (R 4.5.2)\n htmltools           0.5.9      2025-12-04 [1] CRAN (R 4.5.2)\n htmlwidgets         1.6.4      2023-12-06 [1] CRAN (R 4.5.2)\n httr                1.4.7      2023-08-15 [1] CRAN (R 4.5.2)\n httr2               1.2.2      2025-12-08 [1] CRAN (R 4.5.2)\n ISOweek             0.6-2      2011-09-07 [1] CRAN (R 4.5.2)\n jquerylib           0.1.4      2021-04-26 [1] CRAN (R 4.5.2)\n jsonlite          * 2.0.0      2025-03-27 [1] CRAN (R 4.5.2)\n KernSmooth          2.23-26    2025-01-01 [2] CRAN (R 4.5.2)\n knitr               1.50       2025-03-16 [1] CRAN (R 4.5.2)\n labeling            0.4.3      2023-08-29 [1] CRAN (R 4.5.2)\n lifecycle           1.0.4      2023-11-07 [1] CRAN (R 4.5.2)\n lubridate         * 1.9.4      2024-12-08 [1] CRAN (R 4.5.2)\n magrittr            2.0.4      2025-09-12 [1] CRAN (R 4.5.2)\n memoise             2.0.1      2021-11-26 [1] CRAN (R 4.5.2)\n otel                0.2.0      2025-08-29 [1] CRAN (R 4.5.2)\n paletteer           1.6.0      2024-01-21 [1] CRAN (R 4.5.2)\n patchwork         * 1.3.2      2025-08-25 [1] CRAN (R 4.5.2)\n pillar              1.11.1     2025-09-17 [1] CRAN (R 4.5.2)\n pjpv.curso.R.2022   0.0.0.9000 2025-12-15 [1] Github (perezp44/pjpv.curso.R.2022@bd4dd73)\n pkgbuild            1.4.8      2025-05-26 [1] CRAN (R 4.5.2)\n pkgconfig           2.0.3      2019-09-22 [1] CRAN (R 4.5.2)\n pkgload             1.4.1      2025-09-23 [1] CRAN (R 4.5.2)\n plyr              * 1.8.9      2023-10-02 [1] CRAN (R 4.5.2)\n png                 0.1-8      2022-11-29 [1] CRAN (R 4.5.2)\n prettyunits         1.2.0      2023-09-24 [1] CRAN (R 4.5.2)\n progress            1.2.3      2023-12-06 [1] CRAN (R 4.5.2)\n proxy               0.4-28     2025-12-11 [1] CRAN (R 4.5.2)\n purrr             * 1.2.0      2025-11-04 [1] CRAN (R 4.5.2)\n pxR               * 0.42.8     2025-04-06 [1] CRAN (R 4.5.2)\n R6                  2.6.1      2025-02-15 [1] CRAN (R 4.5.2)\n ragg              * 1.5.0      2025-09-02 [1] CRAN (R 4.5.2)\n rappdirs            0.3.3      2021-01-31 [1] CRAN (R 4.5.2)\n RColorBrewer        1.1-3      2022-04-03 [1] CRAN (R 4.5.2)\n Rcpp                1.1.0      2025-07-02 [1] CRAN (R 4.5.2)\n readr             * 2.1.6      2025-11-14 [1] CRAN (R 4.5.2)\n readxl              1.4.5      2025-03-07 [1] CRAN (R 4.5.2)\n RefManageR          1.4.0      2022-09-30 [1] CRAN (R 4.5.2)\n regions             0.1.8      2021-06-21 [1] CRAN (R 4.5.2)\n rematch2            2.1.2      2020-05-01 [1] CRAN (R 4.5.2)\n remotes             2.5.0      2024-03-17 [1] CRAN (R 4.5.2)\n reshape2          * 1.4.5      2025-11-12 [1] CRAN (R 4.5.2)\n rlang               1.1.6      2025-04-11 [1] CRAN (R 4.5.2)\n rmarkdown           2.30       2025-09-28 [1] CRAN (R 4.5.2)\n rprojroot           2.1.1      2025-08-26 [1] CRAN (R 4.5.2)\n rstudioapi          0.17.1     2024-10-22 [1] CRAN (R 4.5.2)\n s2                  1.1.9      2025-05-23 [1] CRAN (R 4.5.2)\n S7                  0.2.1      2025-11-14 [1] CRAN (R 4.5.2)\n sass                0.4.10     2025-04-11 [1] CRAN (R 4.5.2)\n scales              1.4.0      2025-04-24 [1] CRAN (R 4.5.2)\n sessioninfo         1.2.3      2025-02-05 [1] CRAN (R 4.5.2)\n sf                * 1.0-23     2025-11-28 [1] CRAN (R 4.5.2)\n stringi             1.8.7      2025-03-27 [1] CRAN (R 4.5.2)\n stringr           * 1.6.0      2025-11-04 [1] CRAN (R 4.5.2)\n systemfonts         1.3.1      2025-10-01 [1] CRAN (R 4.5.2)\n textshaping         1.0.4      2025-10-10 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0      2025-06-08 [1] CRAN (R 4.5.2)\n tidyr             * 1.3.1      2024-01-24 [1] CRAN (R 4.5.2)\n tidyselect          1.2.1      2024-03-11 [1] CRAN (R 4.5.2)\n tidyverse         * 2.0.0      2023-02-22 [1] CRAN (R 4.5.2)\n timechange          0.3.0      2024-01-18 [1] CRAN (R 4.5.2)\n tweenr              2.0.3      2024-02-26 [1] CRAN (R 4.5.2)\n tzdb                0.5.0      2025-03-15 [1] CRAN (R 4.5.2)\n units               1.0-0      2025-10-09 [1] CRAN (R 4.5.2)\n usethis             3.2.1      2025-09-06 [1] CRAN (R 4.5.2)\n utf8                1.2.6      2025-06-08 [1] CRAN (R 4.5.2)\n vctrs               0.6.5      2023-12-01 [1] CRAN (R 4.5.2)\n viridisLite         0.4.2      2023-05-02 [1] CRAN (R 4.5.2)\n vroom               1.6.7      2025-11-28 [1] CRAN (R 4.5.2)\n withr               3.0.2      2024-10-28 [1] CRAN (R 4.5.2)\n wk                  0.9.4      2024-10-11 [1] CRAN (R 4.5.2)\n xfun                0.54       2025-10-30 [1] CRAN (R 4.5.2)\n xml2                1.5.1      2025-12-01 [1] CRAN (R 4.5.2)\n yaml                2.3.12     2025-12-10 [1] CRAN (R 4.5.2)\n\n [1] C:/Users/Juan Pablo/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.2/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigData.html#mapa-europa",
    "href": "my_trabajo_BigData.html#mapa-europa",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa Europa",
    "text": "Mapa Europa\n\nDesplegar codigomy_table &lt;- \"prc_hicp_aind\"\n\neurostat::label_eurostat_tables(my_table)\n#&gt; [1] \"HICP - annual data (average index and rate of change)\"\n\ndf &lt;- eurostat::get_eurostat(my_table, time_format = \"raw\") \n\ndf_alquileres_anual &lt;- df %&gt;%\n                        filter(coicop == \"CP041\",\n                               unit == \"RCH_A_AVG\",\n                        !geo %in% c(\"EU27_2020\", \"EA19\", \"EU28\", \n                                     \"EA\", \"EA20\",\"EA19\", \"US\", \n                                     \"XK\", \"TR\", \"RS\", \"AL\", \"MK\", \n                                     \"ME\", \"UK\", \"EEA\", \"EU\")) %&gt;%\n                         rename(país = geo,\n                                año = TIME_PERIOD) %&gt;%\n                         select(-freq) %&gt;%\n                         mutate(año = as.numeric(año))\n\nmapa_europa &lt;- gisco_get_nuts(year = \"2021\", \n                              resolution = \"20\", \n                              nuts_level = 0) %&gt;%\n                rename(país = NUTS_ID)\n\nmapa_animado_data &lt;- mapa_europa %&gt;%\n                      inner_join(df_alquileres_anual, by = \"país\") %&gt;%\n                      mutate(incremento_alquileres_grupos = factor(ntile(values, 5),\n                             labels = c(\"Muy baja\", \n                                        \"Baja\", \n                                        \"Moderado\",\n                                        \"Alta\", \n                                        \"Muy alta\")))\n\nanimacion &lt;- ggplot(mapa_animado_data) +\n              geom_sf(aes(fill = incremento_alquileres_grupos), \n                      color = \"white\", \n                      size = 0.1) +\n              scale_fill_viridis_d(option = \"magma\", direction = -1, \n                       name = \"Incremento del precio del alquiler (%)\") + \n              theme_void() +\n              coord_sf(xlim = c(-25, 45), ylim = c(34, 72)) +\n              labs(title = \"Mapa 1: Evolución del Incremento del alquiler entre 1996-2024 en la UE\",\n                   subtitle = \"Año: {current_frame}\",\n                   caption = \"Eurostat 2025\") +\n              transition_manual(año) +\n              ease_aes(\"linear\") \n\nanimate(animacion, renderer = gifski_renderer(), \n        duration = 35, \n        fps = 25, \n        width = 1000,\n        height = 600,\n        units = \"px\",\n        res = 150)\n\n\n\n\n\n\n\nLa evolución del incremento anual del precio del alquiler en la Unión Europea durante el periodo 1996-2024 muestra una trayectoria de encarecimiento progresivo, caracterizada por una heterogeneidad geográfica marcada y una aceleración reciente. Mientras que en las primeras décadas se observan tasas de variación moderadas y estables en gran parte de Europa Occidental, la animación revela cómo, tras la crisis financiera y especialmente en el periodo post-pandemia (2021-2024), la intensidad de las subidas se dispara. Los países de Europa del Este y los Estados Bálticos (Estonia, Lituania) tienden a ocupar frecuentemente las categorías de crecimiento “Muy alta” (colores más oscuros en tu escala magma) debido a un efecto de convergencia económica y alta inflación reciente, mientras que mercados más regulados como Alemania o Francia suelen mostrar un comportamiento más contenido, aunque con una tendencia alcista generalizada en los últimos fotogramas debido a la presión inflacionaria global."
  },
  {
    "objectID": "my_trabajo_BigData.html#donde-baja-más-el-alquiler",
    "href": "my_trabajo_BigData.html#donde-baja-más-el-alquiler",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "¿Donde baja más el alquiler?",
    "text": "¿Donde baja más el alquiler?\nAhora, buscamos lo contrario, qué 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler en el periodo 2002-2025.En este hacemos lo mismo pero con las 8 comunidades con menor variación anual media. Aquí ningún valor supera el 1.75% de variación media y con el condicional ifelse destacamos que la comunidad que menos ha variado es Navarra. También utilizamos la función fct_reorder para ordenar de mayor a menor y quitamos la leyenda. El resto de comunidades de este grupo, incluyendo Melilla y Asturias, se mantienen en un rango muy estrecho de variaciones, confirmando que estas son las regiones donde el alquiler se ha moderado más.\n\nDesplegar codigodf_vivienda_promedios_mins &lt;- df_FINAL_VIVIENDA %&gt;% \n  group_by(CCAA) %&gt;%\n  summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n  ungroup() %&gt;%\n  slice_min(media_var_anual, n = 8)\n\np3 &lt;- ggplot(df_vivienda_promedios_mins, \n      aes(x = forcats::fct_reorder(CCAA, media_var_anual), y = media_var_anual, \n      fill = ifelse (CCAA == \"15 Navarra, Comunidad Foral de\", \"darkred\", \"lightblue\"))) +\n      geom_col() +\n      coord_flip() +\n      labs(title = \"Gráfico 11: Las 5 comunidades que han experimentado\\nuna menor variación anual media del precio de alquiler\",\n       subtitle = \"Periodo comprendido entre 2002-2025\",\n       caption = \"Fuente INE\",\n       x = \"Comunidades Autónomas\",\n       y = \"Variación anual media (%)\") +\n      theme(legend.position = \"none\")\np3\n\n\n\n\n\n\n\nMostramos los datos en una tabla con el paquete DT Utilizamos las opciones para dejarla mas limpia y la función formatRound para limitar la columna media_var_anual a 2 decimales\n\nDesplegar codigoDT::datatable(df_vivienda_promedios_mins,\n  options = list(dom = \"t\", columnDefs = list(list(targets = \"_all\", className = \"dt-center\"))),\n  caption = \"Tabla 3: Las 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler\") %&gt;% \n  formatRound(\"media_var_anual\", 2)"
  },
  {
    "objectID": "my_trabajo_BigData.html#mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "href": "my_trabajo_BigData.html#mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025",
    "title": "La vivienda, una mirada a Europa y a España",
    "section": "Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025",
    "text": "Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025\n\nDesplegar codigo#Obtenemos el mapa del paquete del curso \n\ndf_mapa &lt;- pjpv.curso.R.2022::LAU2_prov_2020_canarias\n\n#Primero agregamos provincias para obtener geometrías para las CCAA (script)\n\nccaa &lt;- df_mapa %&gt;% \n  group_by(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) %&gt;% \n  summarise() %&gt;% \n  ungroup()\n\n#Modificamos nuestro dataframe creando la media de todas las CCAAs. También creamos la columna común\n\ndf_vivienda_promedios &lt;- df_FINAL_VIVIENDA %&gt;% \n  group_by(CCAA) %&gt;%\n  summarise(media_var_anual = mean(var_anual_precio_alquiler))%&gt;%\n  filter(CCAA != \"Nacional\") %&gt;%\n  ungroup()%&gt;%\n  mutate( ine_ccaa = str_pad( string = row_number(), \n    width = 2,            \n    pad = \"0\",           \n    side = \"left\"), \n    .before = CCAA)\n\n#Con la función left_join creamos nuestro dataframe preparado para hacer el plot de coropletas\n\ndf_mapa &lt;- left_join(ccaa, df_vivienda_promedios, by = \"ine_ccaa\") %&gt;%\n           select(ine_ccaa,ine_ccaa.n,geometry,media_var_anual)\n\n#Con print podemos ver la estructura del df en la consola\n\nprint(df_mapa)\n#&gt; Simple feature collection with 19 features and 3 fields\n#&gt; Geometry type: GEOMETRY\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: -11.90152 ymin: 35.17045 xmax: 4.327785 ymax: 43.79238\n#&gt; Geodetic CRS:  ETRS89\n#&gt; # A tibble: 19 × 4\n#&gt;    ine_ccaa ine_ccaa.n                                  geometry media_var_anual\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;GEOMETRY [°]&gt;           &lt;dbl&gt;\n#&gt;  1 01       Andalucía                  MULTIPOLYGON (((-4.26887…            2.02\n#&gt;  2 02       Aragón                     POLYGON ((-1.571136 40.2…            2.16\n#&gt;  3 03       Asturias, Principado de    MULTIPOLYGON (((-7.13843…            1.74\n#&gt;  4 04       Balears, Illes             MULTIPOLYGON (((1.157426…            2.32\n#&gt;  5 05       Canarias                   MULTIPOLYGON (((-9.56273…            1.58\n#&gt;  6 06       Cantabria                  MULTIPOLYGON (((-4.77327…            1.95\n#&gt;  7 07       Castilla y León            MULTIPOLYGON (((-4.08134…            1.61\n#&gt;  8 08       Castilla-La Mancha         MULTIPOLYGON (((-3.38046…            1.66\n#&gt;  9 09       Cataluña                   MULTIPOLYGON (((0.615536…            2.25\n#&gt; 10 10       Comunitat Valenciana       MULTIPOLYGON (((-1.41691…            1.97\n#&gt; 11 11       Extremadura                POLYGON ((-7.474915 39.5…            1.58\n#&gt; 12 12       Galicia                    MULTIPOLYGON (((-8.94933…            1.84\n#&gt; 13 13       Madrid, Comunidad de       MULTIPOLYGON (((-4.45567…            2.06\n#&gt; 14 14       Murcia, Región de          MULTIPOLYGON (((-2.29836…            1.59\n#&gt; 15 15       Navarra, Comunidad Foral … MULTIPOLYGON (((-2.42493…            1.37\n#&gt; 16 16       País Vasco                 MULTIPOLYGON (((-2.41260…            2.04\n#&gt; 17 17       Rioja, La                  POLYGON ((-3.091347 42.5…            1.50\n#&gt; 18 18       Ceuta                      MULTIPOLYGON (((-5.38192…            1.84\n#&gt; 19 19       Melilla                    MULTIPOLYGON (((-4.29690…            1.74\n\n#Creamos el dataframe con los cuartiles \n\ndf_mapa_ntiles &lt;- df_mapa %&gt;%\n   mutate(CLASE_COROPLETAS_NTILE = ntile(media_var_anual, 4)) %&gt;%\n   mutate(\n    CLASE_COROPLETAS_NTILE = case_when(\n      CLASE_COROPLETAS_NTILE == 1 ~ \"Cuartil 1 - Variación Baja\",\n      CLASE_COROPLETAS_NTILE == 2 ~ \"Cuartil 2 - Variación Media-Baja\",\n      CLASE_COROPLETAS_NTILE == 3 ~ \"Cuartil 3 - Variación Media-Alta\",\n      CLASE_COROPLETAS_NTILE == 4 ~ \"Cuartil 4 - Variación Alta\"))\n \n#Mapeamos\n\nggplot(data = df_mapa_ntiles) +\n  geom_sf(aes(fill = CLASE_COROPLETAS_NTILE),\n          color = \"Black\",\n          linewidth = 0.3) +\n  scale_fill_brewer(palette = \"Blues\",\n          name = \"Variación Anual Media\\n(Clasificación por Cuartiles)\") +\n  labs(title = \"Mapa 2: Variación Anual Media del precio del alquiler por CCAA\",\n          subtitle = \"Promedio obtenido de 2002-2025 (Expresado en variación porcentual)\",\n          caption = \"Fuente: Instituto Nacional de Estadística\") +\n  theme_void()\n\n\n\n\n\n\n\nEn el Mapa 2 se observa la variación media anual del alquiler (2002-2025), muestra una fuerte dualidad territorial en España. Las subidas más altas (Cuartil 4) se concentran de forma clara en el Mediterráneo, lideradas por Cataluña y las Islas Baleares. La Comunidad de Madrid y la Comunidad Valenciana se sitúan en el cuartil de variación media-alta (Cuartil 3). En contraste, las regiones de la mitad oeste (Galicia, Extremadura, Castilla y León) presentan la variación más baja (Cuartil 1). El patrón subraya una mayor presión de la demanda en zonas costeras y en los principales centros económicos del país.\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.2 (2025-10-31 ucrt)\n os       Windows 11 x64 (build 26200)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-17\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\PROGRA~1\\\\RStudio\\\\RESOUR~1\\\\app\\\\bin\\\\quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version    date (UTC) lib source\n assertthat          0.2.1      2019-03-21 [1] CRAN (R 4.5.2)\n backports           1.5.0      2024-05-23 [1] CRAN (R 4.5.2)\n bibtex              0.5.1      2023-01-26 [1] CRAN (R 4.5.2)\n bit                 4.6.0      2025-03-06 [1] CRAN (R 4.5.2)\n bit64               4.6.0-1    2025-01-16 [1] CRAN (R 4.5.2)\n bslib               0.9.0      2025-01-30 [1] CRAN (R 4.5.2)\n cachem              1.1.0      2024-05-16 [1] CRAN (R 4.5.2)\n cellranger          1.1.0      2016-07-27 [1] CRAN (R 4.5.2)\n class               7.3-23     2025-01-01 [2] CRAN (R 4.5.2)\n classInt          * 0.4-11     2025-01-08 [1] CRAN (R 4.5.2)\n cli                 3.6.5      2025-04-23 [1] CRAN (R 4.5.2)\n clipr               0.8.0      2022-02-22 [1] CRAN (R 4.5.2)\n countrycode         1.6.1      2025-03-31 [1] CRAN (R 4.5.2)\n crayon              1.5.3      2024-06-20 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2      2025-08-26 [1] CRAN (R 4.5.2)\n curl                7.0.0      2025-08-19 [1] CRAN (R 4.5.2)\n data.table          1.17.8     2025-07-10 [1] CRAN (R 4.5.2)\n DBI                 1.2.3      2024-06-02 [1] CRAN (R 4.5.2)\n desc                1.4.3      2023-12-10 [1] CRAN (R 4.5.2)\n details             0.4.0      2025-02-09 [1] CRAN (R 4.5.2)\n devtools            2.4.6      2025-10-03 [1] CRAN (R 4.5.2)\n digest              0.6.39     2025-11-19 [1] CRAN (R 4.5.2)\n dplyr             * 1.1.4      2023-11-17 [1] CRAN (R 4.5.2)\n DT                * 0.34.0     2025-09-02 [1] CRAN (R 4.5.2)\n e1071               1.7-16     2024-09-16 [1] CRAN (R 4.5.2)\n ellipsis            0.3.2      2021-04-29 [1] CRAN (R 4.5.2)\n eurostat          * 4.0.0      2023-12-19 [1] CRAN (R 4.5.2)\n evaluate            1.0.5      2025-08-27 [1] CRAN (R 4.5.2)\n farver              2.1.2      2024-05-13 [1] CRAN (R 4.5.2)\n fastmap             1.2.0      2024-05-15 [1] CRAN (R 4.5.2)\n fontawesome         0.5.3      2024-11-16 [1] CRAN (R 4.5.2)\n forcats           * 1.0.1      2025-09-25 [1] CRAN (R 4.5.2)\n fs                  1.6.6      2025-04-12 [1] CRAN (R 4.5.2)\n generics            0.1.4      2025-05-09 [1] CRAN (R 4.5.2)\n gganimate         * 1.0.11     2025-09-04 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.1      2025-11-14 [1] CRAN (R 4.5.2)\n ggthemes          * 5.2.0      2025-11-30 [1] CRAN (R 4.5.2)\n gifski            * 1.32.0-2   2025-03-18 [1] CRAN (R 4.5.2)\n giscoR            * 1.0.0      2025-12-10 [1] CRAN (R 4.5.2)\n glue                1.8.0      2024-09-30 [1] CRAN (R 4.5.2)\n gt                * 1.1.0      2025-09-23 [1] CRAN (R 4.5.2)\n gtable              0.3.6      2024-10-25 [1] CRAN (R 4.5.2)\n gtExtras          * 0.6.1      2025-10-10 [1] CRAN (R 4.5.2)\n here                1.0.2      2025-09-15 [1] CRAN (R 4.5.2)\n hms                 1.1.4      2025-10-17 [1] CRAN (R 4.5.2)\n htmltools           0.5.9      2025-12-04 [1] CRAN (R 4.5.2)\n htmlwidgets         1.6.4      2023-12-06 [1] CRAN (R 4.5.2)\n httr                1.4.7      2023-08-15 [1] CRAN (R 4.5.2)\n httr2               1.2.2      2025-12-08 [1] CRAN (R 4.5.2)\n ISOweek             0.6-2      2011-09-07 [1] CRAN (R 4.5.2)\n jquerylib           0.1.4      2021-04-26 [1] CRAN (R 4.5.2)\n jsonlite          * 2.0.0      2025-03-27 [1] CRAN (R 4.5.2)\n KernSmooth          2.23-26    2025-01-01 [2] CRAN (R 4.5.2)\n knitr               1.50       2025-03-16 [1] CRAN (R 4.5.2)\n labeling            0.4.3      2023-08-29 [1] CRAN (R 4.5.2)\n lifecycle           1.0.4      2023-11-07 [1] CRAN (R 4.5.2)\n lubridate         * 1.9.4      2024-12-08 [1] CRAN (R 4.5.2)\n magrittr            2.0.4      2025-09-12 [1] CRAN (R 4.5.2)\n memoise             2.0.1      2021-11-26 [1] CRAN (R 4.5.2)\n otel                0.2.0      2025-08-29 [1] CRAN (R 4.5.2)\n paletteer           1.6.0      2024-01-21 [1] CRAN (R 4.5.2)\n patchwork         * 1.3.2      2025-08-25 [1] CRAN (R 4.5.2)\n pillar              1.11.1     2025-09-17 [1] CRAN (R 4.5.2)\n pjpv.curso.R.2022   0.0.0.9000 2025-12-15 [1] Github (perezp44/pjpv.curso.R.2022@bd4dd73)\n pkgbuild            1.4.8      2025-05-26 [1] CRAN (R 4.5.2)\n pkgconfig           2.0.3      2019-09-22 [1] CRAN (R 4.5.2)\n pkgload             1.4.1      2025-09-23 [1] CRAN (R 4.5.2)\n plyr              * 1.8.9      2023-10-02 [1] CRAN (R 4.5.2)\n png                 0.1-8      2022-11-29 [1] CRAN (R 4.5.2)\n prettyunits         1.2.0      2023-09-24 [1] CRAN (R 4.5.2)\n progress            1.2.3      2023-12-06 [1] CRAN (R 4.5.2)\n proxy               0.4-28     2025-12-11 [1] CRAN (R 4.5.2)\n purrr             * 1.2.0      2025-11-04 [1] CRAN (R 4.5.2)\n pxR               * 0.42.8     2025-04-06 [1] CRAN (R 4.5.2)\n R6                  2.6.1      2025-02-15 [1] CRAN (R 4.5.2)\n ragg              * 1.5.0      2025-09-02 [1] CRAN (R 4.5.2)\n rappdirs            0.3.3      2021-01-31 [1] CRAN (R 4.5.2)\n RColorBrewer        1.1-3      2022-04-03 [1] CRAN (R 4.5.2)\n Rcpp                1.1.0      2025-07-02 [1] CRAN (R 4.5.2)\n readr             * 2.1.6      2025-11-14 [1] CRAN (R 4.5.2)\n readxl              1.4.5      2025-03-07 [1] CRAN (R 4.5.2)\n RefManageR          1.4.0      2022-09-30 [1] CRAN (R 4.5.2)\n regions             0.1.8      2021-06-21 [1] CRAN (R 4.5.2)\n rematch2            2.1.2      2020-05-01 [1] CRAN (R 4.5.2)\n remotes             2.5.0      2024-03-17 [1] CRAN (R 4.5.2)\n reshape2          * 1.4.5      2025-11-12 [1] CRAN (R 4.5.2)\n rlang               1.1.6      2025-04-11 [1] CRAN (R 4.5.2)\n rmarkdown           2.30       2025-09-28 [1] CRAN (R 4.5.2)\n rprojroot           2.1.1      2025-08-26 [1] CRAN (R 4.5.2)\n rstudioapi          0.17.1     2024-10-22 [1] CRAN (R 4.5.2)\n s2                  1.1.9      2025-05-23 [1] CRAN (R 4.5.2)\n S7                  0.2.1      2025-11-14 [1] CRAN (R 4.5.2)\n sass                0.4.10     2025-04-11 [1] CRAN (R 4.5.2)\n scales              1.4.0      2025-04-24 [1] CRAN (R 4.5.2)\n sessioninfo         1.2.3      2025-02-05 [1] CRAN (R 4.5.2)\n sf                * 1.0-23     2025-11-28 [1] CRAN (R 4.5.2)\n stringi             1.8.7      2025-03-27 [1] CRAN (R 4.5.2)\n stringr           * 1.6.0      2025-11-04 [1] CRAN (R 4.5.2)\n systemfonts         1.3.1      2025-10-01 [1] CRAN (R 4.5.2)\n textshaping         1.0.4      2025-10-10 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0      2025-06-08 [1] CRAN (R 4.5.2)\n tidyr             * 1.3.1      2024-01-24 [1] CRAN (R 4.5.2)\n tidyselect          1.2.1      2024-03-11 [1] CRAN (R 4.5.2)\n tidyverse         * 2.0.0      2023-02-22 [1] CRAN (R 4.5.2)\n timechange          0.3.0      2024-01-18 [1] CRAN (R 4.5.2)\n tweenr              2.0.3      2024-02-26 [1] CRAN (R 4.5.2)\n tzdb                0.5.0      2025-03-15 [1] CRAN (R 4.5.2)\n units               1.0-0      2025-10-09 [1] CRAN (R 4.5.2)\n usethis             3.2.1      2025-09-06 [1] CRAN (R 4.5.2)\n utf8                1.2.6      2025-06-08 [1] CRAN (R 4.5.2)\n vctrs               0.6.5      2023-12-01 [1] CRAN (R 4.5.2)\n viridisLite         0.4.2      2023-05-02 [1] CRAN (R 4.5.2)\n vroom               1.6.7      2025-11-28 [1] CRAN (R 4.5.2)\n withr               3.0.2      2024-10-28 [1] CRAN (R 4.5.2)\n wk                  0.9.4      2024-10-11 [1] CRAN (R 4.5.2)\n xfun                0.54       2025-10-30 [1] CRAN (R 4.5.2)\n xml2                1.5.1      2025-12-01 [1] CRAN (R 4.5.2)\n yaml                2.3.12     2025-12-10 [1] CRAN (R 4.5.2)\n\n [1] C:/Users/Juan Pablo/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.2/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  }
]