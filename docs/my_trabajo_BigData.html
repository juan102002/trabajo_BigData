<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Jorge Moreno Lahiguera (molajor@alumni.uv.es)">
<meta name="author" content="Victor Cloquell Perez (viclope@alumni.uv.es)">
<meta name="author" content="Juan Pablo Endrino (juanpaen@alumni.uv.es)">
<meta name="description" content="Analizando la evolución del alquiler en los países de Europa y en las comunidades autónomas de España">
<title>La vivienda, una mirada a Europa y a España – Vivienda en Europa y España</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./imagenes/crane_favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-b6e6edf6cb1293d7f667c2f39c143ab5.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-15aac59e57e6064cb768af19d8725553.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la busqueda",
    "search-hide-matches-text": "Esconder resultados adicionales",
    "search-more-match-text": "hay más resultados en este documento",
    "search-more-matches-text": "más resultados en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: red;
      }

      .quarto-title-block .quarto-title-banner {
        color: red;
      }
</style>
<link href="site_libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.34.0/datatables.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script><link rel="shortcut icon" href="imagenes/crane_favicon.png">
<link rel="stylesheet" href="assets/styles.css">
</head>
<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./imagenes/crane_favicon.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Vivienda en Europa y España</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="./index.html"> <i class="bi bi-house-door" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link active" href="./my_trabajo_BigData.html" aria-current="page"> 
<span class="menu-text">Trabajo en equipo</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./my_slides_BigData.html" target="_blank"> 
<span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/juan102002"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:juanpaen@alumni.uv.es"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-right">
      <div class="quarto-title-block"><div><h1 class="title">La vivienda, una mirada a Europa y a España</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Enseñar el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Esconder el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código</a></li></ul></div></div>
                  <div>
        <div class="description">
          <p>Analizando la evolución del alquiler en los países de Europa y en las comunidades autónomas de España</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">trabajo BigData</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-right">

      <div>
      <div class="quarto-title-meta-heading">Autores/as</div>
      <div class="quarto-title-meta-contents">
               <p>Jorge Moreno Lahiguera (molajor@alumni.uv.es) </p>
               <p>Victor Cloquell Perez (viclope@alumni.uv.es) </p>
               <p>Juan Pablo Endrino (juanpaen@alumni.uv.es) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de Publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">7 de diciembre de 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Índice</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducción" class="nav-link active" data-scroll-target="#introducci%C3%B3n">Introducción</a></li>
  <li>
<a href="#europa-y-el-precio-del-alquiler" id="toc-europa-y-el-precio-del-alquiler" class="nav-link" data-scroll-target="#europa-y-el-precio-del-alquiler"><span style="color: yellow; background-color: blue">Europa y el precio del alquiler</span></a>
  <ul class="collapse">
<li><a href="#d%C3%B3nde-sube-m%C3%A1s-el-alquiler-y-por-que" id="toc-dónde-sube-más-el-alquiler-y-por-que" class="nav-link" data-scroll-target="#d%C3%B3nde-sube-m%C3%A1s-el-alquiler-y-por-que">¿Dónde sube más el alquiler y por que?</a></li>
  <li><a href="#y-donde-sube-menos" id="toc-y-donde-sube-menos" class="nav-link" data-scroll-target="#y-donde-sube-menos">¿Y donde sube menos?</a></li>
  <li><a href="#a%C3%B1o-a-a%C3%B1o-donde-sube-mas-el-alquiler-graficos-de-barras" id="toc-año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras" class="nav-link" data-scroll-target="#a%C3%B1o-a-a%C3%B1o-donde-sube-mas-el-alquiler-graficos-de-barras">Año a año, ¿donde sube mas el alquiler? (Graficos de barras)</a></li>
  <li><a href="#y-d%C3%B3nde-menos" id="toc-y-dónde-menos" class="nav-link" data-scroll-target="#y-d%C3%B3nde-menos">¿Y dónde menos?</a></li>
  <li><a href="#mapa-europa" id="toc-mapa-europa" class="nav-link" data-scroll-target="#mapa-europa">Mapa Europa</a></li>
  <li><a href="#oecd-boxplot" id="toc-oecd-boxplot" class="nav-link" data-scroll-target="#oecd-boxplot">OECD Boxplot</a></li>
  <li><a href="#oecd-animaci%C3%B3n" id="toc-oecd-animación" class="nav-link" data-scroll-target="#oecd-animaci%C3%B3n">OECD Animación</a></li>
  </ul>
</li>
  <li>
<a href="#espa%C3%B1a-y-el-precio-del-alquiler" id="toc-españa-y-el-precio-del-alquiler" class="nav-link" data-scroll-target="#espa%C3%B1a-y-el-precio-del-alquiler"><span style="color: yellow; background-color: red">España y el precio del alquiler</span></a>
  <ul class="collapse">
<li><a href="#donde-sube-m%C3%A1s-el-alquiler" id="toc-donde-sube-más-el-alquiler" class="nav-link" data-scroll-target="#donde-sube-m%C3%A1s-el-alquiler">¿Donde sube más el alquiler?</a></li>
  <li><a href="#donde-baja-m%C3%A1s-el-alquiler" id="toc-donde-baja-más-el-alquiler" class="nav-link" data-scroll-target="#donde-baja-m%C3%A1s-el-alquiler">¿Donde baja más el alquiler?</a></li>
  <li>
<a href="#mapa-de-coropletas-de-la-variaci%C3%B3n-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025" id="toc-mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025" class="nav-link" data-scroll-target="#mapa-de-coropletas-de-la-variaci%C3%B3n-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025">Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025</a>
  <ul class="collapse">
<li><a href="#informaci%C3%B3n-sobre-la-sesi%C3%B3n" id="toc-información-sobre-la-sesión" class="nav-link" data-scroll-target="#informaci%C3%B3n-sobre-la-sesi%C3%B3n">Información sobre la sesión</a></li>
  </ul>
</li>
  </ul>
</li>
  </ul><div class="quarto-other-links"><h2>Otros Enlaces</h2><ul><li><a href="https://perezp44.github.io/intro-ds-25-26-web/"><i class="bi bi-link-45deg"></i>Web del curso</a></li><li><a href="https://perezp44.github.io/intro-ds-25-26-web/05-trabajos-estudiantes.html"><i class="bi bi-link-45deg"></i>Trabajos de mis compañeros</a></li><li><a href="https://github.com/juan200210/trabajo_BigData_equipo"><i class="bi bi-link-45deg"></i>Repo del trabajo</a></li></ul></div></nav>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-right" id="quarto-document-content"><section id="introducción" class="level1"><h1>Introducción</h1>
<p>En los últimos años la vivienda, tanto el alquiler como la compra de esta, se ha convertido en una de las principales preocupaciones de los españoles. Esto no es un fenómeno único de nuestro país, la situación es similar en otras partes de Europa y del mundo.</p>
<p>Por esta razón hemos decidido investigar sobre este problema, empezando por observar ciertas variables a nivel continental, usando datos de Eurostat y de la OECD. Para luego continuar analizando la situación en España, con datos del INE.</p>
<p>En este documento, en algunos momentos puntuales también hablaremos sobre detalles del código que usamos para obtener lo que el lector vera.</p>
<p>Primero cargaremos los paquetes necesarios:</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#install.packages("eurostat")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">#install.packages("tidyverse")</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#install.packages("gganimate")</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#install.packages("ggthemes")</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#install.packages("gt")</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#install.packages("gtExtras")</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#install.packages("tidyr")</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#install.packages("sf")</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#install.packages("giscoR")</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#install.packages("ragg")</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#install.packages("gifski")</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">#install.packages("lubridate")</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#install.packages("DT")</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">#install.packages("pjpv.curso.R.2022")</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">#install.packages("classInt")</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">#install.packages("stringr")</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">#install.packages("pxR")</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">#install.packages("devtools")</span></span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="fu">library</span>(pxR)</span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="fu">library</span>(eurostat)</span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="fu">library</span>(sf)        </span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="fu">library</span>(giscoR)</span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="fu">library</span>(ragg)</span>
<span id="cb1-33"><a href="#cb1-33"></a></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-36"><a href="#cb1-36"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"perezp44/pjpv.curso.R.2022"</span>)</span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="fu">library</span>(classInt)</span>
<span id="cb1-38"><a href="#cb1-38"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-39"><a href="#cb1-39"></a></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="co">#Usamos esto para solucionar problemas con los gráficos animados</span></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="fu">library</span>(gifski)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="europa-y-el-precio-del-alquiler" class="level1"><h1><span style="color: yellow; background-color: blue">Europa y el precio del alquiler</span></h1>
<p>Lo sabemos, esto del título es una horterada, pero es para que Pedro vea que le hacemos caso en clase ;)</p>
<section id="dónde-sube-más-el-alquiler-y-por-que" class="level2"><h2 class="anchored" data-anchor-id="dónde-sube-más-el-alquiler-y-por-que">¿Dónde sube más el alquiler y por que?</h2>
<p>Obtenemos el dataset de Eurostat, directamente usando el paquete del mismo nombre. En el dataset tenemos observaciones del cambio del precio del alquiler en el periodo 1996-2024, usando el año 2014 como base. Trabajamos el dataset para quitar países que no nos interesan y otras variables que no nos importan. Posteriormente obtenemos los seis países de la UE en los que más ha subido el precio del alquiler en el mencionado periodo. El dataset contiene observaciones sobre un conjunto de . Hay variables.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#Escogemos los datos de la página de Eurostat</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>my_table <span class="ot">&lt;-</span> <span class="st">"prc_hicp_aind"</span></span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>eurostat<span class="sc">::</span><span class="fu">label_eurostat_tables</span>(my_table)</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt; [1] "HICP - annual data (average index and rate of change)"</span></span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#Creamos el dataframe asociado al índice de IPC de Eurostat y filtramos</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>df <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">"raw"</span>)   </span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#&gt; </span></span>
<span id="cb2-10"><a href="#cb2-10"></a>indexed <span class="dv">0</span>B <span class="cf">in</span>  <span class="dv">0</span>s, <span class="dv">0</span>B<span class="sc">/</span>s</span>
<span id="cb2-11"><a href="#cb2-11"></a>indexed <span class="fl">2.15</span>GB <span class="cf">in</span>  <span class="dv">0</span>s, <span class="fl">2.15</span>GB<span class="sc">/</span>s</span>
<span id="cb2-12"><a href="#cb2-12"></a>                                                                              </span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>df_alquileres_index <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>                        <span class="fu">filter</span>(coicop <span class="sc">==</span> <span class="st">"CP041"</span>,</span>
<span id="cb2-16"><a href="#cb2-16"></a>                        <span class="sc">!</span>geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EA19"</span>, <span class="st">"EU28"</span>, </span>
<span id="cb2-17"><a href="#cb2-17"></a>                                    <span class="st">"EA"</span>, <span class="st">"EA20"</span>,<span class="st">"EA19"</span>, <span class="st">"US"</span>, </span>
<span id="cb2-18"><a href="#cb2-18"></a>                                    <span class="st">"XK"</span>, <span class="st">"TR"</span>, <span class="st">"RS"</span>, <span class="st">"AL"</span>, <span class="st">"MK"</span>, </span>
<span id="cb2-19"><a href="#cb2-19"></a>                                    <span class="st">"ME"</span>, <span class="st">"UK"</span>, <span class="st">"EEA"</span>, <span class="st">"EU"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-20"><a href="#cb2-20"></a>                        <span class="fu">label_eurostat</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-21"><a href="#cb2-21"></a>                        <span class="fu">filter</span>(unit <span class="sc">==</span> <span class="st">"Annual average index"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>                        dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">paises =</span> geo,</span>
<span id="cb2-23"><a href="#cb2-23"></a>                               año <span class="ot">=</span> TIME_PERIOD) <span class="sc">%&gt;%</span></span>
<span id="cb2-24"><a href="#cb2-24"></a>                        <span class="fu">mutate</span>(año <span class="ot">=</span> <span class="fu">as.numeric</span>(año)) <span class="sc">%&gt;%</span></span>
<span id="cb2-25"><a href="#cb2-25"></a>                        <span class="fu">select</span>(<span class="sc">-</span>freq) </span>
<span id="cb2-26"><a href="#cb2-26"></a></span>
<span id="cb2-27"><a href="#cb2-27"></a><span class="do">##Top (Los 6 que más han crecido desde 2015 hasta 2024)</span></span>
<span id="cb2-28"><a href="#cb2-28"></a>df_alquileres_top_6_2024 <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb2-29"><a href="#cb2-29"></a>                             <span class="fu">filter</span>(año <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-30"><a href="#cb2-30"></a>                             <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">6</span>) </span>
<span id="cb2-31"><a href="#cb2-31"></a></span>
<span id="cb2-32"><a href="#cb2-32"></a>tabla_df_alquileres_top_6_2024 <span class="ot">&lt;-</span> df_alquileres_top_6_2024 <span class="sc">%&gt;%</span></span>
<span id="cb2-33"><a href="#cb2-33"></a>                                   <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-34"><a href="#cb2-34"></a>                                   <span class="fu">gt_theme_excel</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-35"><a href="#cb2-35"></a>                                   <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Tabla 1: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">en los 6 países que más ha crecido"</span>,</span>
<span id="cb2-36"><a href="#cb2-36"></a>                                               <span class="at">subtitle =</span> <span class="st">"TOP 6"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-37"><a href="#cb2-37"></a>                                   <span class="fu">tab_footnote</span>(<span class="at">footnote =</span> <span class="st">"Eurostat 2025"</span>)</span>
<span id="cb2-38"><a href="#cb2-38"></a></span>
<span id="cb2-39"><a href="#cb2-39"></a>tabla_df_alquileres_top_6_2024</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="onwmxtvcwa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#onwmxtvcwa table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#onwmxtvcwa thead, #onwmxtvcwa tbody, #onwmxtvcwa tfoot, #onwmxtvcwa tr, #onwmxtvcwa td, #onwmxtvcwa th {
  border-style: none;
}

#onwmxtvcwa p {
  margin: 0;
  padding: 0;
}

#onwmxtvcwa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#onwmxtvcwa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#onwmxtvcwa .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#onwmxtvcwa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#onwmxtvcwa .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#onwmxtvcwa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#onwmxtvcwa .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#onwmxtvcwa .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#onwmxtvcwa .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#onwmxtvcwa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#onwmxtvcwa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#onwmxtvcwa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#onwmxtvcwa .gt_spanner_row {
  border-bottom-style: hidden;
}

#onwmxtvcwa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#onwmxtvcwa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#onwmxtvcwa .gt_from_md > :first-child {
  margin-top: 0;
}

#onwmxtvcwa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#onwmxtvcwa .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#onwmxtvcwa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#onwmxtvcwa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#onwmxtvcwa .gt_row_group_first td {
  border-top-width: 2px;
}

#onwmxtvcwa .gt_row_group_first th {
  border-top-width: 2px;
}

#onwmxtvcwa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#onwmxtvcwa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#onwmxtvcwa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#onwmxtvcwa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#onwmxtvcwa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#onwmxtvcwa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#onwmxtvcwa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#onwmxtvcwa .gt_striped {
  background-color: #D3D3D3;
}

#onwmxtvcwa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#onwmxtvcwa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#onwmxtvcwa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#onwmxtvcwa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#onwmxtvcwa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#onwmxtvcwa .gt_left {
  text-align: left;
}

#onwmxtvcwa .gt_center {
  text-align: center;
}

#onwmxtvcwa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#onwmxtvcwa .gt_font_normal {
  font-weight: normal;
}

#onwmxtvcwa .gt_font_bold {
  font-weight: bold;
}

#onwmxtvcwa .gt_font_italic {
  font-style: italic;
}

#onwmxtvcwa .gt_super {
  font-size: 65%;
}

#onwmxtvcwa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#onwmxtvcwa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#onwmxtvcwa .gt_indent_1 {
  text-indent: 5px;
}

#onwmxtvcwa .gt_indent_2 {
  text-indent: 10px;
}

#onwmxtvcwa .gt_indent_3 {
  text-indent: 15px;
}

#onwmxtvcwa .gt_indent_4 {
  text-indent: 20px;
}

#onwmxtvcwa .gt_indent_5 {
  text-indent: 25px;
}

#onwmxtvcwa .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#onwmxtvcwa div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="5" class="gt_heading gt_title gt_font_normal">Tabla 1: Incremento del precio del alquiler en los 6 países que más ha crecido</th>
</tr>
<tr class="gt_heading even">
<th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">TOP 6</th>
</tr>
<tr class="gt_col_headings header">
<th id="unit" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">unit</th>
<th id="coicop" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">coicop</th>
<th id="paises" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">paises</th>
<th id="año" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">año</th>
<th id="values" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col">values</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Hungary</td>
<td class="gt_row gt_right" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">187.10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left gt_striped" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left gt_striped" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Lithuania</td>
<td class="gt_row gt_right gt_striped" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right gt_striped" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">173.73</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Slovenia</td>
<td class="gt_row gt_right" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">170.51</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left gt_striped" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left gt_striped" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Poland</td>
<td class="gt_row gt_right gt_striped" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right gt_striped" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">166.40</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Ireland</td>
<td class="gt_row gt_right" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">166.10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left gt_striped" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left gt_striped" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Iceland</td>
<td class="gt_row gt_right gt_striped" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right gt_striped" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">159.84</td>
</tr>
</tbody>
<tfoot><tr class="gt_footnotes odd">
<td colspan="5" class="gt_footnote">Eurostat 2025</td>
</tr></tfoot>
</table>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>top_paises <span class="ot">&lt;-</span> df_alquileres_top_6_2024<span class="sc">$</span>paises</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>df_top <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>           <span class="fu">filter</span>(paises <span class="sc">%in%</span> top_paises)</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#Gráfico del top</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>grafico_top <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_top, </span>
<span id="cb3-8"><a href="#cb3-8"></a>                      <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">color =</span> paises)) <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>                <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>                <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 1: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">(Base 2015) del TOP 6 Países"</span>, </span>
<span id="cb3-11"><a href="#cb3-11"></a>                    <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje (Base 2015)"</span>,</span>
<span id="cb3-12"><a href="#cb3-12"></a>                    <span class="at">caption =</span> <span class="st">"Fuente: Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>                <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>                <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>                <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>                <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb3-17"><a href="#cb3-17"></a>                      <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb3-18"><a href="#cb3-18"></a>                      <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>                <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> paises))</span>
<span id="cb3-20"><a href="#cb3-20"></a></span>
<span id="cb3-21"><a href="#cb3-21"></a>grafico_top_animado <span class="ot">&lt;-</span> grafico_top <span class="sc">+</span> <span class="fu">transition_reveal</span>(año) </span>
<span id="cb3-22"><a href="#cb3-22"></a></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="fu">animate</span>(grafico_top_animado, </span>
<span id="cb3-24"><a href="#cb3-24"></a>        <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Los países de Europa del Este han experimentado un crecimiento económico rápido que ha elevado los salarios, pero la oferta de vivienda no ha seguido el ritmo. Además, han tenido las tasas de inflación general más altas de la UE tras la crisis energética (súbida del precio desde 2021). También está la presencia de Irlanda por la escasez crónica de oferta: la alta demanda (impulsada por el sector tecnológico y la inmigración) choca con un mercado inmobiliario que no construye lo suficiente, provocando una de las crisis de alquiler más agudas de Europa occidental. Islandia es un caso particular por el Efecto Airbnb (Turismo masivo): Gran parte del parque de viviendas se ha destinado al alquiler turístico, reduciendo drásticamente la oferta para residentes y disparando los precios, sumado a su muy limitado terreno edificable y su alta inflación.</p>
</section><section id="y-donde-sube-menos" class="level2"><h2 class="anchored" data-anchor-id="y-donde-sube-menos">¿Y donde sube menos?</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">#Nontop (Los 6 que menos han crecido desde 2015 hasta 2024)</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>df_alquileres_nontop_6_2024 <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>                                <span class="fu">filter</span>(año <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>                                <span class="fu">slice_min</span>(values, <span class="at">n=</span><span class="dv">6</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a>tabla_df_alquileres_nontop_6_2024 <span class="ot">&lt;-</span> df_alquileres_nontop_6_2024 <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>                                <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8"></a>                                <span class="fu">gt_theme_excel</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-9"><a href="#cb4-9"></a>                                <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Tabla 2: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">en los 6 países que menos ha crecido"</span>,</span>
<span id="cb4-10"><a href="#cb4-10"></a>                                           <span class="at">subtitle =</span> <span class="st">"NONTOP 6"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-11"><a href="#cb4-11"></a>                                <span class="fu">tab_footnote</span>(<span class="at">footnote =</span> <span class="st">"Eurostat 2025"</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a>tabla_df_alquileres_nontop_6_2024</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="jutmcekjxu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jutmcekjxu table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jutmcekjxu thead, #jutmcekjxu tbody, #jutmcekjxu tfoot, #jutmcekjxu tr, #jutmcekjxu td, #jutmcekjxu th {
  border-style: none;
}

#jutmcekjxu p {
  margin: 0;
  padding: 0;
}

#jutmcekjxu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#jutmcekjxu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jutmcekjxu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jutmcekjxu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jutmcekjxu .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jutmcekjxu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#jutmcekjxu .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jutmcekjxu .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jutmcekjxu .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jutmcekjxu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jutmcekjxu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jutmcekjxu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jutmcekjxu .gt_spanner_row {
  border-bottom-style: hidden;
}

#jutmcekjxu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#jutmcekjxu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#jutmcekjxu .gt_from_md > :first-child {
  margin-top: 0;
}

#jutmcekjxu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jutmcekjxu .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#jutmcekjxu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#jutmcekjxu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jutmcekjxu .gt_row_group_first td {
  border-top-width: 2px;
}

#jutmcekjxu .gt_row_group_first th {
  border-top-width: 2px;
}

#jutmcekjxu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jutmcekjxu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jutmcekjxu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jutmcekjxu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jutmcekjxu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jutmcekjxu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jutmcekjxu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jutmcekjxu .gt_striped {
  background-color: #D3D3D3;
}

#jutmcekjxu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jutmcekjxu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jutmcekjxu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jutmcekjxu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jutmcekjxu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jutmcekjxu .gt_left {
  text-align: left;
}

#jutmcekjxu .gt_center {
  text-align: center;
}

#jutmcekjxu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jutmcekjxu .gt_font_normal {
  font-weight: normal;
}

#jutmcekjxu .gt_font_bold {
  font-weight: bold;
}

#jutmcekjxu .gt_font_italic {
  font-style: italic;
}

#jutmcekjxu .gt_super {
  font-size: 65%;
}

#jutmcekjxu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jutmcekjxu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jutmcekjxu .gt_indent_1 {
  text-indent: 5px;
}

#jutmcekjxu .gt_indent_2 {
  text-indent: 10px;
}

#jutmcekjxu .gt_indent_3 {
  text-indent: 15px;
}

#jutmcekjxu .gt_indent_4 {
  text-indent: 20px;
}

#jutmcekjxu .gt_indent_5 {
  text-indent: 25px;
}

#jutmcekjxu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jutmcekjxu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="5" class="gt_heading gt_title gt_font_normal">Tabla 2: Incremento del precio del alquiler en los 6 países que menos ha crecido</th>
</tr>
<tr class="gt_heading even">
<th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">NONTOP 6</th>
</tr>
<tr class="gt_col_headings header">
<th id="unit" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">unit</th>
<th id="coicop" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">coicop</th>
<th id="paises" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">paises</th>
<th id="año" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">año</th>
<th id="values" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col">values</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Greece</td>
<td class="gt_row gt_right" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">102.92</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left gt_striped" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left gt_striped" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">France</td>
<td class="gt_row gt_right gt_striped" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right gt_striped" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">107.23</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Italy</td>
<td class="gt_row gt_right" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">108.40</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left gt_striped" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left gt_striped" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Switzerland</td>
<td class="gt_row gt_right gt_striped" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right gt_striped" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">110.81</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Spain</td>
<td class="gt_row gt_right" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">110.93</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="unit" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Annual average index</td>
<td class="gt_row gt_left gt_striped" headers="coicop" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Actual rentals for housing</td>
<td class="gt_row gt_left gt_striped" headers="paises" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Luxembourg</td>
<td class="gt_row gt_right gt_striped" headers="año" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">2024</td>
<td class="gt_row gt_right gt_striped" headers="values" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">112.80</td>
</tr>
</tbody>
<tfoot><tr class="gt_footnotes odd">
<td colspan="5" class="gt_footnote">Eurostat 2025</td>
</tr></tfoot>
</table>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">#Gráfico del nontop</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>nontop_paises <span class="ot">&lt;-</span> df_alquileres_nontop_6_2024<span class="sc">$</span>paises</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a>df_nontop <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>             <span class="fu">filter</span>(unit <span class="sc">==</span> <span class="st">"Annual average index"</span>,</span>
<span id="cb5-6"><a href="#cb5-6"></a>                    paises <span class="sc">%in%</span> nontop_paises)</span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a>grafico_nontop <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_nontop, </span>
<span id="cb5-9"><a href="#cb5-9"></a>                         <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">color =</span> paises)) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>                   <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>                   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 2: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">(Base 2015) en los 6 Países que menos ha crecido"</span>, </span>
<span id="cb5-12"><a href="#cb5-12"></a>                        <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje (Base 2015)"</span>,</span>
<span id="cb5-13"><a href="#cb5-13"></a>                   <span class="at">caption =</span> <span class="st">"Fuente: Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>                   <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>                   <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>                   <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>                   <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb5-18"><a href="#cb5-18"></a>                         <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb5-19"><a href="#cb5-19"></a>                         <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>                   <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> paises))</span>
<span id="cb5-21"><a href="#cb5-21"></a></span>
<span id="cb5-22"><a href="#cb5-22"></a>grafico_nontop_animado <span class="ot">&lt;-</span> grafico_nontop <span class="sc">+</span> <span class="fu">transition_reveal</span>(año) </span>
<span id="cb5-23"><a href="#cb5-23"></a></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="fu">animate</span>(grafico_nontop_animado, </span>
<span id="cb5-25"><a href="#cb5-25"></a>        <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>El grupo de los países con menor incremento en el precio, se puede observar un escenario de estancamiento y corrección post-crisis que contrasta radicalmente con el dinamismo del este de Europa. En este conjunto destaca Grecia como una anomalía bajista, donde los alquileres son nominalmente más bajos que en la década anterior debido al colapso de la demanda interna tras su crisis de deuda, mientras que economías mediterráneas como Italia y Chipre muestran una trayectoria casi plana fruto de un crecimiento económico débil. Por otro lado, la presencia de países con mercados tensos como España o Francia en esta parte baja del ranking responde en gran medida a la metodología del índice HICP, que al medir el stock completo de contratos (incluyendo rentas antiguas y renovaciones limitadas por ley) y no solo los nuevos alquileres de mercado, suaviza la curva de precios, reflejando así una Europa donde la regulación y la inercia contractual han blindado estadísticamente a los inquilinos estables frente a la volatilidad inflacionaria reciente.</p>
</section><section id="año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras" class="level2"><h2 class="anchored" data-anchor-id="año-a-año-donde-sube-mas-el-alquiler-graficos-de-barras">Año a año, ¿donde sube mas el alquiler? (Graficos de barras)</h2>
<p>El análisis mediante gráficos nos permitirá obtener otros datos sobre la situación de la vivienda en Europa. A continuación veremos en cada año cuál es el país en el que más ha subido el precio del alquiler con respecto al año anterior.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>my_table <span class="ot">&lt;-</span> <span class="st">"prc_hicp_aind"</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>eurostat<span class="sc">::</span><span class="fu">label_eurostat_tables</span>(my_table)</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; [1] "HICP - annual data (average index and rate of change)"</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a>df <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">"raw"</span>) </span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>df_alquileres_anual <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>                  <span class="fu">filter</span>(coicop <span class="sc">==</span> <span class="st">"CP041"</span>,</span>
<span id="cb6-10"><a href="#cb6-10"></a>                         unit <span class="sc">==</span> <span class="st">"RCH_A_AVG"</span>,</span>
<span id="cb6-11"><a href="#cb6-11"></a>                  <span class="sc">!</span>geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EA19"</span>, <span class="st">"EU28"</span>, </span>
<span id="cb6-12"><a href="#cb6-12"></a>                     <span class="st">"EA"</span>, <span class="st">"EA20"</span>,<span class="st">"EA19"</span>, <span class="st">"US"</span>, </span>
<span id="cb6-13"><a href="#cb6-13"></a>                     <span class="st">"XK"</span>, <span class="st">"TR"</span>, <span class="st">"RS"</span>, <span class="st">"AL"</span>, <span class="st">"MK"</span>, </span>
<span id="cb6-14"><a href="#cb6-14"></a>                     <span class="st">"ME"</span>, <span class="st">"UK"</span>, <span class="st">"EEA"</span>, <span class="st">"EU"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-15"><a href="#cb6-15"></a>                  dplyr<span class="sc">::</span><span class="fu">rename</span>(país <span class="ot">=</span> geo,</span>
<span id="cb6-16"><a href="#cb6-16"></a>                         año <span class="ot">=</span> TIME_PERIOD) <span class="sc">%&gt;%</span></span>
<span id="cb6-17"><a href="#cb6-17"></a>                  <span class="fu">select</span>(<span class="sc">-</span>freq) </span>
<span id="cb6-18"><a href="#cb6-18"></a></span>
<span id="cb6-19"><a href="#cb6-19"></a></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">#TOP (Porcentaje del incremento anual del precio del alquiler del páis donde más ha crecido ese año)</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>df_top <span class="ot">&lt;-</span> df_alquileres_anual <span class="sc">%&gt;%</span></span>
<span id="cb6-22"><a href="#cb6-22"></a>           <span class="fu">group_by</span>(año) <span class="sc">%&gt;%</span></span>
<span id="cb6-23"><a href="#cb6-23"></a>           <span class="fu">slice_max</span>(<span class="at">order_by =</span> values, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-24"><a href="#cb6-24"></a>           <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-25"><a href="#cb6-25"></a>           <span class="fu">arrange</span>(año)</span>
<span id="cb6-26"><a href="#cb6-26"></a></span>
<span id="cb6-27"><a href="#cb6-27"></a>gráfico_barras_TOP <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_top, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb6-28"><a href="#cb6-28"></a>                       <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb6-29"><a href="#cb6-29"></a>                       <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 3: Porcentaje del incremento anual del precio</span><span class="sc">\n</span><span class="st">del alquiler del páis donde más ha crecido ese año (UE)"</span>,</span>
<span id="cb6-30"><a href="#cb6-30"></a>                            <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb6-31"><a href="#cb6-31"></a>                            <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb6-32"><a href="#cb6-32"></a>                       <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb6-33"><a href="#cb6-33"></a>                       <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb6-34"><a href="#cb6-34"></a>                       <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">170</span>, <span class="at">by =</span> <span class="fl">12.5</span>)) <span class="sc">+</span></span>
<span id="cb6-35"><a href="#cb6-35"></a>                       <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb6-36"><a href="#cb6-36"></a>                             <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb6-37"><a href="#cb6-37"></a></span>
<span id="cb6-38"><a href="#cb6-38"></a>gráfico_barras_TOP</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>La evolución de los precios muestra una clara transición de inestabilidad extrema a madurez de mercado, protagonizada casi exclusivamente por las economías de Europa del Este y los países bálticos. Se distinguen dos grandes etapas: un primer periodo de ajuste agresivo (1996-2008), marcado por la apertura post-soviética y la inflación previa a la entrada en el euro, que provocó subidas desorbitadas como el pico histórico de Bulgaria en 1998 (&gt;150%) o el de Rumanía en 2007; seguido de una segunda etapa de estabilización estructural (2009-2024) tras la crisis financiera, donde las subidas se han moderado drásticamente (situándose habitualmente por debajo del 25%) al haberse completado la convergencia económica de estos países con el resto de la Unión Europea.</p>
</section><section id="y-dónde-menos" class="level2"><h2 class="anchored" data-anchor-id="y-dónde-menos">¿Y dónde menos?</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">#NONTOP</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>df_nontop <span class="ot">&lt;-</span> df_alquileres_anual <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">group_by</span>(año) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">slice_min</span>(<span class="at">order_by =</span> values, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">arrange</span>(año)</span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a>gráfico_barras_NONTOP <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_nontop, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>                          <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>                          <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 4: Porcentaje del incremento anual del precio</span><span class="sc">\n</span><span class="st">del alquiler del páis donde menos ha crecido ese año (UE)"</span>,</span>
<span id="cb7-11"><a href="#cb7-11"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb7-12"><a href="#cb7-12"></a>                          <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>                          <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb7-14"><a href="#cb7-14"></a>                          <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb7-15"><a href="#cb7-15"></a>                          <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">40</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb7-16"><a href="#cb7-16"></a>                          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb7-17"><a href="#cb7-17"></a>                          <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb7-18"><a href="#cb7-18"></a></span>
<span id="cb7-19"><a href="#cb7-19"></a>gráfico_barras_NONTOP</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Este gráfico traza la historia de las crisis inmobiliarias europeas a través de los descensos de precios, identificando tres fases muy diferenciadas. Primero, una etapa de corrección violenta post-2008, donde las economías bálticas (Estonia y Lituania) sufrieron desplomes masivos de hasta un 30% al estallar sus burbujas de crédito. Segundo, un largo periodo de deflación estructural en el sur (2012-2018), protagonizado casi en exclusiva por Grecia (EL), que encadenó casi una década de caídas constantes debido a su crisis de deuda y austeridad. Finalmente, el gráfico revela una tendencia actual preocupante tras 2021: la desaparición de las bajadas, ya que en los últimos años (2022-2024) las barras vuelven a ser positivas, indicando que hoy en día los precios suben incluso en los mercados más estancados de Europa.</p>
<p>Para una más cómoda comparación:</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">library</span>(patchwork) <span class="co">#- utiliza el pkg "patchwork" para mostrar los 2 gráficos (p1 y p2) side-by-side</span></span>
<span id="cb8-2"><a href="#cb8-2"></a></span>
<span id="cb8-3"><a href="#cb8-3"></a>gráfico_barras_TOP_v2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_top, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>                       <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>                       <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb8-6"><a href="#cb8-6"></a>                            <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>                       <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>                       <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9"></a>                       <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">170</span>, <span class="at">by =</span> <span class="fl">12.5</span>)) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>                       <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb8-11"><a href="#cb8-11"></a>                             <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a>gráfico_barras_NONTOP_v2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_nontop, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>                          <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>                          <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb8-16"><a href="#cb8-16"></a>                          <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>                          <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>                          <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-19"><a href="#cb8-19"></a>                          <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">40</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>                          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb8-21"><a href="#cb8-21"></a>                          <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb8-22"><a href="#cb8-22"></a></span>
<span id="cb8-23"><a href="#cb8-23"></a>gráfico_barras_TOP_v2 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 5: Países donde más y menos ha incrementado</span><span class="sc">\n</span><span class="st">el precio de alquiler anual"</span>) <span class="sc">+</span> gráfico_barras_NONTOP_v2 </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="mapa-europa" class="level2"><h2 class="anchored" data-anchor-id="mapa-europa">Mapa Europa</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>my_table <span class="ot">&lt;-</span> <span class="st">"prc_hicp_aind"</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>eurostat<span class="sc">::</span><span class="fu">label_eurostat_tables</span>(my_table)</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt; [1] "HICP - annual data (average index and rate of change)"</span></span>
<span id="cb9-5"><a href="#cb9-5"></a></span>
<span id="cb9-6"><a href="#cb9-6"></a>df <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">"raw"</span>) </span>
<span id="cb9-7"><a href="#cb9-7"></a></span>
<span id="cb9-8"><a href="#cb9-8"></a>df_alquileres_anual <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>                        <span class="fu">filter</span>(coicop <span class="sc">==</span> <span class="st">"CP041"</span>,</span>
<span id="cb9-10"><a href="#cb9-10"></a>                               unit <span class="sc">==</span> <span class="st">"RCH_A_AVG"</span>,</span>
<span id="cb9-11"><a href="#cb9-11"></a>                        <span class="sc">!</span>geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EA19"</span>, <span class="st">"EU28"</span>, </span>
<span id="cb9-12"><a href="#cb9-12"></a>                                     <span class="st">"EA"</span>, <span class="st">"EA20"</span>,<span class="st">"EA19"</span>, <span class="st">"US"</span>, </span>
<span id="cb9-13"><a href="#cb9-13"></a>                                     <span class="st">"XK"</span>, <span class="st">"TR"</span>, <span class="st">"RS"</span>, <span class="st">"AL"</span>, <span class="st">"MK"</span>, </span>
<span id="cb9-14"><a href="#cb9-14"></a>                                     <span class="st">"ME"</span>, <span class="st">"UK"</span>, <span class="st">"EEA"</span>, <span class="st">"EU"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>                         <span class="fu">rename</span>(país <span class="ot">=</span> geo,</span>
<span id="cb9-16"><a href="#cb9-16"></a>                                año <span class="ot">=</span> TIME_PERIOD) <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>                         <span class="fu">select</span>(<span class="sc">-</span>freq) <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>                         <span class="fu">mutate</span>(año <span class="ot">=</span> <span class="fu">as.numeric</span>(año))</span>
<span id="cb9-19"><a href="#cb9-19"></a></span>
<span id="cb9-20"><a href="#cb9-20"></a>mapa_europa <span class="ot">&lt;-</span> <span class="fu">gisco_get_nuts</span>(<span class="at">year =</span> <span class="st">"2021"</span>, </span>
<span id="cb9-21"><a href="#cb9-21"></a>                              <span class="at">resolution =</span> <span class="st">"20"</span>, </span>
<span id="cb9-22"><a href="#cb9-22"></a>                              <span class="at">nuts_level =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-23"><a href="#cb9-23"></a>                <span class="fu">rename</span>(país <span class="ot">=</span> NUTS_ID)</span>
<span id="cb9-24"><a href="#cb9-24"></a></span>
<span id="cb9-25"><a href="#cb9-25"></a>mapa_animado_data <span class="ot">&lt;-</span> mapa_europa <span class="sc">%&gt;%</span></span>
<span id="cb9-26"><a href="#cb9-26"></a>                      <span class="fu">inner_join</span>(df_alquileres_anual, <span class="at">by =</span> <span class="st">"país"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-27"><a href="#cb9-27"></a>                      <span class="fu">mutate</span>(<span class="at">incremento_alquileres_grupos =</span> <span class="fu">factor</span>(<span class="fu">ntile</span>(values, <span class="dv">5</span>),</span>
<span id="cb9-28"><a href="#cb9-28"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Muy baja"</span>, </span>
<span id="cb9-29"><a href="#cb9-29"></a>                                        <span class="st">"Baja"</span>, </span>
<span id="cb9-30"><a href="#cb9-30"></a>                                        <span class="st">"Moderado"</span>,</span>
<span id="cb9-31"><a href="#cb9-31"></a>                                        <span class="st">"Alta"</span>, </span>
<span id="cb9-32"><a href="#cb9-32"></a>                                        <span class="st">"Muy alta"</span>)))</span>
<span id="cb9-33"><a href="#cb9-33"></a></span>
<span id="cb9-34"><a href="#cb9-34"></a>animacion <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapa_animado_data) <span class="sc">+</span></span>
<span id="cb9-35"><a href="#cb9-35"></a>              <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> incremento_alquileres_grupos), </span>
<span id="cb9-36"><a href="#cb9-36"></a>                      <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb9-37"><a href="#cb9-37"></a>                      <span class="at">size =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb9-38"><a href="#cb9-38"></a>              <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"magma"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>, </span>
<span id="cb9-39"><a href="#cb9-39"></a>                       <span class="at">name =</span> <span class="st">"Incremento del precio del alquiler (%)"</span>) <span class="sc">+</span> </span>
<span id="cb9-40"><a href="#cb9-40"></a>              <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb9-41"><a href="#cb9-41"></a>              <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">25</span>, <span class="dv">45</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">34</span>, <span class="dv">72</span>)) <span class="sc">+</span></span>
<span id="cb9-42"><a href="#cb9-42"></a>              <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mapa 1: Evolución del Incremento del alquiler entre 1996-2024 en la UE"</span>,</span>
<span id="cb9-43"><a href="#cb9-43"></a>                   <span class="at">subtitle =</span> <span class="st">"Año: {current_frame}"</span>,</span>
<span id="cb9-44"><a href="#cb9-44"></a>                   <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb9-45"><a href="#cb9-45"></a>              <span class="fu">transition_manual</span>(año) <span class="sc">+</span></span>
<span id="cb9-46"><a href="#cb9-46"></a>              <span class="fu">ease_aes</span>(<span class="st">"linear"</span>) </span>
<span id="cb9-47"><a href="#cb9-47"></a></span>
<span id="cb9-48"><a href="#cb9-48"></a><span class="fu">animate</span>(animacion, <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>(), </span>
<span id="cb9-49"><a href="#cb9-49"></a>        <span class="at">duration =</span> <span class="dv">35</span>, </span>
<span id="cb9-50"><a href="#cb9-50"></a>        <span class="at">fps =</span> <span class="dv">25</span>, </span>
<span id="cb9-51"><a href="#cb9-51"></a>        <span class="at">width =</span> <span class="dv">1000</span>,</span>
<span id="cb9-52"><a href="#cb9-52"></a>        <span class="at">height =</span> <span class="dv">600</span>,</span>
<span id="cb9-53"><a href="#cb9-53"></a>        <span class="at">units =</span> <span class="st">"px"</span>,</span>
<span id="cb9-54"><a href="#cb9-54"></a>        <span class="at">res =</span> <span class="dv">150</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-9-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-9-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>La evolución del incremento anual del precio del alquiler en la Unión Europea durante el periodo 1996-2024 muestra una trayectoria de encarecimiento progresivo, caracterizada por una heterogeneidad geográfica marcada y una aceleración reciente. Mientras que en las primeras décadas se observan tasas de variación moderadas y estables en gran parte de Europa Occidental, la animación revela cómo, tras la crisis financiera y especialmente en el periodo post-pandemia (2021-2024), la intensidad de las subidas se dispara. Los países de Europa del Este y los Estados Bálticos (Estonia, Lituania) tienden a ocupar frecuentemente las categorías de crecimiento “Muy alta” (colores más oscuros en tu escala magma) debido a un efecto de convergencia económica y alta inflación reciente, mientras que mercados más regulados como Alemania o Francia suelen mostrar un comportamiento más contenido, aunque con una tendencia alcista generalizada en los últimos fotogramas debido a la presión inflacionaria global.</p>
</section><section id="oecd-boxplot" class="level2"><h2 class="anchored" data-anchor-id="oecd-boxplot">OECD Boxplot</h2>
<p>Cambiamos ahora de fuente. Haciendo uso de los datos de la OECD y mediante un diagrama de cajas observamos la dinámica de la inflación de los alquileres (el ritmo al que suben los precios anualmente), revelando un comportamiento cíclico dramático. Tras dos décadas de relativa estabilidad y una fase de enfriamiento notable entre 2010 y 2020, donde las subidas anuales se moderaron hasta caer cerca del 1% de mediana, se observa una ruptura estructural a partir de 2021. En los últimos tres años (2022-2024), la tendencia se invierte bruscamente con un ascenso vertical, llevando la mediana de incremento anual por encima del 4%, niveles inéditos en la serie histórica. Además, el alargamiento vertical de las cajas en este último periodo indica una mayor volatilidad y disparidad: mientras antes los países se comportaban de forma homogénea, ahora las diferencias en la intensidad de las subidas entre unos mercados y otros son extremas.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>url_ocde <span class="ot">&lt;-</span> <span class="st">"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.PA.CP041.N.?startPeriod=1996&amp;endPeriod=2024&amp;dimensionAtObservation=AllDimensions&amp;format=csvfilewithlabels"</span></span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#Creamos el archivo y descargamos los datos</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="fu">dir.create</span>(<span class="st">"datos"</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a></span>
<span id="cb10-6"><a href="#cb10-6"></a>ruta_ocde <span class="ot">&lt;-</span> <span class="st">"./datos/alquileres_ocde_anual.csv"</span></span>
<span id="cb10-7"><a href="#cb10-7"></a></span>
<span id="cb10-8"><a href="#cb10-8"></a>curl<span class="sc">::</span><span class="fu">curl_download</span>(url_ocde, ruta_ocde) </span>
<span id="cb10-9"><a href="#cb10-9"></a></span>
<span id="cb10-10"><a href="#cb10-10"></a>alquileres_ocde <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(ruta_ocde)</span>
<span id="cb10-11"><a href="#cb10-11"></a></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">#Filtramos los datos</span></span>
<span id="cb10-13"><a href="#cb10-13"></a></span>
<span id="cb10-14"><a href="#cb10-14"></a>alquileres_ocde_anual <span class="ot">&lt;-</span> alquileres_ocde <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15"></a>                          <span class="fu">select</span>(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>, TIME_PERIOD, OBS_VALUE) <span class="sc">%&gt;%</span></span>
<span id="cb10-16"><a href="#cb10-16"></a>                          <span class="fu">mutate</span>(año <span class="ot">=</span> TIME_PERIOD,</span>
<span id="cb10-17"><a href="#cb10-17"></a>                                 <span class="at">values =</span> OBS_VALUE,</span>
<span id="cb10-18"><a href="#cb10-18"></a>                                 país <span class="ot">=</span> <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>) </span>
<span id="cb10-19"><a href="#cb10-19"></a><span class="co">#Creamos el gráfico</span></span>
<span id="cb10-20"><a href="#cb10-20"></a>gráfico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(alquileres_ocde_anual, <span class="fu">aes</span>(<span class="at">x =</span> año,  <span class="at">y =</span> values)) <span class="sc">+</span></span>
<span id="cb10-21"><a href="#cb10-21"></a>      <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> año, <span class="at">fill =</span> <span class="fu">as.factor</span>(año)), <span class="at">outlier.shape =</span> <span class="dv">8</span>) <span class="sc">+</span> </span>
<span id="cb10-22"><a href="#cb10-22"></a>      <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.15</span>, <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="at">color =</span> <span class="st">"brown"</span>) <span class="sc">+</span></span>
<span id="cb10-23"><a href="#cb10-23"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 6: Diagrama de cajas del inncremento anual del</span><span class="sc">\n</span><span class="st">precio del alquiler G-12"</span>, </span>
<span id="cb10-24"><a href="#cb10-24"></a>           <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje"</span>,</span>
<span id="cb10-25"><a href="#cb10-25"></a>           <span class="at">caption =</span> <span class="st">"Fuente: OCDE 2025"</span>) <span class="sc">+</span></span>
<span id="cb10-26"><a href="#cb10-26"></a>      <span class="fu">theme_solarized</span>() <span class="sc">+</span> </span>
<span id="cb10-27"><a href="#cb10-27"></a>      <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"line"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span>               <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>      <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>),</span>
<span id="cb10-29"><a href="#cb10-29"></a>            <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb10-30"><a href="#cb10-30"></a></span>
<span id="cb10-31"><a href="#cb10-31"></a>gráfico </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="oecd-animación" class="level2"><h2 class="anchored" data-anchor-id="oecd-animación">OECD Animación</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>url_ocde <span class="ot">&lt;-</span> <span class="st">"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.IX.CP041.N.?startPeriod=1996&amp;endPeriod=2024&amp;dimensionAtObservation=AllDimensions&amp;format=csvfilewithlabels"</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#Creamos el archivo y descargamos los datos</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="fu">dir.create</span>(<span class="st">"datos"</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a>ruta_ocde <span class="ot">&lt;-</span> <span class="st">"./datos/alquileres_ocde.csv"</span></span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a>curl<span class="sc">::</span><span class="fu">curl_download</span>(url_ocde, ruta_ocde) </span>
<span id="cb11-9"><a href="#cb11-9"></a></span>
<span id="cb11-10"><a href="#cb11-10"></a>alquileres_ocde <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(ruta_ocde)</span>
<span id="cb11-11"><a href="#cb11-11"></a></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">#Filtramos los datos</span></span>
<span id="cb11-13"><a href="#cb11-13"></a>alquileres_ocde <span class="ot">&lt;-</span> alquileres_ocde <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>                   <span class="fu">select</span>(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>, TIME_PERIOD, OBS_VALUE) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="#cb11-15"></a>                   <span class="fu">mutate</span>(año <span class="ot">=</span> TIME_PERIOD,</span>
<span id="cb11-16"><a href="#cb11-16"></a>                          <span class="at">values =</span> OBS_VALUE,</span>
<span id="cb11-17"><a href="#cb11-17"></a>                          país <span class="ot">=</span> <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>)</span>
<span id="cb11-18"><a href="#cb11-18"></a>  </span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co">#Creamos el gráfico </span></span>
<span id="cb11-20"><a href="#cb11-20"></a>gráfico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(alquileres_ocde, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">color =</span> país)) <span class="sc">+</span></span>
<span id="cb11-21"><a href="#cb11-21"></a>            <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb11-22"><a href="#cb11-22"></a>            <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 7: Incremento del precio del alquiler (Base 2015) G-12"</span>, </span>
<span id="cb11-23"><a href="#cb11-23"></a>                  <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje (Base 2015)"</span>,</span>
<span id="cb11-24"><a href="#cb11-24"></a>                 <span class="at">caption =</span> <span class="st">"Fuente: OCDE 2025"</span>) <span class="sc">+</span></span>
<span id="cb11-25"><a href="#cb11-25"></a>            <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb11-26"><a href="#cb11-26"></a>            <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="at">by =</span> <span class="fl">12.5</span>),</span>
<span id="cb11-27"><a href="#cb11-27"></a>                               <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">150</span>),</span>
<span id="cb11-28"><a href="#cb11-28"></a>                               <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb11-29"><a href="#cb11-29"></a>            <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb11-30"><a href="#cb11-30"></a>            <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb11-31"><a href="#cb11-31"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb11-32"><a href="#cb11-32"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb11-33"><a href="#cb11-33"></a>            <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país))</span>
<span id="cb11-34"><a href="#cb11-34"></a>  </span>
<span id="cb11-35"><a href="#cb11-35"></a><span class="co">#Animámos el gráfico</span></span>
<span id="cb11-36"><a href="#cb11-36"></a>gráfico_animado <span class="ot">&lt;-</span> gráfico <span class="sc">+</span> <span class="fu">transition_reveal</span>(año)<span class="sc">+</span></span>
<span id="cb11-37"><a href="#cb11-37"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span> </span>
<span id="cb11-38"><a href="#cb11-38"></a>  <span class="fu">exit_fade</span>()</span>
<span id="cb11-39"><a href="#cb11-39"></a></span>
<span id="cb11-40"><a href="#cb11-40"></a>gráfico_animado</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>El gráfico evidencia una tendencia alcista estructural y sostenida en el precio de los alquileres para las principales economías de la OCDE entre 1996 y 2024. Tomando 2015 como año base (índice 100), se observa cómo la totalidad de los países analizados parten de niveles inferiores (cercanos a los 50-60 puntos) a mediados de los noventa y experimentan un crecimiento constante e ininterrumpido a lo largo de las tres décadas. Aunque la pendiente varía según el país —reflejando distintas presiones inflacionarias locales—, la imagen general confirma un encarecimiento progresivo y universal del acceso a la vivienda en alquiler en el bloque occidental, situándose los valores actuales muy por encima de los registros históricos.</p>
</section></section><section id="españa-y-el-precio-del-alquiler" class="level1"><h1><span style="color: yellow; background-color: red">España y el precio del alquiler</span></h1>
<p>Después de entender un poco la situación en Europa, nos acercamos a lo que más nos concierne, nuestro país, España. Hacemos ciertas modificaciones y entonces podremos empezar a trabajar con los datos.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">#Importamos los datos</span></span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a>my_url <span class="ot">&lt;-</span> <span class="st">"https://www.ine.es/jaxiT3/files/t/es/px/50914.px?nocab=1"</span></span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb12-6"><a href="#cb12-6"></a></span>
<span id="cb12-7"><a href="#cb12-7"></a>my_destino <span class="ot">&lt;-</span> <span class="st">"./datos/50914.px"</span></span>
<span id="cb12-8"><a href="#cb12-8"></a></span>
<span id="cb12-9"><a href="#cb12-9"></a>curl<span class="sc">::</span><span class="fu">curl_download</span>(my_url, my_destino)</span>
<span id="cb12-10"><a href="#cb12-10"></a></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">#Obtenemos el DataFrame completo</span></span>
<span id="cb12-12"><a href="#cb12-12"></a></span>
<span id="cb12-13"><a href="#cb12-13"></a>df <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(my_destino) <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb12-14"><a href="#cb12-14"></a></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="co">#Filtramos el df y nos quedamos con el subgrupo y el tipo de dato a estudiar. Tambien quitamos los NA de la columna value</span></span>
<span id="cb12-16"><a href="#cb12-16"></a></span>
<span id="cb12-17"><a href="#cb12-17"></a><span class="fu">names</span>(df)</span>
<span id="cb12-18"><a href="#cb12-18"></a><span class="co">#&gt; [1] "Periodo"                          "Tipo.de.dato"                    </span></span>
<span id="cb12-19"><a href="#cb12-19"></a><span class="co">#&gt; [3] "Subgrupos"                        "Comunidades.y.Ciudades.Autónomas"</span></span>
<span id="cb12-20"><a href="#cb12-20"></a><span class="co">#&gt; [5] "value"</span></span>
<span id="cb12-21"><a href="#cb12-21"></a>nombres_actuales <span class="ot">&lt;-</span> <span class="fu">names</span>(df)</span>
<span id="cb12-22"><a href="#cb12-22"></a>nombres_actuales[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">"CCAA"</span></span>
<span id="cb12-23"><a href="#cb12-23"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> nombres_actuales</span>
<span id="cb12-24"><a href="#cb12-24"></a></span>
<span id="cb12-25"><a href="#cb12-25"></a></span>
<span id="cb12-26"><a href="#cb12-26"></a>df_VIVIENDA <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb12-27"><a href="#cb12-27"></a>  <span class="fu">filter</span>(Subgrupos <span class="sc">==</span> <span class="st">"041 Alquiler de vivienda"</span>, Tipo.de.dato <span class="sc">==</span> <span class="st">"Variación anual"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb12-28"><a href="#cb12-28"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(value)) </span>
<span id="cb12-29"><a href="#cb12-29"></a>  </span>
<span id="cb12-30"><a href="#cb12-30"></a></span>
<span id="cb12-31"><a href="#cb12-31"></a><span class="co">#Cambiamos el formato de la fecha con el paquete lubridate</span></span>
<span id="cb12-32"><a href="#cb12-32"></a></span>
<span id="cb12-33"><a href="#cb12-33"></a>df_VIVIENDA_Fechas <span class="ot">&lt;-</span> df_VIVIENDA <span class="sc">%&gt;%</span></span>
<span id="cb12-34"><a href="#cb12-34"></a>    <span class="fu">arrange</span>(CCAA, Periodo) <span class="sc">%&gt;%</span></span>
<span id="cb12-35"><a href="#cb12-35"></a>    <span class="fu">mutate</span>(<span class="at">Fecha_Base =</span> <span class="fu">gsub</span>(<span class="st">"M"</span>, <span class="st">"-"</span>, Periodo),</span>
<span id="cb12-36"><a href="#cb12-36"></a>    <span class="at">Fecha_Completa =</span> <span class="fu">paste0</span>(Fecha_Base, <span class="st">"-01"</span>),</span>
<span id="cb12-37"><a href="#cb12-37"></a>    <span class="at">Periodo_Fecha =</span> <span class="fu">ymd</span>(Fecha_Completa)) <span class="sc">%&gt;%</span></span>
<span id="cb12-38"><a href="#cb12-38"></a>    <span class="fu">select</span>(<span class="sc">-</span>Fecha_Base, <span class="sc">-</span>Fecha_Completa,<span class="sc">-</span>Periodo)</span>
<span id="cb12-39"><a href="#cb12-39"></a></span>
<span id="cb12-40"><a href="#cb12-40"></a>df__VIVIENDA <span class="ot">&lt;-</span> df_VIVIENDA_Fechas <span class="sc">%&gt;%</span></span>
<span id="cb12-41"><a href="#cb12-41"></a>  <span class="fu">filter</span>(<span class="fu">month</span>(Periodo_Fecha) <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-42"><a href="#cb12-42"></a>  <span class="fu">arrange</span>(Periodo_Fecha) <span class="sc">%&gt;%</span></span>
<span id="cb12-43"><a href="#cb12-43"></a>  <span class="fu">mutate</span>(<span class="at">Periodo_Fecha =</span> <span class="fu">as.Date</span>(Periodo_Fecha, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>))</span>
<span id="cb12-44"><a href="#cb12-44"></a></span>
<span id="cb12-45"><a href="#cb12-45"></a><span class="co">#Obtenemos el data frame final "bonito" con el que trabajar</span></span>
<span id="cb12-46"><a href="#cb12-46"></a></span>
<span id="cb12-47"><a href="#cb12-47"></a>df_FINAL_VIVIENDA <span class="ot">&lt;-</span> df__VIVIENDA <span class="sc">%&gt;%</span></span>
<span id="cb12-48"><a href="#cb12-48"></a>  <span class="fu">select</span>(<span class="sc">-</span>Subgrupos, <span class="sc">-</span>Tipo.de.dato) <span class="sc">%&gt;%</span></span>
<span id="cb12-49"><a href="#cb12-49"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">var_anual_precio_alquiler =</span> value)</span>
<span id="cb12-50"><a href="#cb12-50"></a></span>
<span id="cb12-51"><a href="#cb12-51"></a><span class="fu">str</span>(df_FINAL_VIVIENDA)</span>
<span id="cb12-52"><a href="#cb12-52"></a><span class="co">#&gt; tibble [480 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb12-53"><a href="#cb12-53"></a><span class="co">#&gt;  $ CCAA                     : Factor w/ 20 levels "Nacional","01 Andalucía",..: 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span id="cb12-54"><a href="#cb12-54"></a><span class="co">#&gt;  $ var_anual_precio_alquiler: num [1:480] 4.3 4.5 5.1 3.2 6.9 3.2 2.9 3.9 3.9 4.5 ...</span></span>
<span id="cb12-55"><a href="#cb12-55"></a><span class="co">#&gt;  $ Periodo_Fecha            : Date[1:480], format: "2002-01-01" "2002-01-01" ...</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Para ver cómo ha evolucionado la variación anual del precio del alquiler NACIONAL desde 2002 a 2025 crearemos un gráfico. Además este nos servira como gráfico introductorio para ver los datos que trataremos en esta sección.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>df_vivienda_nacional <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> <span class="fu">filter</span>(CCAA <span class="sc">==</span> <span class="st">"Nacional"</span>)</span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_vivienda_nacional, <span class="fu">aes</span>(<span class="at">x =</span> Periodo_Fecha, <span class="at">y =</span> var_anual_precio_alquiler)) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="st">"Nacional"</span>), <span class="at">linewidth =</span> <span class="fl">0.8</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Nacional"</span> <span class="ot">=</span> <span class="st">"#004488"</span>)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 8: Evolución de la variación anual del precio del alquiler</span><span class="sc">\n</span><span class="st">a nivel NACIONAL"</span>,</span>
<span id="cb13-8"><a href="#cb13-8"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb13-9"><a href="#cb13-9"></a>       <span class="at">caption =</span> <span class="st">"Fuente: INE"</span>,</span>
<span id="cb13-10"><a href="#cb13-10"></a>       <span class="at">x =</span> <span class="st">"Periodo (años)"</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>       <span class="at">y =</span> <span class="st">"Variación anual (%)"</span>,</span>
<span id="cb13-12"><a href="#cb13-12"></a>       <span class="at">color =</span> <span class="st">"Región"</span>) <span class="sc">+</span> </span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"2 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) </span>
<span id="cb13-14"><a href="#cb13-14"></a></span>
<span id="cb13-15"><a href="#cb13-15"></a>p1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/P error 2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="my_trabajo_BigData_files/figure-html/P error 2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>El Gráfico 8 evidencia una marcada volatilidad en el crecimiento anual de los precios del alquiler entre 2002 y 2025. Tras registrar tasas superiores al 4% hasta 2008, la variación cayó drásticamente, llegando a ser negativa en el período 2014-2016. Desde ese mínimo, se observa una clara recuperación y una aceleración post-2022 que sitúa la variación proyectada para 2025 cerca del 2.5%.</p>
<section id="donde-sube-más-el-alquiler" class="level2"><h2 class="anchored" data-anchor-id="donde-sube-más-el-alquiler">¿Donde sube más el alquiler?</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>df_vivienda_promedios_maxs <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2"></a>                         <span class="fu">group_by</span>(CCAA) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>                         <span class="fu">summarise</span>(<span class="at">media_var_anual =</span> <span class="fu">mean</span>(var_anual_precio_alquiler))<span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>                         <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>                         <span class="fu">slice_max</span>(media_var_anual, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb14-6"><a href="#cb14-6"></a>                      </span>
<span id="cb14-7"><a href="#cb14-7"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_vivienda_promedios_maxs, <span class="fu">aes</span>(<span class="at">x =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(CCAA, media_var_anual), <span class="at">y =</span> media_var_anual)) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 9: Las 5 comunidades con una mayor variación</span><span class="sc">\n</span><span class="st">anual media del precio de alquiler"</span>,</span>
<span id="cb14-11"><a href="#cb14-11"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb14-12"><a href="#cb14-12"></a>       <span class="at">caption =</span> <span class="st">"Fuente: INE"</span>,</span>
<span id="cb14-13"><a href="#cb14-13"></a>       <span class="at">x =</span> <span class="st">"Comunidades Autónomas"</span>,</span>
<span id="cb14-14"><a href="#cb14-14"></a>       <span class="at">y =</span> <span class="st">"Variación anual media (%)"</span>)</span>
<span id="cb14-15"><a href="#cb14-15"></a>p2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/P error 3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="my_trabajo_BigData_files/figure-html/P error 3-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>El Gráfico 9 identifica las 5 comunidades autónomas con la mayor variación anual media en el precio del alquiler durante el periodo 2002-2025. Liderando la lista se encuentran las Islas Baleares, seguidas muy de cerca por Cataluña, ambas con una variación media superior al 2.1%. Las comunidades de Aragón, Comunidad de Madrid y País Vasco cierran el top 5, manteniendo también variaciones medias anuales por encima del 2.0% para todo el período. Se muestra en un plot de barras con las coordenas invertidas y con el paquete forcats utilizamos la funcion fct_reorder para ordenar de mayor a menor</p>
<p>Vemos la evolución de las 5 comunidades que han experimentado una mayor variación anual media del precio de alquiler durante los periodos 2002-2025. Primero hacemos el gráfico de lineas y luego con el paquete gganimate lo hacemos animado. Se puede ver una disminución de la variación anual en las 5 CCAA en el año 2010 debido a la crisis inmobiliaria.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>df_vivienda_maxs <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a>                    <span class="fu">filter</span>(CCAA <span class="sc">%in%</span> </span>
<span id="cb15-3"><a href="#cb15-3"></a>                    <span class="fu">c</span>(<span class="st">"04 Balears, Illes"</span>,<span class="st">"09 Cataluña"</span>,<span class="st">"02 Aragón"</span>,<span class="st">"13 Madrid, Comunidad de"</span>,<span class="st">"16 País Vasco"</span>))</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>p4 <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>(df_vivienda_maxs, <span class="fu">aes</span>(<span class="at">x =</span> Periodo_Fecha, <span class="at">y =</span> var_anual_precio_alquiler, <span class="at">color =</span> CCAA)) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>       <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>       <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 10: Evolución de la variación anual del precio del alquiler</span><span class="sc">\n</span><span class="st">de las 5 comunidades"</span>,</span>
<span id="cb15-8"><a href="#cb15-8"></a>        <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb15-9"><a href="#cb15-9"></a>        <span class="at">caption =</span> <span class="st">"Fuente: INE"</span>,</span>
<span id="cb15-10"><a href="#cb15-10"></a>        <span class="at">x =</span> <span class="st">"Periodo (años)"</span>,</span>
<span id="cb15-11"><a href="#cb15-11"></a>        <span class="at">y =</span> <span class="st">"Variación anual (%)"</span>,</span>
<span id="cb15-12"><a href="#cb15-12"></a>        <span class="at">color =</span> <span class="st">"Comunidades Autónomas"</span>) </span>
<span id="cb15-13"><a href="#cb15-13"></a></span>
<span id="cb15-14"><a href="#cb15-14"></a>grafico_ani_top5 <span class="ot">&lt;-</span> p4 <span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15"></a>  <span class="fu">transition_reveal</span>(Periodo_Fecha) <span class="sc">+</span>  </span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17"></a>  <span class="fu">exit_fade</span>()</span>
<span id="cb15-18"><a href="#cb15-18"></a></span>
<span id="cb15-19"><a href="#cb15-19"></a>grafico_ani_top5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/P error 4-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="my_trabajo_BigData_files/figure-html/P error 4-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>El Gráfico 10 muestra que, aunque las 5 comunidades comenzaron el periodo 2002-2025 con tasas de crecimiento anual superiores al 4%, todas experimentaron una fuerte y simultánea caída hasta el entorno de 2014-2016, llegando incluso a tasas negativas. A partir de 2016, las variaciones se recuperaron y fluctuaron alrededor del 1% al 2.5%, con las Islas Baleares liderando el crecimiento en varios puntos y la Comunidad de Madrid mostrando una menor variación en el último periodo. En general, se observa una alta correlación en el ciclo de precios entre estas cinco comunidades.</p>
</section><section id="donde-baja-más-el-alquiler" class="level2"><h2 class="anchored" data-anchor-id="donde-baja-más-el-alquiler">¿Donde baja más el alquiler?</h2>
<p>Ahora, buscamos lo contrario, qué 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler en el periodo 2002-2025.En este hacemos lo mismo pero con las 8 comunidades con menor variación anual media. Aquí ningún valor supera el 1.75% de variación media y con el condicional ifelse destacamos que la comunidad que menos ha variado es Navarra. También utilizamos la función fct_reorder para ordenar de mayor a menor y quitamos la leyenda. El resto de comunidades de este grupo, incluyendo Melilla y Asturias, se mantienen en un rango muy estrecho de variaciones, confirmando que estas son las regiones donde el alquiler se ha moderado más.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>df_vivienda_promedios_mins <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">group_by</span>(CCAA) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">summarise</span>(<span class="at">media_var_anual =</span> <span class="fu">mean</span>(var_anual_precio_alquiler))<span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="fu">slice_min</span>(media_var_anual, <span class="at">n =</span> <span class="dv">8</span>)</span>
<span id="cb16-6"><a href="#cb16-6"></a></span>
<span id="cb16-7"><a href="#cb16-7"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_vivienda_promedios_mins, </span>
<span id="cb16-8"><a href="#cb16-8"></a>      <span class="fu">aes</span>(<span class="at">x =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(CCAA, media_var_anual), <span class="at">y =</span> media_var_anual, </span>
<span id="cb16-9"><a href="#cb16-9"></a>      <span class="at">fill =</span> <span class="fu">ifelse</span> (CCAA <span class="sc">==</span> <span class="st">"15 Navarra, Comunidad Foral de"</span>, <span class="st">"darkred"</span>, <span class="st">"lightblue"</span>))) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10"></a>      <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11"></a>      <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 11: Las 5 comunidades que han experimentado</span><span class="sc">\n</span><span class="st">una menor variación anual media del precio de alquiler"</span>,</span>
<span id="cb16-13"><a href="#cb16-13"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb16-14"><a href="#cb16-14"></a>       <span class="at">caption =</span> <span class="st">"Fuente INE"</span>,</span>
<span id="cb16-15"><a href="#cb16-15"></a>       <span class="at">x =</span> <span class="st">"Comunidades Autónomas"</span>,</span>
<span id="cb16-16"><a href="#cb16-16"></a>       <span class="at">y =</span> <span class="st">"Variación anual media (%)"</span>) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb16-18"><a href="#cb16-18"></a>p3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-12-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Mostramos los datos en una tabla con el paquete DT Utilizamos las opciones para dejarla mas limpia y la función formatRound para limitar la columna media_var_anual a 2 decimales</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(df_vivienda_promedios_mins,</span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">"t"</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">targets =</span> <span class="st">"_all"</span>, <span class="at">className =</span> <span class="st">"dt-center"</span>))),</span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="at">caption =</span> <span class="st">"Tabla 3: Las 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">formatRound</span>(<span class="st">"media_var_anual"</span>, <span class="dv">2</span>) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-17608f9cd022ef85cf52" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-17608f9cd022ef85cf52">{"x":{"filter":"none","vertical":false,"caption":"<caption>Tabla 3: Las 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler<\/caption>","data":[["1","2","3","4","5","6","7","8","9"],["15 Navarra, Comunidad Foral de","17 Rioja, La","05 Canarias","11 Extremadura","14 Murcia, Región de","07 Castilla y León","08 Castilla - La Mancha","03 Asturias, Principado de","19 Melilla"],[1.370833333333333,1.495833333333333,1.583333333333333,1.583333333333333,1.591666666666667,1.6125,1.6625,1.7375,1.7375]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>CCAA<\/th>\n      <th>media_var_anual<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":"_all","className":"dt-center"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"CCAA","targets":1},{"name":"media_var_anual","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
</section><section id="mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025" class="level2"><h2 class="anchored" data-anchor-id="mapa-de-coropletas-de-la-variación-anual-promedio-del-precio-de-alquiler-del-periodo-2002-2025">Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Desplegar codigo</summary><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co">#Obtenemos el mapa del paquete del curso </span></span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a>df_mapa <span class="ot">&lt;-</span> pjpv.curso.R<span class="fl">.2022</span><span class="sc">::</span>LAU2_prov_2020_canarias</span>
<span id="cb18-4"><a href="#cb18-4"></a></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co">#Primero agregamos provincias para obtener geometrías para las CCAA (script)</span></span>
<span id="cb18-6"><a href="#cb18-6"></a></span>
<span id="cb18-7"><a href="#cb18-7"></a>ccaa <span class="ot">&lt;-</span> df_mapa <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">group_by</span>(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) <span class="sc">%&gt;%</span> </span>
<span id="cb18-9"><a href="#cb18-9"></a>  <span class="fu">summarise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-10"><a href="#cb18-10"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb18-11"><a href="#cb18-11"></a></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="co">#Modificamos nuestro dataframe creando la media de todas las CCAAs. También creamos la columna común</span></span>
<span id="cb18-13"><a href="#cb18-13"></a></span>
<span id="cb18-14"><a href="#cb18-14"></a>df_vivienda_promedios <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb18-15"><a href="#cb18-15"></a>  <span class="fu">group_by</span>(CCAA) <span class="sc">%&gt;%</span></span>
<span id="cb18-16"><a href="#cb18-16"></a>  <span class="fu">summarise</span>(<span class="at">media_var_anual =</span> <span class="fu">mean</span>(var_anual_precio_alquiler))<span class="sc">%&gt;%</span></span>
<span id="cb18-17"><a href="#cb18-17"></a>  <span class="fu">filter</span>(CCAA <span class="sc">!=</span> <span class="st">"Nacional"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-18"><a href="#cb18-18"></a>  <span class="fu">ungroup</span>()<span class="sc">%&gt;%</span></span>
<span id="cb18-19"><a href="#cb18-19"></a>  <span class="fu">mutate</span>( <span class="at">ine_ccaa =</span> <span class="fu">str_pad</span>( <span class="at">string =</span> <span class="fu">row_number</span>(), </span>
<span id="cb18-20"><a href="#cb18-20"></a>    <span class="at">width =</span> <span class="dv">2</span>,            </span>
<span id="cb18-21"><a href="#cb18-21"></a>    <span class="at">pad =</span> <span class="st">"0"</span>,           </span>
<span id="cb18-22"><a href="#cb18-22"></a>    <span class="at">side =</span> <span class="st">"left"</span>), </span>
<span id="cb18-23"><a href="#cb18-23"></a>    <span class="at">.before =</span> CCAA)</span>
<span id="cb18-24"><a href="#cb18-24"></a></span>
<span id="cb18-25"><a href="#cb18-25"></a><span class="co">#Con la función left_join creamos nuestro dataframe preparado para hacer el plot de coropletas</span></span>
<span id="cb18-26"><a href="#cb18-26"></a></span>
<span id="cb18-27"><a href="#cb18-27"></a>df_mapa <span class="ot">&lt;-</span> <span class="fu">left_join</span>(ccaa, df_vivienda_promedios, <span class="at">by =</span> <span class="st">"ine_ccaa"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-28"><a href="#cb18-28"></a>           <span class="fu">select</span>(ine_ccaa,ine_ccaa.n,geometry,media_var_anual)</span>
<span id="cb18-29"><a href="#cb18-29"></a></span>
<span id="cb18-30"><a href="#cb18-30"></a><span class="co">#Con print podemos ver la estructura del df en la consola</span></span>
<span id="cb18-31"><a href="#cb18-31"></a></span>
<span id="cb18-32"><a href="#cb18-32"></a><span class="fu">print</span>(df_mapa)</span>
<span id="cb18-33"><a href="#cb18-33"></a><span class="co">#&gt; Simple feature collection with 19 features and 3 fields</span></span>
<span id="cb18-34"><a href="#cb18-34"></a><span class="co">#&gt; Geometry type: GEOMETRY</span></span>
<span id="cb18-35"><a href="#cb18-35"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb18-36"><a href="#cb18-36"></a><span class="co">#&gt; Bounding box:  xmin: -11.90152 ymin: 35.17045 xmax: 4.327785 ymax: 43.79238</span></span>
<span id="cb18-37"><a href="#cb18-37"></a><span class="co">#&gt; Geodetic CRS:  ETRS89</span></span>
<span id="cb18-38"><a href="#cb18-38"></a><span class="co">#&gt; # A tibble: 19 × 4</span></span>
<span id="cb18-39"><a href="#cb18-39"></a><span class="co">#&gt;    ine_ccaa ine_ccaa.n                                  geometry media_var_anual</span></span>
<span id="cb18-40"><a href="#cb18-40"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;GEOMETRY [°]&gt;           &lt;dbl&gt;</span></span>
<span id="cb18-41"><a href="#cb18-41"></a><span class="co">#&gt;  1 01       Andalucía                  MULTIPOLYGON (((-4.26887…            2.02</span></span>
<span id="cb18-42"><a href="#cb18-42"></a><span class="co">#&gt;  2 02       Aragón                     POLYGON ((-1.571136 40.2…            2.16</span></span>
<span id="cb18-43"><a href="#cb18-43"></a><span class="co">#&gt;  3 03       Asturias, Principado de    MULTIPOLYGON (((-7.13843…            1.74</span></span>
<span id="cb18-44"><a href="#cb18-44"></a><span class="co">#&gt;  4 04       Balears, Illes             MULTIPOLYGON (((1.157426…            2.32</span></span>
<span id="cb18-45"><a href="#cb18-45"></a><span class="co">#&gt;  5 05       Canarias                   MULTIPOLYGON (((-9.56273…            1.58</span></span>
<span id="cb18-46"><a href="#cb18-46"></a><span class="co">#&gt;  6 06       Cantabria                  MULTIPOLYGON (((-4.77327…            1.95</span></span>
<span id="cb18-47"><a href="#cb18-47"></a><span class="co">#&gt;  7 07       Castilla y León            MULTIPOLYGON (((-4.08134…            1.61</span></span>
<span id="cb18-48"><a href="#cb18-48"></a><span class="co">#&gt;  8 08       Castilla-La Mancha         MULTIPOLYGON (((-3.38046…            1.66</span></span>
<span id="cb18-49"><a href="#cb18-49"></a><span class="co">#&gt;  9 09       Cataluña                   MULTIPOLYGON (((0.615536…            2.25</span></span>
<span id="cb18-50"><a href="#cb18-50"></a><span class="co">#&gt; 10 10       Comunitat Valenciana       MULTIPOLYGON (((-1.41691…            1.97</span></span>
<span id="cb18-51"><a href="#cb18-51"></a><span class="co">#&gt; 11 11       Extremadura                POLYGON ((-7.474915 39.5…            1.58</span></span>
<span id="cb18-52"><a href="#cb18-52"></a><span class="co">#&gt; 12 12       Galicia                    MULTIPOLYGON (((-8.94933…            1.84</span></span>
<span id="cb18-53"><a href="#cb18-53"></a><span class="co">#&gt; 13 13       Madrid, Comunidad de       MULTIPOLYGON (((-4.45567…            2.06</span></span>
<span id="cb18-54"><a href="#cb18-54"></a><span class="co">#&gt; 14 14       Murcia, Región de          MULTIPOLYGON (((-2.29836…            1.59</span></span>
<span id="cb18-55"><a href="#cb18-55"></a><span class="co">#&gt; 15 15       Navarra, Comunidad Foral … MULTIPOLYGON (((-2.42493…            1.37</span></span>
<span id="cb18-56"><a href="#cb18-56"></a><span class="co">#&gt; 16 16       País Vasco                 MULTIPOLYGON (((-2.41260…            2.04</span></span>
<span id="cb18-57"><a href="#cb18-57"></a><span class="co">#&gt; 17 17       Rioja, La                  POLYGON ((-3.091347 42.5…            1.50</span></span>
<span id="cb18-58"><a href="#cb18-58"></a><span class="co">#&gt; 18 18       Ceuta                      MULTIPOLYGON (((-5.38192…            1.84</span></span>
<span id="cb18-59"><a href="#cb18-59"></a><span class="co">#&gt; 19 19       Melilla                    MULTIPOLYGON (((-4.29690…            1.74</span></span>
<span id="cb18-60"><a href="#cb18-60"></a></span>
<span id="cb18-61"><a href="#cb18-61"></a><span class="co">#Creamos el dataframe con los cuartiles </span></span>
<span id="cb18-62"><a href="#cb18-62"></a></span>
<span id="cb18-63"><a href="#cb18-63"></a>df_mapa_ntiles <span class="ot">&lt;-</span> df_mapa <span class="sc">%&gt;%</span></span>
<span id="cb18-64"><a href="#cb18-64"></a>   <span class="fu">mutate</span>(<span class="at">CLASE_COROPLETAS_NTILE =</span> <span class="fu">ntile</span>(media_var_anual, <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb18-65"><a href="#cb18-65"></a>   <span class="fu">mutate</span>(</span>
<span id="cb18-66"><a href="#cb18-66"></a>    <span class="at">CLASE_COROPLETAS_NTILE =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-67"><a href="#cb18-67"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Cuartil 1 - Variación Baja"</span>,</span>
<span id="cb18-68"><a href="#cb18-68"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Cuartil 2 - Variación Media-Baja"</span>,</span>
<span id="cb18-69"><a href="#cb18-69"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Cuartil 3 - Variación Media-Alta"</span>,</span>
<span id="cb18-70"><a href="#cb18-70"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"Cuartil 4 - Variación Alta"</span>))</span>
<span id="cb18-71"><a href="#cb18-71"></a> </span>
<span id="cb18-72"><a href="#cb18-72"></a><span class="co">#Mapeamos</span></span>
<span id="cb18-73"><a href="#cb18-73"></a></span>
<span id="cb18-74"><a href="#cb18-74"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_mapa_ntiles) <span class="sc">+</span></span>
<span id="cb18-75"><a href="#cb18-75"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> CLASE_COROPLETAS_NTILE),</span>
<span id="cb18-76"><a href="#cb18-76"></a>          <span class="at">color =</span> <span class="st">"Black"</span>,</span>
<span id="cb18-77"><a href="#cb18-77"></a>          <span class="at">linewidth =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb18-78"><a href="#cb18-78"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Blues"</span>,</span>
<span id="cb18-79"><a href="#cb18-79"></a>          <span class="at">name =</span> <span class="st">"Variación Anual Media</span><span class="sc">\n</span><span class="st">(Clasificación por Cuartiles)"</span>) <span class="sc">+</span></span>
<span id="cb18-80"><a href="#cb18-80"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mapa 2: Variación Anual Media del precio del alquiler por CCAA"</span>,</span>
<span id="cb18-81"><a href="#cb18-81"></a>          <span class="at">subtitle =</span> <span class="st">"Promedio obtenido de 2002-2025 (Expresado en variación porcentual)"</span>,</span>
<span id="cb18-82"><a href="#cb18-82"></a>          <span class="at">caption =</span> <span class="st">"Fuente: Instituto Nacional de Estadística"</span>) <span class="sc">+</span></span>
<span id="cb18-83"><a href="#cb18-83"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-14-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>En el Mapa 2 se observa la variación media anual del alquiler (2002-2025), muestra una fuerte dualidad territorial en España. Las subidas más altas (Cuartil 4) se concentran de forma clara en el Mediterráneo, lideradas por Cataluña y las Islas Baleares. La Comunidad de Madrid y la Comunidad Valenciana se sitúan en el cuartil de variación media-alta (Cuartil 3). En contraste, las regiones de la mitad oeste (Galicia, Extremadura, Castilla y León) presentan la variación más baja (Cuartil 1). El patrón subraya una mayor presión de la demanda en zonas costeras y en los principales centros económicos del país.</p>
<p><br></p>
<section id="información-sobre-la-sesión" class="level3"><h3 class="anchored" data-anchor-id="información-sobre-la-sesión">Información sobre la sesión</h3>
<p>Abajo muestro mi entorno de trabajo y paquetes utilizados</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<details closed=""><summary><span title="Click to Expand"> current session info </span>
</summary><div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a></span>
<span id="cb19-2"><a href="#cb19-2"></a>─ Session info ───────────────────────────────────────────────────────────────</span>
<span id="cb19-3"><a href="#cb19-3"></a> setting  value</span>
<span id="cb19-4"><a href="#cb19-4"></a> version  R version <span class="dv">4</span>.<span class="fl">5.2</span> (<span class="dv">2025-10-31</span> ucrt)</span>
<span id="cb19-5"><a href="#cb19-5"></a> os       Windows <span class="dv">11</span> <span class="fu">x64</span> (build <span class="dv">26200</span>)</span>
<span id="cb19-6"><a href="#cb19-6"></a> system   x86_64, mingw32</span>
<span id="cb19-7"><a href="#cb19-7"></a> ui       RTerm</span>
<span id="cb19-8"><a href="#cb19-8"></a> <span class="fu">language</span> (EN)</span>
<span id="cb19-9"><a href="#cb19-9"></a> collate  Spanish_Spain.utf8</span>
<span id="cb19-10"><a href="#cb19-10"></a> ctype    Spanish_Spain.utf8</span>
<span id="cb19-11"><a href="#cb19-11"></a> tz       Europe<span class="sc">/</span>Madrid</span>
<span id="cb19-12"><a href="#cb19-12"></a> date     <span class="dv">2025-12-17</span></span>
<span id="cb19-13"><a href="#cb19-13"></a> pandoc   <span class="dv">3</span>.<span class="fl">6.3</span> <span class="sc">@</span> C<span class="sc">:</span><span class="er">/</span>Program Files<span class="sc">/</span>RStudio<span class="sc">/</span>resources<span class="sc">/</span>app<span class="sc">/</span>bin<span class="sc">/</span>quarto<span class="sc">/</span>bin<span class="sc">/</span>tools<span class="sc">/</span> (via rmarkdown)</span>
<span id="cb19-14"><a href="#cb19-14"></a> quarto   <span class="cn">NA</span> <span class="sc">@</span> C<span class="sc">:</span>\\PROGRA<span class="sc">~</span><span class="dv">1</span>\\RStudio\\RESOUR<span class="sc">~</span><span class="dv">1</span>\\app\\bin\\quarto\\bin\\quarto.exe</span>
<span id="cb19-15"><a href="#cb19-15"></a></span>
<span id="cb19-16"><a href="#cb19-16"></a>─ Packages ───────────────────────────────────────────────────────────────────</span>
<span id="cb19-17"><a href="#cb19-17"></a> package           <span class="sc">*</span> version    <span class="fu">date</span> (UTC) lib source</span>
<span id="cb19-18"><a href="#cb19-18"></a> assertthat          <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2019-03-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-19"><a href="#cb19-19"></a> backports           <span class="dv">1</span>.<span class="fl">5.0</span>      <span class="dv">2024-05-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-20"><a href="#cb19-20"></a> bibtex              <span class="dv">0</span>.<span class="fl">5.1</span>      <span class="dv">2023-01-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-21"><a href="#cb19-21"></a> bit                 <span class="dv">4</span>.<span class="fl">6.0</span>      <span class="dv">2025-03-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-22"><a href="#cb19-22"></a> bit64               <span class="dv">4</span>.<span class="fl">6.0</span><span class="dv">-1</span>    <span class="dv">2025-01-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-23"><a href="#cb19-23"></a> bslib               <span class="dv">0</span>.<span class="fl">9.0</span>      <span class="dv">2025-01-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-24"><a href="#cb19-24"></a> cachem              <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2024-05-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-25"><a href="#cb19-25"></a> cellranger          <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2016-07-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-26"><a href="#cb19-26"></a> class               <span class="fl">7.3</span><span class="dv">-23</span>     <span class="dv">2025-01-01</span> [<span class="dv">2</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-27"><a href="#cb19-27"></a> classInt          <span class="sc">*</span> <span class="fl">0.4</span><span class="dv">-11</span>     <span class="dv">2025-01-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-28"><a href="#cb19-28"></a> cli                 <span class="dv">3</span>.<span class="fl">6.5</span>      <span class="dv">2025-04-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-29"><a href="#cb19-29"></a> clipr               <span class="dv">0</span>.<span class="fl">8.0</span>      <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-30"><a href="#cb19-30"></a> countrycode         <span class="dv">1</span>.<span class="fl">6.1</span>      <span class="dv">2025-03-31</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-31"><a href="#cb19-31"></a> crayon              <span class="dv">1</span>.<span class="fl">5.3</span>      <span class="dv">2024-06-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-32"><a href="#cb19-32"></a> crosstalk           <span class="dv">1</span>.<span class="fl">2.2</span>      <span class="dv">2025-08-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-33"><a href="#cb19-33"></a> curl                <span class="dv">7</span>.<span class="fl">0.0</span>      <span class="dv">2025-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-34"><a href="#cb19-34"></a> data.table          <span class="dv">1</span>.<span class="fl">17.8</span>     <span class="dv">2025-07-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-35"><a href="#cb19-35"></a> DBI                 <span class="dv">1</span>.<span class="fl">2.3</span>      <span class="dv">2024-06-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-36"><a href="#cb19-36"></a> desc                <span class="dv">1</span>.<span class="fl">4.3</span>      <span class="dv">2023-12-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-37"><a href="#cb19-37"></a> details             <span class="dv">0</span>.<span class="fl">4.0</span>      <span class="dv">2025-02-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-38"><a href="#cb19-38"></a> devtools            <span class="dv">2</span>.<span class="fl">4.6</span>      <span class="dv">2025-10-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-39"><a href="#cb19-39"></a> digest              <span class="dv">0</span>.<span class="fl">6.39</span>     <span class="dv">2025-11-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-40"><a href="#cb19-40"></a> dplyr             <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">1.4</span>      <span class="dv">2023-11-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-41"><a href="#cb19-41"></a> DT                <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">34.0</span>     <span class="dv">2025-09-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-42"><a href="#cb19-42"></a> e1071               <span class="fl">1.7</span><span class="dv">-16</span>     <span class="dv">2024-09-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-43"><a href="#cb19-43"></a> ellipsis            <span class="dv">0</span>.<span class="fl">3.2</span>      <span class="dv">2021-04-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-44"><a href="#cb19-44"></a> eurostat          <span class="sc">*</span> <span class="dv">4</span>.<span class="fl">0.0</span>      <span class="dv">2023-12-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-45"><a href="#cb19-45"></a> evaluate            <span class="dv">1</span>.<span class="fl">0.5</span>      <span class="dv">2025-08-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-46"><a href="#cb19-46"></a> farver              <span class="dv">2</span>.<span class="fl">1.2</span>      <span class="dv">2024-05-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-47"><a href="#cb19-47"></a> fastmap             <span class="dv">1</span>.<span class="fl">2.0</span>      <span class="dv">2024-05-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-48"><a href="#cb19-48"></a> fontawesome         <span class="dv">0</span>.<span class="fl">5.3</span>      <span class="dv">2024-11-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-49"><a href="#cb19-49"></a> forcats           <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.1</span>      <span class="dv">2025-09-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-50"><a href="#cb19-50"></a> fs                  <span class="dv">1</span>.<span class="fl">6.6</span>      <span class="dv">2025-04-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-51"><a href="#cb19-51"></a> generics            <span class="dv">0</span>.<span class="fl">1.4</span>      <span class="dv">2025-05-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-52"><a href="#cb19-52"></a> gganimate         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.11</span>     <span class="dv">2025-09-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-53"><a href="#cb19-53"></a> ggplot2           <span class="sc">*</span> <span class="dv">4</span>.<span class="fl">0.1</span>      <span class="dv">2025-11-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-54"><a href="#cb19-54"></a> ggthemes          <span class="sc">*</span> <span class="dv">5</span>.<span class="fl">2.0</span>      <span class="dv">2025-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-55"><a href="#cb19-55"></a> gifski            <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">32.0</span><span class="dv">-2</span>   <span class="dv">2025-03-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-56"><a href="#cb19-56"></a> giscoR            <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.0</span>      <span class="dv">2025-12-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-57"><a href="#cb19-57"></a> glue                <span class="dv">1</span>.<span class="fl">8.0</span>      <span class="dv">2024-09-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-58"><a href="#cb19-58"></a> gt                <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2025-09-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-59"><a href="#cb19-59"></a> gtable              <span class="dv">0</span>.<span class="fl">3.6</span>      <span class="dv">2024-10-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-60"><a href="#cb19-60"></a> gtExtras          <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">6.1</span>      <span class="dv">2025-10-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-61"><a href="#cb19-61"></a> here                <span class="dv">1</span>.<span class="fl">0.2</span>      <span class="dv">2025-09-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-62"><a href="#cb19-62"></a> hms                 <span class="dv">1</span>.<span class="fl">1.4</span>      <span class="dv">2025-10-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-63"><a href="#cb19-63"></a> htmltools           <span class="dv">0</span>.<span class="fl">5.9</span>      <span class="dv">2025-12-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-64"><a href="#cb19-64"></a> htmlwidgets         <span class="dv">1</span>.<span class="fl">6.4</span>      <span class="dv">2023-12-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-65"><a href="#cb19-65"></a> httr                <span class="dv">1</span>.<span class="fl">4.7</span>      <span class="dv">2023-08-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-66"><a href="#cb19-66"></a> httr2               <span class="dv">1</span>.<span class="fl">2.2</span>      <span class="dv">2025-12-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-67"><a href="#cb19-67"></a> ISOweek             <span class="fl">0.6</span><span class="dv">-2</span>      <span class="dv">2011-09-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-68"><a href="#cb19-68"></a> jquerylib           <span class="dv">0</span>.<span class="fl">1.4</span>      <span class="dv">2021-04-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-69"><a href="#cb19-69"></a> jsonlite          <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">0.0</span>      <span class="dv">2025-03-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-70"><a href="#cb19-70"></a> KernSmooth          <span class="fl">2.23</span><span class="dv">-26</span>    <span class="dv">2025-01-01</span> [<span class="dv">2</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-71"><a href="#cb19-71"></a> knitr               <span class="fl">1.50</span>       <span class="dv">2025-03-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-72"><a href="#cb19-72"></a> labeling            <span class="dv">0</span>.<span class="fl">4.3</span>      <span class="dv">2023-08-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-73"><a href="#cb19-73"></a> lifecycle           <span class="dv">1</span>.<span class="fl">0.4</span>      <span class="dv">2023-11-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-74"><a href="#cb19-74"></a> lubridate         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">9.4</span>      <span class="dv">2024-12-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-75"><a href="#cb19-75"></a> magrittr            <span class="dv">2</span>.<span class="fl">0.4</span>      <span class="dv">2025-09-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-76"><a href="#cb19-76"></a> memoise             <span class="dv">2</span>.<span class="fl">0.1</span>      <span class="dv">2021-11-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-77"><a href="#cb19-77"></a> otel                <span class="dv">0</span>.<span class="fl">2.0</span>      <span class="dv">2025-08-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-78"><a href="#cb19-78"></a> paletteer           <span class="dv">1</span>.<span class="fl">6.0</span>      <span class="dv">2024-01-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-79"><a href="#cb19-79"></a> patchwork         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.2</span>      <span class="dv">2025-08-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-80"><a href="#cb19-80"></a> pillar              <span class="dv">1</span>.<span class="fl">11.1</span>     <span class="dv">2025-09-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-81"><a href="#cb19-81"></a> pjpv.curso.R<span class="fl">.2022</span>   <span class="dv">0</span>.<span class="dv">0</span>.<span class="fl">0.9000</span> <span class="dv">2025-12-15</span> [<span class="dv">1</span>] <span class="fu">Github</span> (perezp44<span class="sc">/</span>pjpv.curso.R<span class="fl">.2022</span><span class="sc">@</span>bd4dd73)</span>
<span id="cb19-82"><a href="#cb19-82"></a> pkgbuild            <span class="dv">1</span>.<span class="fl">4.8</span>      <span class="dv">2025-05-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-83"><a href="#cb19-83"></a> pkgconfig           <span class="dv">2</span>.<span class="fl">0.3</span>      <span class="dv">2019-09-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-84"><a href="#cb19-84"></a> pkgload             <span class="dv">1</span>.<span class="fl">4.1</span>      <span class="dv">2025-09-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-85"><a href="#cb19-85"></a> plyr              <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">8.9</span>      <span class="dv">2023-10-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-86"><a href="#cb19-86"></a> png                 <span class="fl">0.1</span><span class="dv">-8</span>      <span class="dv">2022-11-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-87"><a href="#cb19-87"></a> prettyunits         <span class="dv">1</span>.<span class="fl">2.0</span>      <span class="dv">2023-09-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-88"><a href="#cb19-88"></a> progress            <span class="dv">1</span>.<span class="fl">2.3</span>      <span class="dv">2023-12-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-89"><a href="#cb19-89"></a> proxy               <span class="fl">0.4</span><span class="dv">-28</span>     <span class="dv">2025-12-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-90"><a href="#cb19-90"></a> purrr             <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">2.0</span>      <span class="dv">2025-11-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-91"><a href="#cb19-91"></a> pxR               <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">42.8</span>     <span class="dv">2025-04-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-92"><a href="#cb19-92"></a> R6                  <span class="dv">2</span>.<span class="fl">6.1</span>      <span class="dv">2025-02-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-93"><a href="#cb19-93"></a> ragg              <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">5.0</span>      <span class="dv">2025-09-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-94"><a href="#cb19-94"></a> rappdirs            <span class="dv">0</span>.<span class="fl">3.3</span>      <span class="dv">2021-01-31</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-95"><a href="#cb19-95"></a> RColorBrewer        <span class="fl">1.1</span><span class="dv">-3</span>      <span class="dv">2022-04-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-96"><a href="#cb19-96"></a> Rcpp                <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2025-07-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-97"><a href="#cb19-97"></a> readr             <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">1.6</span>      <span class="dv">2025-11-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-98"><a href="#cb19-98"></a> readxl              <span class="dv">1</span>.<span class="fl">4.5</span>      <span class="dv">2025-03-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-99"><a href="#cb19-99"></a> RefManageR          <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2022-09-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-100"><a href="#cb19-100"></a> regions             <span class="dv">0</span>.<span class="fl">1.8</span>      <span class="dv">2021-06-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-101"><a href="#cb19-101"></a> rematch2            <span class="dv">2</span>.<span class="fl">1.2</span>      <span class="dv">2020-05-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-102"><a href="#cb19-102"></a> remotes             <span class="dv">2</span>.<span class="fl">5.0</span>      <span class="dv">2024-03-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-103"><a href="#cb19-103"></a> reshape2          <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">4.5</span>      <span class="dv">2025-11-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-104"><a href="#cb19-104"></a> rlang               <span class="dv">1</span>.<span class="fl">1.6</span>      <span class="dv">2025-04-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-105"><a href="#cb19-105"></a> rmarkdown           <span class="fl">2.30</span>       <span class="dv">2025-09-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-106"><a href="#cb19-106"></a> rprojroot           <span class="dv">2</span>.<span class="fl">1.1</span>      <span class="dv">2025-08-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-107"><a href="#cb19-107"></a> rstudioapi          <span class="dv">0</span>.<span class="fl">17.1</span>     <span class="dv">2024-10-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-108"><a href="#cb19-108"></a> s2                  <span class="dv">1</span>.<span class="fl">1.9</span>      <span class="dv">2025-05-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-109"><a href="#cb19-109"></a> S7                  <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2025-11-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-110"><a href="#cb19-110"></a> sass                <span class="dv">0</span>.<span class="fl">4.10</span>     <span class="dv">2025-04-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-111"><a href="#cb19-111"></a> scales              <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2025-04-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-112"><a href="#cb19-112"></a> sessioninfo         <span class="dv">1</span>.<span class="fl">2.3</span>      <span class="dv">2025-02-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-113"><a href="#cb19-113"></a> sf                <span class="sc">*</span> <span class="fl">1.0</span><span class="dv">-23</span>     <span class="dv">2025-11-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-114"><a href="#cb19-114"></a> stringi             <span class="dv">1</span>.<span class="fl">8.7</span>      <span class="dv">2025-03-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-115"><a href="#cb19-115"></a> stringr           <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">6.0</span>      <span class="dv">2025-11-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-116"><a href="#cb19-116"></a> systemfonts         <span class="dv">1</span>.<span class="fl">3.1</span>      <span class="dv">2025-10-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-117"><a href="#cb19-117"></a> textshaping         <span class="dv">1</span>.<span class="fl">0.4</span>      <span class="dv">2025-10-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-118"><a href="#cb19-118"></a> tibble            <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">3.0</span>      <span class="dv">2025-06-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-119"><a href="#cb19-119"></a> tidyr             <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.1</span>      <span class="dv">2024-01-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-120"><a href="#cb19-120"></a> tidyselect          <span class="dv">1</span>.<span class="fl">2.1</span>      <span class="dv">2024-03-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-121"><a href="#cb19-121"></a> tidyverse         <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">0.0</span>      <span class="dv">2023-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-122"><a href="#cb19-122"></a> timechange          <span class="dv">0</span>.<span class="fl">3.0</span>      <span class="dv">2024-01-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-123"><a href="#cb19-123"></a> tweenr              <span class="dv">2</span>.<span class="fl">0.3</span>      <span class="dv">2024-02-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-124"><a href="#cb19-124"></a> tzdb                <span class="dv">0</span>.<span class="fl">5.0</span>      <span class="dv">2025-03-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-125"><a href="#cb19-125"></a> units               <span class="fl">1.0</span><span class="dv">-0</span>      <span class="dv">2025-10-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-126"><a href="#cb19-126"></a> usethis             <span class="dv">3</span>.<span class="fl">2.1</span>      <span class="dv">2025-09-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-127"><a href="#cb19-127"></a> utf8                <span class="dv">1</span>.<span class="fl">2.6</span>      <span class="dv">2025-06-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-128"><a href="#cb19-128"></a> vctrs               <span class="dv">0</span>.<span class="fl">6.5</span>      <span class="dv">2023-12-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-129"><a href="#cb19-129"></a> viridisLite         <span class="dv">0</span>.<span class="fl">4.2</span>      <span class="dv">2023-05-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-130"><a href="#cb19-130"></a> vroom               <span class="dv">1</span>.<span class="fl">6.7</span>      <span class="dv">2025-11-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-131"><a href="#cb19-131"></a> withr               <span class="dv">3</span>.<span class="fl">0.2</span>      <span class="dv">2024-10-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-132"><a href="#cb19-132"></a> wk                  <span class="dv">0</span>.<span class="fl">9.4</span>      <span class="dv">2024-10-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-133"><a href="#cb19-133"></a> xfun                <span class="fl">0.54</span>       <span class="dv">2025-10-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-134"><a href="#cb19-134"></a> xml2                <span class="dv">1</span>.<span class="fl">5.1</span>      <span class="dv">2025-12-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-135"><a href="#cb19-135"></a> yaml                <span class="dv">2</span>.<span class="fl">3.12</span>     <span class="dv">2025-12-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">5.2</span>)</span>
<span id="cb19-136"><a href="#cb19-136"></a></span>
<span id="cb19-137"><a href="#cb19-137"></a> [<span class="dv">1</span>] C<span class="sc">:</span><span class="er">/</span>Users<span class="sc">/</span>Juan Pablo<span class="sc">/</span>AppData<span class="sc">/</span>Local<span class="sc">/</span>R<span class="sc">/</span>win<span class="sc">-</span>library<span class="sc">/</span><span class="fl">4.5</span></span>
<span id="cb19-138"><a href="#cb19-138"></a> [<span class="dv">2</span>] C<span class="sc">:</span><span class="er">/</span>Program Files<span class="sc">/</span>R<span class="sc">/</span>R<span class="dv">-4</span>.<span class="fl">5.2</span><span class="sc">/</span>library</span>
<span id="cb19-139"><a href="#cb19-139"></a> <span class="sc">*</span> ── Packages attached to the search path.</span>
<span id="cb19-140"><a href="#cb19-140"></a></span>
<span id="cb19-141"><a href="#cb19-141"></a>──────────────────────────────────────────────────────────────────────────────</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><p><br></p>
</div>
</div>


<!-- -->

</section></section></section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reutilizar</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.es">CC BY 4.0</a></div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiada");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiada");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb20" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb20-1"><a href="#cb20-1"></a><span class="co">---</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="an">title:</span><span class="co"> "La vivienda, una mirada a Europa y a España"</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co">  Analizando la evolución del alquiler en los países de Europa y en las comunidades autónomas de España</span></span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="an">author:</span><span class="co">   </span></span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="co">  - Jorge Moreno Lahiguera (molajor@alumni.uv.es)\n   </span></span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="co">  - Victor Cloquell Perez (viclope@alumni.uv.es)\n</span></span>
<span id="cb20-8"><a href="#cb20-8"></a><span class="co">  - Juan Pablo Endrino (juanpaen@alumni.uv.es)</span></span>
<span id="cb20-9"><a href="#cb20-9"></a><span class="an">date:</span><span class="co"> 2025-12-07                           #--</span></span>
<span id="cb20-10"><a href="#cb20-10"></a><span class="an">categories:</span><span class="co"> [trabajo BigData]      #--</span></span>
<span id="cb20-11"><a href="#cb20-11"></a><span class="an">image:</span><span class="co"> "./imagenes/imagen_01.png"</span></span>
<span id="cb20-12"><a href="#cb20-12"></a><span class="an">title-block-banner:</span><span class="co"> true #- {true, false, "green","#AA0000"}</span></span>
<span id="cb20-13"><a href="#cb20-13"></a><span class="an">title-block-banner-color:</span><span class="co"> "red"    #-"#FFFFFF" </span></span>
<span id="cb20-14"><a href="#cb20-14"></a><span class="an">toc-depth:</span><span class="co"> 3</span></span>
<span id="cb20-15"><a href="#cb20-15"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb20-16"><a href="#cb20-16"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb20-17"><a href="#cb20-17"></a><span class="co">  html:</span></span>
<span id="cb20-18"><a href="#cb20-18"></a><span class="co">    #backgroundcolor: "#F1F3F4"</span></span>
<span id="cb20-19"><a href="#cb20-19"></a><span class="co">    #embed-resources: true</span></span>
<span id="cb20-20"><a href="#cb20-20"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb20-21"><a href="#cb20-21"></a><span class="co">    #css: assets/my_css_file.css   </span></span>
<span id="cb20-22"><a href="#cb20-22"></a><span class="co">    code-fold: true #para que el codigo se pliegue</span></span>
<span id="cb20-23"><a href="#cb20-23"></a><span class="co">    code-summary: "Desplegar codigo"  #para ver eso al hacer clic y desplegar el codigo</span></span>
<span id="cb20-24"><a href="#cb20-24"></a><span class="co">    code-line-numbers: true  #para ver el numero de las lineas en el codigo</span></span>
<span id="cb20-25"><a href="#cb20-25"></a><span class="co">    code-tools: true #para que aparezca la opción de copiar el codigo al portapapeles.</span></span>
<span id="cb20-26"><a href="#cb20-26"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb20-27"><a href="#cb20-27"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb20-28"><a href="#cb20-28"></a><span class="an">execute:</span></span>
<span id="cb20-29"><a href="#cb20-29"></a><span class="co">  echo: true #para que el codigo se incluya en el documento final.</span></span>
<span id="cb20-30"><a href="#cb20-30"></a><span class="co">  eval: true #para que el codigo se evalue y se muestren los resultados (tablas, graficas)</span></span>
<span id="cb20-31"><a href="#cb20-31"></a><span class="co">  warning: false #para que no se incluyan avisos, ya que queda feo</span></span>
<span id="cb20-32"><a href="#cb20-32"></a><span class="co">  message: false #para que no se incluyan mensajes, ya que queda feo </span></span>
<span id="cb20-33"><a href="#cb20-33"></a><span class="co">---</span></span>
<span id="cb20-34"><a href="#cb20-34"></a></span>
<span id="cb20-35"><a href="#cb20-35"></a><span class="fu"># Introducción</span></span>
<span id="cb20-36"><a href="#cb20-36"></a></span>
<span id="cb20-37"><a href="#cb20-37"></a>En los últimos años la vivienda, tanto el alquiler como la compra de esta, se ha convertido en una de las principales preocupaciones de los españoles. Esto no es un fenómeno único de nuestro país, la situación es similar en otras partes de Europa y del mundo.</span>
<span id="cb20-38"><a href="#cb20-38"></a></span>
<span id="cb20-39"><a href="#cb20-39"></a>Por esta razón hemos decidido investigar sobre este problema, empezando por observar ciertas variables a nivel continental, usando datos de Eurostat y de la OECD. Para luego continuar analizando la situación en España, con datos del INE.</span>
<span id="cb20-40"><a href="#cb20-40"></a></span>
<span id="cb20-41"><a href="#cb20-41"></a>En este documento, en algunos momentos puntuales también hablaremos sobre detalles del código que usamos para obtener lo que el lector vera.</span>
<span id="cb20-42"><a href="#cb20-42"></a></span>
<span id="cb20-43"><a href="#cb20-43"></a>Primero cargaremos los paquetes necesarios:</span>
<span id="cb20-46"><a href="#cb20-46"></a><span class="in">```{r}</span></span>
<span id="cb20-47"><a href="#cb20-47"></a><span class="co">#install.packages("eurostat")</span></span>
<span id="cb20-48"><a href="#cb20-48"></a><span class="co">#install.packages("tidyverse")</span></span>
<span id="cb20-49"><a href="#cb20-49"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb20-50"><a href="#cb20-50"></a><span class="co">#install.packages("gganimate")</span></span>
<span id="cb20-51"><a href="#cb20-51"></a><span class="co">#install.packages("ggthemes")</span></span>
<span id="cb20-52"><a href="#cb20-52"></a><span class="co">#install.packages("gt")</span></span>
<span id="cb20-53"><a href="#cb20-53"></a><span class="co">#install.packages("gtExtras")</span></span>
<span id="cb20-54"><a href="#cb20-54"></a><span class="co">#install.packages("tidyr")</span></span>
<span id="cb20-55"><a href="#cb20-55"></a><span class="co">#install.packages("sf")</span></span>
<span id="cb20-56"><a href="#cb20-56"></a><span class="co">#install.packages("giscoR")</span></span>
<span id="cb20-57"><a href="#cb20-57"></a><span class="co">#install.packages("ragg")</span></span>
<span id="cb20-58"><a href="#cb20-58"></a><span class="co">#install.packages("gifski")</span></span>
<span id="cb20-59"><a href="#cb20-59"></a><span class="co">#install.packages("lubridate")</span></span>
<span id="cb20-60"><a href="#cb20-60"></a><span class="co">#install.packages("DT")</span></span>
<span id="cb20-61"><a href="#cb20-61"></a><span class="co">#install.packages("pjpv.curso.R.2022")</span></span>
<span id="cb20-62"><a href="#cb20-62"></a><span class="co">#install.packages("classInt")</span></span>
<span id="cb20-63"><a href="#cb20-63"></a><span class="co">#install.packages("stringr")</span></span>
<span id="cb20-64"><a href="#cb20-64"></a><span class="co">#install.packages("pxR")</span></span>
<span id="cb20-65"><a href="#cb20-65"></a><span class="co">#install.packages("devtools")</span></span>
<span id="cb20-66"><a href="#cb20-66"></a></span>
<span id="cb20-67"><a href="#cb20-67"></a><span class="fu">library</span>(pxR)</span>
<span id="cb20-68"><a href="#cb20-68"></a><span class="fu">library</span>(eurostat)</span>
<span id="cb20-69"><a href="#cb20-69"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb20-70"><a href="#cb20-70"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb20-71"><a href="#cb20-71"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb20-72"><a href="#cb20-72"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb20-73"><a href="#cb20-73"></a><span class="fu">library</span>(gt)</span>
<span id="cb20-74"><a href="#cb20-74"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb20-75"><a href="#cb20-75"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb20-76"><a href="#cb20-76"></a><span class="fu">library</span>(sf)        </span>
<span id="cb20-77"><a href="#cb20-77"></a><span class="fu">library</span>(giscoR)</span>
<span id="cb20-78"><a href="#cb20-78"></a><span class="fu">library</span>(ragg)</span>
<span id="cb20-79"><a href="#cb20-79"></a></span>
<span id="cb20-80"><a href="#cb20-80"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb20-81"><a href="#cb20-81"></a><span class="fu">library</span>(DT)</span>
<span id="cb20-82"><a href="#cb20-82"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"perezp44/pjpv.curso.R.2022"</span>)</span>
<span id="cb20-83"><a href="#cb20-83"></a><span class="fu">library</span>(classInt)</span>
<span id="cb20-84"><a href="#cb20-84"></a><span class="fu">library</span>(stringr)</span>
<span id="cb20-85"><a href="#cb20-85"></a></span>
<span id="cb20-86"><a href="#cb20-86"></a><span class="co">#Usamos esto para solucionar problemas con los gráficos animados</span></span>
<span id="cb20-87"><a href="#cb20-87"></a><span class="fu">library</span>(gifski)</span>
<span id="cb20-88"><a href="#cb20-88"></a><span class="in">```</span></span>
<span id="cb20-89"><a href="#cb20-89"></a></span>
<span id="cb20-90"><a href="#cb20-90"></a></span>
<span id="cb20-91"><a href="#cb20-91"></a><span class="fu"># [Europa y el precio del alquiler]{style="color: yellow; background-color: blue"}</span></span>
<span id="cb20-92"><a href="#cb20-92"></a>  </span>
<span id="cb20-93"><a href="#cb20-93"></a>Lo sabemos, esto del título es una horterada, pero es para que Pedro vea que le hacemos caso en clase ;)</span>
<span id="cb20-94"><a href="#cb20-94"></a></span>
<span id="cb20-95"><a href="#cb20-95"></a><span class="fu">## ¿Dónde sube más el alquiler y por que?</span></span>
<span id="cb20-96"><a href="#cb20-96"></a>Obtenemos el dataset de Eurostat, directamente usando el paquete del mismo nombre. En el dataset tenemos observaciones del cambio del precio del alquiler en el periodo 1996-2024, usando el año 2014 como base. Trabajamos el dataset para quitar países que no nos interesan y otras variables que no nos importan. Posteriormente obtenemos los seis países de la UE en los que más ha subido el precio del alquiler en el mencionado periodo.</span>
<span id="cb20-97"><a href="#cb20-97"></a>El dataset contiene observaciones sobre un conjunto de <span class="in">`r nrow(df)`</span>. Hay  <span class="in">`r ncol(df)`</span> variables.</span>
<span id="cb20-98"><a href="#cb20-98"></a></span>
<span id="cb20-101"><a href="#cb20-101"></a><span class="in">```{r}</span></span>
<span id="cb20-102"><a href="#cb20-102"></a><span class="co">#Escogemos los datos de la página de Eurostat</span></span>
<span id="cb20-103"><a href="#cb20-103"></a>my_table <span class="ot">&lt;-</span> <span class="st">"prc_hicp_aind"</span></span>
<span id="cb20-104"><a href="#cb20-104"></a></span>
<span id="cb20-105"><a href="#cb20-105"></a>eurostat<span class="sc">::</span><span class="fu">label_eurostat_tables</span>(my_table)</span>
<span id="cb20-106"><a href="#cb20-106"></a></span>
<span id="cb20-107"><a href="#cb20-107"></a><span class="co">#Creamos el dataframe asociado al índice de IPC de Eurostat y filtramos</span></span>
<span id="cb20-108"><a href="#cb20-108"></a>df <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">"raw"</span>)   </span>
<span id="cb20-109"><a href="#cb20-109"></a></span>
<span id="cb20-110"><a href="#cb20-110"></a>df_alquileres_index <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb20-111"><a href="#cb20-111"></a>                        <span class="fu">filter</span>(coicop <span class="sc">==</span> <span class="st">"CP041"</span>,</span>
<span id="cb20-112"><a href="#cb20-112"></a>                        <span class="sc">!</span>geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EA19"</span>, <span class="st">"EU28"</span>, </span>
<span id="cb20-113"><a href="#cb20-113"></a>                                    <span class="st">"EA"</span>, <span class="st">"EA20"</span>,<span class="st">"EA19"</span>, <span class="st">"US"</span>, </span>
<span id="cb20-114"><a href="#cb20-114"></a>                                    <span class="st">"XK"</span>, <span class="st">"TR"</span>, <span class="st">"RS"</span>, <span class="st">"AL"</span>, <span class="st">"MK"</span>, </span>
<span id="cb20-115"><a href="#cb20-115"></a>                                    <span class="st">"ME"</span>, <span class="st">"UK"</span>, <span class="st">"EEA"</span>, <span class="st">"EU"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-116"><a href="#cb20-116"></a>                        <span class="fu">label_eurostat</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-117"><a href="#cb20-117"></a>                        <span class="fu">filter</span>(unit <span class="sc">==</span> <span class="st">"Annual average index"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-118"><a href="#cb20-118"></a>                        dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">paises =</span> geo,</span>
<span id="cb20-119"><a href="#cb20-119"></a>                               año <span class="ot">=</span> TIME_PERIOD) <span class="sc">%&gt;%</span></span>
<span id="cb20-120"><a href="#cb20-120"></a>                        <span class="fu">mutate</span>(año <span class="ot">=</span> <span class="fu">as.numeric</span>(año)) <span class="sc">%&gt;%</span></span>
<span id="cb20-121"><a href="#cb20-121"></a>                        <span class="fu">select</span>(<span class="sc">-</span>freq) </span>
<span id="cb20-122"><a href="#cb20-122"></a></span>
<span id="cb20-123"><a href="#cb20-123"></a><span class="do">##Top (Los 6 que más han crecido desde 2015 hasta 2024)</span></span>
<span id="cb20-124"><a href="#cb20-124"></a>df_alquileres_top_6_2024 <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb20-125"><a href="#cb20-125"></a>                             <span class="fu">filter</span>(año <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-126"><a href="#cb20-126"></a>                             <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">6</span>) </span>
<span id="cb20-127"><a href="#cb20-127"></a></span>
<span id="cb20-128"><a href="#cb20-128"></a>tabla_df_alquileres_top_6_2024 <span class="ot">&lt;-</span> df_alquileres_top_6_2024 <span class="sc">%&gt;%</span></span>
<span id="cb20-129"><a href="#cb20-129"></a>                                   <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-130"><a href="#cb20-130"></a>                                   <span class="fu">gt_theme_excel</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-131"><a href="#cb20-131"></a>                                   <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Tabla 1: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">en los 6 países que más ha crecido"</span>,</span>
<span id="cb20-132"><a href="#cb20-132"></a>                                               <span class="at">subtitle =</span> <span class="st">"TOP 6"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-133"><a href="#cb20-133"></a>                                   <span class="fu">tab_footnote</span>(<span class="at">footnote =</span> <span class="st">"Eurostat 2025"</span>)</span>
<span id="cb20-134"><a href="#cb20-134"></a></span>
<span id="cb20-135"><a href="#cb20-135"></a>tabla_df_alquileres_top_6_2024</span>
<span id="cb20-136"><a href="#cb20-136"></a><span class="in">```</span></span>
<span id="cb20-137"><a href="#cb20-137"></a>---</span>
<span id="cb20-138"><a href="#cb20-138"></a></span>
<span id="cb20-141"><a href="#cb20-141"></a><span class="in">```{r}</span></span>
<span id="cb20-142"><a href="#cb20-142"></a>top_paises <span class="ot">&lt;-</span> df_alquileres_top_6_2024<span class="sc">$</span>paises</span>
<span id="cb20-143"><a href="#cb20-143"></a></span>
<span id="cb20-144"><a href="#cb20-144"></a>df_top <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb20-145"><a href="#cb20-145"></a>           <span class="fu">filter</span>(paises <span class="sc">%in%</span> top_paises)</span>
<span id="cb20-146"><a href="#cb20-146"></a></span>
<span id="cb20-147"><a href="#cb20-147"></a><span class="co">#Gráfico del top</span></span>
<span id="cb20-148"><a href="#cb20-148"></a>grafico_top <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_top, </span>
<span id="cb20-149"><a href="#cb20-149"></a>                      <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">color =</span> paises)) <span class="sc">+</span></span>
<span id="cb20-150"><a href="#cb20-150"></a>                <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb20-151"><a href="#cb20-151"></a>                <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 1: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">(Base 2015) del TOP 6 Países"</span>, </span>
<span id="cb20-152"><a href="#cb20-152"></a>                    <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje (Base 2015)"</span>,</span>
<span id="cb20-153"><a href="#cb20-153"></a>                    <span class="at">caption =</span> <span class="st">"Fuente: Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-154"><a href="#cb20-154"></a>                <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb20-155"><a href="#cb20-155"></a>                <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb20-156"><a href="#cb20-156"></a>                <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb20-157"><a href="#cb20-157"></a>                <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb20-158"><a href="#cb20-158"></a>                      <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb20-159"><a href="#cb20-159"></a>                      <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb20-160"><a href="#cb20-160"></a>                <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> paises))</span>
<span id="cb20-161"><a href="#cb20-161"></a></span>
<span id="cb20-162"><a href="#cb20-162"></a>grafico_top_animado <span class="ot">&lt;-</span> grafico_top <span class="sc">+</span> <span class="fu">transition_reveal</span>(año) </span>
<span id="cb20-163"><a href="#cb20-163"></a></span>
<span id="cb20-164"><a href="#cb20-164"></a><span class="fu">animate</span>(grafico_top_animado, </span>
<span id="cb20-165"><a href="#cb20-165"></a>        <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>())</span>
<span id="cb20-166"><a href="#cb20-166"></a><span class="in">```</span></span>
<span id="cb20-167"><a href="#cb20-167"></a></span>
<span id="cb20-168"><a href="#cb20-168"></a>Los países de Europa del Este han experimentado un crecimiento económico rápido que ha elevado los salarios, pero la oferta de vivienda no ha seguido el ritmo. Además, han tenido las tasas de inflación general más altas de la UE tras la crisis energética (súbida del precio desde 2021). También está la presencia de Irlanda por la escasez crónica de oferta: la alta demanda (impulsada por el sector tecnológico y la inmigración) choca con un mercado inmobiliario que no construye lo suficiente, provocando una de las crisis de alquiler más agudas de Europa occidental. Islandia es un caso particular por el Efecto Airbnb (Turismo masivo): Gran parte del parque de viviendas se ha destinado al alquiler turístico, reduciendo drásticamente la oferta para residentes y disparando los precios, sumado a su muy limitado terreno edificable y su alta inflación.</span>
<span id="cb20-169"><a href="#cb20-169"></a></span>
<span id="cb20-170"><a href="#cb20-170"></a><span class="fu">## ¿Y donde sube menos?</span></span>
<span id="cb20-171"><a href="#cb20-171"></a></span>
<span id="cb20-174"><a href="#cb20-174"></a><span class="in">```{r}</span></span>
<span id="cb20-175"><a href="#cb20-175"></a><span class="co">#Nontop (Los 6 que menos han crecido desde 2015 hasta 2024)</span></span>
<span id="cb20-176"><a href="#cb20-176"></a>df_alquileres_nontop_6_2024 <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb20-177"><a href="#cb20-177"></a>                                <span class="fu">filter</span>(año <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-178"><a href="#cb20-178"></a>                                <span class="fu">slice_min</span>(values, <span class="at">n=</span><span class="dv">6</span>)</span>
<span id="cb20-179"><a href="#cb20-179"></a></span>
<span id="cb20-180"><a href="#cb20-180"></a>tabla_df_alquileres_nontop_6_2024 <span class="ot">&lt;-</span> df_alquileres_nontop_6_2024 <span class="sc">%&gt;%</span></span>
<span id="cb20-181"><a href="#cb20-181"></a>                                <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-182"><a href="#cb20-182"></a>                                <span class="fu">gt_theme_excel</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-183"><a href="#cb20-183"></a>                                <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Tabla 2: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">en los 6 países que menos ha crecido"</span>,</span>
<span id="cb20-184"><a href="#cb20-184"></a>                                           <span class="at">subtitle =</span> <span class="st">"NONTOP 6"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-185"><a href="#cb20-185"></a>                                <span class="fu">tab_footnote</span>(<span class="at">footnote =</span> <span class="st">"Eurostat 2025"</span>)</span>
<span id="cb20-186"><a href="#cb20-186"></a></span>
<span id="cb20-187"><a href="#cb20-187"></a>tabla_df_alquileres_nontop_6_2024</span>
<span id="cb20-188"><a href="#cb20-188"></a><span class="in">```</span></span>
<span id="cb20-189"><a href="#cb20-189"></a></span>
<span id="cb20-190"><a href="#cb20-190"></a></span>
<span id="cb20-191"><a href="#cb20-191"></a></span>
<span id="cb20-194"><a href="#cb20-194"></a><span class="in">```{r}</span></span>
<span id="cb20-195"><a href="#cb20-195"></a><span class="co">#Gráfico del nontop</span></span>
<span id="cb20-196"><a href="#cb20-196"></a>nontop_paises <span class="ot">&lt;-</span> df_alquileres_nontop_6_2024<span class="sc">$</span>paises</span>
<span id="cb20-197"><a href="#cb20-197"></a></span>
<span id="cb20-198"><a href="#cb20-198"></a>df_nontop <span class="ot">&lt;-</span> df_alquileres_index <span class="sc">%&gt;%</span></span>
<span id="cb20-199"><a href="#cb20-199"></a>             <span class="fu">filter</span>(unit <span class="sc">==</span> <span class="st">"Annual average index"</span>,</span>
<span id="cb20-200"><a href="#cb20-200"></a>                    paises <span class="sc">%in%</span> nontop_paises)</span>
<span id="cb20-201"><a href="#cb20-201"></a></span>
<span id="cb20-202"><a href="#cb20-202"></a>grafico_nontop <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_nontop, </span>
<span id="cb20-203"><a href="#cb20-203"></a>                         <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">color =</span> paises)) <span class="sc">+</span></span>
<span id="cb20-204"><a href="#cb20-204"></a>                   <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb20-205"><a href="#cb20-205"></a>                   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 2: Incremento del precio del alquiler</span><span class="sc">\n</span><span class="st">(Base 2015) en los 6 Países que menos ha crecido"</span>, </span>
<span id="cb20-206"><a href="#cb20-206"></a>                        <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje (Base 2015)"</span>,</span>
<span id="cb20-207"><a href="#cb20-207"></a>                   <span class="at">caption =</span> <span class="st">"Fuente: Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-208"><a href="#cb20-208"></a>                   <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb20-209"><a href="#cb20-209"></a>                   <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb20-210"><a href="#cb20-210"></a>                   <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb20-211"><a href="#cb20-211"></a>                   <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb20-212"><a href="#cb20-212"></a>                         <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb20-213"><a href="#cb20-213"></a>                         <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb20-214"><a href="#cb20-214"></a>                   <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> paises))</span>
<span id="cb20-215"><a href="#cb20-215"></a></span>
<span id="cb20-216"><a href="#cb20-216"></a>grafico_nontop_animado <span class="ot">&lt;-</span> grafico_nontop <span class="sc">+</span> <span class="fu">transition_reveal</span>(año) </span>
<span id="cb20-217"><a href="#cb20-217"></a></span>
<span id="cb20-218"><a href="#cb20-218"></a><span class="fu">animate</span>(grafico_nontop_animado, </span>
<span id="cb20-219"><a href="#cb20-219"></a>        <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>())</span>
<span id="cb20-220"><a href="#cb20-220"></a><span class="in">```</span></span>
<span id="cb20-221"><a href="#cb20-221"></a></span>
<span id="cb20-222"><a href="#cb20-222"></a>El grupo de los países con menor incremento en el precio, se puede observar un escenario de estancamiento y corrección post-crisis que contrasta radicalmente con el dinamismo del este de Europa. En este conjunto destaca Grecia como una anomalía bajista, donde los alquileres son nominalmente más bajos que en la década anterior debido al colapso de la demanda interna tras su crisis de deuda, mientras que economías mediterráneas como Italia y Chipre muestran una trayectoria casi plana fruto de un crecimiento económico débil. Por otro lado, la presencia de países con mercados tensos como España o Francia en esta parte baja del ranking responde en gran medida a la metodología del índice HICP, que al medir el stock completo de contratos (incluyendo rentas antiguas y renovaciones limitadas por ley) y no solo los nuevos alquileres de mercado, suaviza la curva de precios, reflejando así una Europa donde la regulación y la inercia contractual han blindado estadísticamente a los inquilinos estables frente a la volatilidad inflacionaria reciente.</span>
<span id="cb20-223"><a href="#cb20-223"></a></span>
<span id="cb20-224"><a href="#cb20-224"></a><span class="fu">## Año a año, ¿donde sube mas el alquiler? (Graficos de barras)</span></span>
<span id="cb20-225"><a href="#cb20-225"></a></span>
<span id="cb20-226"><a href="#cb20-226"></a>El análisis mediante gráficos nos permitirá obtener otros datos sobre la situación de la vivienda en Europa. A continuación veremos en cada año cuál es el país en el que más ha subido el precio del alquiler con respecto al año anterior.</span>
<span id="cb20-227"><a href="#cb20-227"></a></span>
<span id="cb20-230"><a href="#cb20-230"></a><span class="in">```{r}</span></span>
<span id="cb20-231"><a href="#cb20-231"></a>my_table <span class="ot">&lt;-</span> <span class="st">"prc_hicp_aind"</span></span>
<span id="cb20-232"><a href="#cb20-232"></a></span>
<span id="cb20-233"><a href="#cb20-233"></a>eurostat<span class="sc">::</span><span class="fu">label_eurostat_tables</span>(my_table)</span>
<span id="cb20-234"><a href="#cb20-234"></a></span>
<span id="cb20-235"><a href="#cb20-235"></a>df <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">"raw"</span>) </span>
<span id="cb20-236"><a href="#cb20-236"></a></span>
<span id="cb20-237"><a href="#cb20-237"></a>df_alquileres_anual <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb20-238"><a href="#cb20-238"></a>                  <span class="fu">filter</span>(coicop <span class="sc">==</span> <span class="st">"CP041"</span>,</span>
<span id="cb20-239"><a href="#cb20-239"></a>                         unit <span class="sc">==</span> <span class="st">"RCH_A_AVG"</span>,</span>
<span id="cb20-240"><a href="#cb20-240"></a>                  <span class="sc">!</span>geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EA19"</span>, <span class="st">"EU28"</span>, </span>
<span id="cb20-241"><a href="#cb20-241"></a>                     <span class="st">"EA"</span>, <span class="st">"EA20"</span>,<span class="st">"EA19"</span>, <span class="st">"US"</span>, </span>
<span id="cb20-242"><a href="#cb20-242"></a>                     <span class="st">"XK"</span>, <span class="st">"TR"</span>, <span class="st">"RS"</span>, <span class="st">"AL"</span>, <span class="st">"MK"</span>, </span>
<span id="cb20-243"><a href="#cb20-243"></a>                     <span class="st">"ME"</span>, <span class="st">"UK"</span>, <span class="st">"EEA"</span>, <span class="st">"EU"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-244"><a href="#cb20-244"></a>                  dplyr<span class="sc">::</span><span class="fu">rename</span>(país <span class="ot">=</span> geo,</span>
<span id="cb20-245"><a href="#cb20-245"></a>                         año <span class="ot">=</span> TIME_PERIOD) <span class="sc">%&gt;%</span></span>
<span id="cb20-246"><a href="#cb20-246"></a>                  <span class="fu">select</span>(<span class="sc">-</span>freq) </span>
<span id="cb20-247"><a href="#cb20-247"></a></span>
<span id="cb20-248"><a href="#cb20-248"></a></span>
<span id="cb20-249"><a href="#cb20-249"></a><span class="co">#TOP (Porcentaje del incremento anual del precio del alquiler del páis donde más ha crecido ese año)</span></span>
<span id="cb20-250"><a href="#cb20-250"></a>df_top <span class="ot">&lt;-</span> df_alquileres_anual <span class="sc">%&gt;%</span></span>
<span id="cb20-251"><a href="#cb20-251"></a>           <span class="fu">group_by</span>(año) <span class="sc">%&gt;%</span></span>
<span id="cb20-252"><a href="#cb20-252"></a>           <span class="fu">slice_max</span>(<span class="at">order_by =</span> values, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-253"><a href="#cb20-253"></a>           <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-254"><a href="#cb20-254"></a>           <span class="fu">arrange</span>(año)</span>
<span id="cb20-255"><a href="#cb20-255"></a></span>
<span id="cb20-256"><a href="#cb20-256"></a>gráfico_barras_TOP <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_top, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb20-257"><a href="#cb20-257"></a>                       <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-258"><a href="#cb20-258"></a>                       <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 3: Porcentaje del incremento anual del precio</span><span class="sc">\n</span><span class="st">del alquiler del páis donde más ha crecido ese año (UE)"</span>,</span>
<span id="cb20-259"><a href="#cb20-259"></a>                            <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb20-260"><a href="#cb20-260"></a>                            <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-261"><a href="#cb20-261"></a>                       <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb20-262"><a href="#cb20-262"></a>                       <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb20-263"><a href="#cb20-263"></a>                       <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">170</span>, <span class="at">by =</span> <span class="fl">12.5</span>)) <span class="sc">+</span></span>
<span id="cb20-264"><a href="#cb20-264"></a>                       <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb20-265"><a href="#cb20-265"></a>                             <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb20-266"><a href="#cb20-266"></a></span>
<span id="cb20-267"><a href="#cb20-267"></a>gráfico_barras_TOP</span>
<span id="cb20-268"><a href="#cb20-268"></a><span class="in">```</span></span>
<span id="cb20-269"><a href="#cb20-269"></a></span>
<span id="cb20-270"><a href="#cb20-270"></a>La evolución de los precios muestra una clara transición de inestabilidad extrema a madurez de mercado, protagonizada casi exclusivamente por las economías de Europa del Este y los países bálticos. Se distinguen dos grandes etapas: un primer periodo de ajuste agresivo (1996-2008), marcado por la apertura post-soviética y la inflación previa a la entrada en el euro, que provocó subidas desorbitadas como el pico histórico de Bulgaria en 1998 (&gt;150%) o el de Rumanía en 2007; seguido de una segunda etapa de estabilización estructural (2009-2024) tras la crisis financiera, donde las subidas se han moderado drásticamente (situándose habitualmente por debajo del 25%) al haberse completado la convergencia económica de estos países con el resto de la Unión Europea.</span>
<span id="cb20-271"><a href="#cb20-271"></a></span>
<span id="cb20-272"><a href="#cb20-272"></a><span class="fu">## ¿Y dónde menos?</span></span>
<span id="cb20-273"><a href="#cb20-273"></a></span>
<span id="cb20-276"><a href="#cb20-276"></a><span class="in">```{r}</span></span>
<span id="cb20-277"><a href="#cb20-277"></a><span class="co">#NONTOP</span></span>
<span id="cb20-278"><a href="#cb20-278"></a>df_nontop <span class="ot">&lt;-</span> df_alquileres_anual <span class="sc">%&gt;%</span></span>
<span id="cb20-279"><a href="#cb20-279"></a>  <span class="fu">group_by</span>(año) <span class="sc">%&gt;%</span></span>
<span id="cb20-280"><a href="#cb20-280"></a>  <span class="fu">slice_min</span>(<span class="at">order_by =</span> values, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-281"><a href="#cb20-281"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-282"><a href="#cb20-282"></a>  <span class="fu">arrange</span>(año)</span>
<span id="cb20-283"><a href="#cb20-283"></a></span>
<span id="cb20-284"><a href="#cb20-284"></a>gráfico_barras_NONTOP <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_nontop, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb20-285"><a href="#cb20-285"></a>                          <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-286"><a href="#cb20-286"></a>                          <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 4: Porcentaje del incremento anual del precio</span><span class="sc">\n</span><span class="st">del alquiler del páis donde menos ha crecido ese año (UE)"</span>,</span>
<span id="cb20-287"><a href="#cb20-287"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb20-288"><a href="#cb20-288"></a>                          <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-289"><a href="#cb20-289"></a>                          <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb20-290"><a href="#cb20-290"></a>                          <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb20-291"><a href="#cb20-291"></a>                          <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">40</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb20-292"><a href="#cb20-292"></a>                          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb20-293"><a href="#cb20-293"></a>                          <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb20-294"><a href="#cb20-294"></a></span>
<span id="cb20-295"><a href="#cb20-295"></a>gráfico_barras_NONTOP</span>
<span id="cb20-296"><a href="#cb20-296"></a><span class="in">```</span></span>
<span id="cb20-297"><a href="#cb20-297"></a></span>
<span id="cb20-298"><a href="#cb20-298"></a>Este gráfico traza la historia de las crisis inmobiliarias europeas a través de los descensos de precios, identificando tres fases muy diferenciadas. Primero, una etapa de corrección violenta post-2008, donde las economías bálticas (Estonia y Lituania) sufrieron desplomes masivos de hasta un 30% al estallar sus burbujas de crédito. Segundo, un largo periodo de deflación estructural en el sur (2012-2018), protagonizado casi en exclusiva por Grecia (EL), que encadenó casi una década de caídas constantes debido a su crisis de deuda y austeridad. Finalmente, el gráfico revela una tendencia actual preocupante tras 2021: la desaparición de las bajadas, ya que en los últimos años (2022-2024) las barras vuelven a ser positivas, indicando que hoy en día los precios suben incluso en los mercados más estancados de Europa.</span>
<span id="cb20-299"><a href="#cb20-299"></a></span>
<span id="cb20-300"><a href="#cb20-300"></a>Para una más cómoda comparación:</span>
<span id="cb20-301"><a href="#cb20-301"></a></span>
<span id="cb20-304"><a href="#cb20-304"></a><span class="in">```{r}</span></span>
<span id="cb20-305"><a href="#cb20-305"></a><span class="fu">library</span>(patchwork) <span class="co">#- utiliza el pkg "patchwork" para mostrar los 2 gráficos (p1 y p2) side-by-side</span></span>
<span id="cb20-306"><a href="#cb20-306"></a></span>
<span id="cb20-307"><a href="#cb20-307"></a>gráfico_barras_TOP_v2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_top, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb20-308"><a href="#cb20-308"></a>                       <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-309"><a href="#cb20-309"></a>                       <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb20-310"><a href="#cb20-310"></a>                            <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-311"><a href="#cb20-311"></a>                       <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb20-312"><a href="#cb20-312"></a>                       <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb20-313"><a href="#cb20-313"></a>                       <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">170</span>, <span class="at">by =</span> <span class="fl">12.5</span>)) <span class="sc">+</span></span>
<span id="cb20-314"><a href="#cb20-314"></a>                       <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb20-315"><a href="#cb20-315"></a>                             <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb20-316"><a href="#cb20-316"></a></span>
<span id="cb20-317"><a href="#cb20-317"></a>gráfico_barras_NONTOP_v2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_nontop, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">fill =</span> país)) <span class="sc">+</span></span>
<span id="cb20-318"><a href="#cb20-318"></a>                          <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-319"><a href="#cb20-319"></a>                          <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje del incremento anual"</span>,</span>
<span id="cb20-320"><a href="#cb20-320"></a>                          <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-321"><a href="#cb20-321"></a>                          <span class="fu">theme_solarized</span>() <span class="sc">+</span></span>
<span id="cb20-322"><a href="#cb20-322"></a>                          <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país), <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb20-323"><a href="#cb20-323"></a>                          <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">40</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb20-324"><a href="#cb20-324"></a>                          <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb20-325"><a href="#cb20-325"></a>                          <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb20-326"><a href="#cb20-326"></a></span>
<span id="cb20-327"><a href="#cb20-327"></a>gráfico_barras_TOP_v2 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 5: Países donde más y menos ha incrementado</span><span class="sc">\n</span><span class="st">el precio de alquiler anual"</span>) <span class="sc">+</span> gráfico_barras_NONTOP_v2 </span>
<span id="cb20-328"><a href="#cb20-328"></a><span class="in">```</span></span>
<span id="cb20-329"><a href="#cb20-329"></a></span>
<span id="cb20-330"><a href="#cb20-330"></a><span class="fu">## Mapa Europa</span></span>
<span id="cb20-331"><a href="#cb20-331"></a></span>
<span id="cb20-334"><a href="#cb20-334"></a><span class="in">```{r}</span></span>
<span id="cb20-335"><a href="#cb20-335"></a>my_table <span class="ot">&lt;-</span> <span class="st">"prc_hicp_aind"</span></span>
<span id="cb20-336"><a href="#cb20-336"></a></span>
<span id="cb20-337"><a href="#cb20-337"></a>eurostat<span class="sc">::</span><span class="fu">label_eurostat_tables</span>(my_table)</span>
<span id="cb20-338"><a href="#cb20-338"></a></span>
<span id="cb20-339"><a href="#cb20-339"></a>df <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">"raw"</span>) </span>
<span id="cb20-340"><a href="#cb20-340"></a></span>
<span id="cb20-341"><a href="#cb20-341"></a>df_alquileres_anual <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb20-342"><a href="#cb20-342"></a>                        <span class="fu">filter</span>(coicop <span class="sc">==</span> <span class="st">"CP041"</span>,</span>
<span id="cb20-343"><a href="#cb20-343"></a>                               unit <span class="sc">==</span> <span class="st">"RCH_A_AVG"</span>,</span>
<span id="cb20-344"><a href="#cb20-344"></a>                        <span class="sc">!</span>geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EA19"</span>, <span class="st">"EU28"</span>, </span>
<span id="cb20-345"><a href="#cb20-345"></a>                                     <span class="st">"EA"</span>, <span class="st">"EA20"</span>,<span class="st">"EA19"</span>, <span class="st">"US"</span>, </span>
<span id="cb20-346"><a href="#cb20-346"></a>                                     <span class="st">"XK"</span>, <span class="st">"TR"</span>, <span class="st">"RS"</span>, <span class="st">"AL"</span>, <span class="st">"MK"</span>, </span>
<span id="cb20-347"><a href="#cb20-347"></a>                                     <span class="st">"ME"</span>, <span class="st">"UK"</span>, <span class="st">"EEA"</span>, <span class="st">"EU"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-348"><a href="#cb20-348"></a>                         <span class="fu">rename</span>(país <span class="ot">=</span> geo,</span>
<span id="cb20-349"><a href="#cb20-349"></a>                                año <span class="ot">=</span> TIME_PERIOD) <span class="sc">%&gt;%</span></span>
<span id="cb20-350"><a href="#cb20-350"></a>                         <span class="fu">select</span>(<span class="sc">-</span>freq) <span class="sc">%&gt;%</span></span>
<span id="cb20-351"><a href="#cb20-351"></a>                         <span class="fu">mutate</span>(año <span class="ot">=</span> <span class="fu">as.numeric</span>(año))</span>
<span id="cb20-352"><a href="#cb20-352"></a></span>
<span id="cb20-353"><a href="#cb20-353"></a>mapa_europa <span class="ot">&lt;-</span> <span class="fu">gisco_get_nuts</span>(<span class="at">year =</span> <span class="st">"2021"</span>, </span>
<span id="cb20-354"><a href="#cb20-354"></a>                              <span class="at">resolution =</span> <span class="st">"20"</span>, </span>
<span id="cb20-355"><a href="#cb20-355"></a>                              <span class="at">nuts_level =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-356"><a href="#cb20-356"></a>                <span class="fu">rename</span>(país <span class="ot">=</span> NUTS_ID)</span>
<span id="cb20-357"><a href="#cb20-357"></a></span>
<span id="cb20-358"><a href="#cb20-358"></a>mapa_animado_data <span class="ot">&lt;-</span> mapa_europa <span class="sc">%&gt;%</span></span>
<span id="cb20-359"><a href="#cb20-359"></a>                      <span class="fu">inner_join</span>(df_alquileres_anual, <span class="at">by =</span> <span class="st">"país"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-360"><a href="#cb20-360"></a>                      <span class="fu">mutate</span>(<span class="at">incremento_alquileres_grupos =</span> <span class="fu">factor</span>(<span class="fu">ntile</span>(values, <span class="dv">5</span>),</span>
<span id="cb20-361"><a href="#cb20-361"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Muy baja"</span>, </span>
<span id="cb20-362"><a href="#cb20-362"></a>                                        <span class="st">"Baja"</span>, </span>
<span id="cb20-363"><a href="#cb20-363"></a>                                        <span class="st">"Moderado"</span>,</span>
<span id="cb20-364"><a href="#cb20-364"></a>                                        <span class="st">"Alta"</span>, </span>
<span id="cb20-365"><a href="#cb20-365"></a>                                        <span class="st">"Muy alta"</span>)))</span>
<span id="cb20-366"><a href="#cb20-366"></a></span>
<span id="cb20-367"><a href="#cb20-367"></a>animacion <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapa_animado_data) <span class="sc">+</span></span>
<span id="cb20-368"><a href="#cb20-368"></a>              <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> incremento_alquileres_grupos), </span>
<span id="cb20-369"><a href="#cb20-369"></a>                      <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb20-370"><a href="#cb20-370"></a>                      <span class="at">size =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb20-371"><a href="#cb20-371"></a>              <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"magma"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>, </span>
<span id="cb20-372"><a href="#cb20-372"></a>                       <span class="at">name =</span> <span class="st">"Incremento del precio del alquiler (%)"</span>) <span class="sc">+</span> </span>
<span id="cb20-373"><a href="#cb20-373"></a>              <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb20-374"><a href="#cb20-374"></a>              <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">25</span>, <span class="dv">45</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">34</span>, <span class="dv">72</span>)) <span class="sc">+</span></span>
<span id="cb20-375"><a href="#cb20-375"></a>              <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mapa 1: Evolución del Incremento del alquiler entre 1996-2024 en la UE"</span>,</span>
<span id="cb20-376"><a href="#cb20-376"></a>                   <span class="at">subtitle =</span> <span class="st">"Año: {current_frame}"</span>,</span>
<span id="cb20-377"><a href="#cb20-377"></a>                   <span class="at">caption =</span> <span class="st">"Eurostat 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-378"><a href="#cb20-378"></a>              <span class="fu">transition_manual</span>(año) <span class="sc">+</span></span>
<span id="cb20-379"><a href="#cb20-379"></a>              <span class="fu">ease_aes</span>(<span class="st">"linear"</span>) </span>
<span id="cb20-380"><a href="#cb20-380"></a></span>
<span id="cb20-381"><a href="#cb20-381"></a><span class="fu">animate</span>(animacion, <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>(), </span>
<span id="cb20-382"><a href="#cb20-382"></a>        <span class="at">duration =</span> <span class="dv">35</span>, </span>
<span id="cb20-383"><a href="#cb20-383"></a>        <span class="at">fps =</span> <span class="dv">25</span>, </span>
<span id="cb20-384"><a href="#cb20-384"></a>        <span class="at">width =</span> <span class="dv">1000</span>,</span>
<span id="cb20-385"><a href="#cb20-385"></a>        <span class="at">height =</span> <span class="dv">600</span>,</span>
<span id="cb20-386"><a href="#cb20-386"></a>        <span class="at">units =</span> <span class="st">"px"</span>,</span>
<span id="cb20-387"><a href="#cb20-387"></a>        <span class="at">res =</span> <span class="dv">150</span>)</span>
<span id="cb20-388"><a href="#cb20-388"></a><span class="in">```</span></span>
<span id="cb20-389"><a href="#cb20-389"></a></span>
<span id="cb20-390"><a href="#cb20-390"></a></span>
<span id="cb20-391"><a href="#cb20-391"></a>La evolución del incremento anual del precio del alquiler en la Unión Europea durante el periodo 1996-2024 muestra una trayectoria de encarecimiento progresivo, caracterizada por una heterogeneidad geográfica marcada y una aceleración reciente. Mientras que en las primeras décadas se observan tasas de variación moderadas y estables en gran parte de Europa Occidental, la animación revela cómo, tras la crisis financiera y especialmente en el periodo post-pandemia (2021-2024), la intensidad de las subidas se dispara. Los países de Europa del Este y los Estados Bálticos (Estonia, Lituania) tienden a ocupar frecuentemente las categorías de crecimiento "Muy alta" (colores más oscuros en tu escala magma) debido a un efecto de convergencia económica y alta inflación reciente, mientras que mercados más regulados como Alemania o Francia suelen mostrar un comportamiento más contenido, aunque con una tendencia alcista generalizada en los últimos fotogramas debido a la presión inflacionaria global.</span>
<span id="cb20-392"><a href="#cb20-392"></a></span>
<span id="cb20-393"><a href="#cb20-393"></a><span class="fu">## OECD Boxplot</span></span>
<span id="cb20-394"><a href="#cb20-394"></a></span>
<span id="cb20-395"><a href="#cb20-395"></a>Cambiamos ahora de fuente. Haciendo uso de los datos de la OECD y mediante un diagrama de cajas observamos la dinámica de la inflación de los alquileres (el ritmo al que suben los precios anualmente), revelando un comportamiento cíclico dramático. Tras dos décadas de relativa estabilidad y una fase de enfriamiento notable entre 2010 y 2020, donde las subidas anuales se moderaron hasta caer cerca del 1% de mediana, se observa una ruptura estructural a partir de 2021. En los últimos tres años (2022-2024), la tendencia se invierte bruscamente con un ascenso vertical, llevando la mediana de incremento anual por encima del 4%, niveles inéditos en la serie histórica. Además, el alargamiento vertical de las cajas en este último periodo indica una mayor volatilidad y disparidad: mientras antes los países se comportaban de forma homogénea, ahora las diferencias en la intensidad de las subidas entre unos mercados y otros son extremas. </span>
<span id="cb20-396"><a href="#cb20-396"></a></span>
<span id="cb20-399"><a href="#cb20-399"></a><span class="in">```{r}</span></span>
<span id="cb20-400"><a href="#cb20-400"></a>url_ocde <span class="ot">&lt;-</span> <span class="st">"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.PA.CP041.N.?startPeriod=1996&amp;endPeriod=2024&amp;dimensionAtObservation=AllDimensions&amp;format=csvfilewithlabels"</span></span>
<span id="cb20-401"><a href="#cb20-401"></a></span>
<span id="cb20-402"><a href="#cb20-402"></a><span class="co">#Creamos el archivo y descargamos los datos</span></span>
<span id="cb20-403"><a href="#cb20-403"></a><span class="fu">dir.create</span>(<span class="st">"datos"</span>)</span>
<span id="cb20-404"><a href="#cb20-404"></a></span>
<span id="cb20-405"><a href="#cb20-405"></a>ruta_ocde <span class="ot">&lt;-</span> <span class="st">"./datos/alquileres_ocde_anual.csv"</span></span>
<span id="cb20-406"><a href="#cb20-406"></a></span>
<span id="cb20-407"><a href="#cb20-407"></a>curl<span class="sc">::</span><span class="fu">curl_download</span>(url_ocde, ruta_ocde) </span>
<span id="cb20-408"><a href="#cb20-408"></a></span>
<span id="cb20-409"><a href="#cb20-409"></a>alquileres_ocde <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(ruta_ocde)</span>
<span id="cb20-410"><a href="#cb20-410"></a></span>
<span id="cb20-411"><a href="#cb20-411"></a><span class="co">#Filtramos los datos</span></span>
<span id="cb20-412"><a href="#cb20-412"></a></span>
<span id="cb20-413"><a href="#cb20-413"></a>alquileres_ocde_anual <span class="ot">&lt;-</span> alquileres_ocde <span class="sc">%&gt;%</span></span>
<span id="cb20-414"><a href="#cb20-414"></a>                          <span class="fu">select</span>(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>, TIME_PERIOD, OBS_VALUE) <span class="sc">%&gt;%</span></span>
<span id="cb20-415"><a href="#cb20-415"></a>                          <span class="fu">mutate</span>(año <span class="ot">=</span> TIME_PERIOD,</span>
<span id="cb20-416"><a href="#cb20-416"></a>                                 <span class="at">values =</span> OBS_VALUE,</span>
<span id="cb20-417"><a href="#cb20-417"></a>                                 país <span class="ot">=</span> <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>) </span>
<span id="cb20-418"><a href="#cb20-418"></a><span class="co">#Creamos el gráfico</span></span>
<span id="cb20-419"><a href="#cb20-419"></a>gráfico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(alquileres_ocde_anual, <span class="fu">aes</span>(<span class="at">x =</span> año,  <span class="at">y =</span> values)) <span class="sc">+</span></span>
<span id="cb20-420"><a href="#cb20-420"></a>      <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> año, <span class="at">fill =</span> <span class="fu">as.factor</span>(año)), <span class="at">outlier.shape =</span> <span class="dv">8</span>) <span class="sc">+</span> </span>
<span id="cb20-421"><a href="#cb20-421"></a>      <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.15</span>, <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="at">color =</span> <span class="st">"brown"</span>) <span class="sc">+</span></span>
<span id="cb20-422"><a href="#cb20-422"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 6: Diagrama de cajas del inncremento anual del</span><span class="sc">\n</span><span class="st">precio del alquiler G-12"</span>, </span>
<span id="cb20-423"><a href="#cb20-423"></a>           <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje"</span>,</span>
<span id="cb20-424"><a href="#cb20-424"></a>           <span class="at">caption =</span> <span class="st">"Fuente: OCDE 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-425"><a href="#cb20-425"></a>      <span class="fu">theme_solarized</span>() <span class="sc">+</span> </span>
<span id="cb20-426"><a href="#cb20-426"></a>      <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"line"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span>               <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb20-427"><a href="#cb20-427"></a>      <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>),</span>
<span id="cb20-428"><a href="#cb20-428"></a>            <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb20-429"><a href="#cb20-429"></a></span>
<span id="cb20-430"><a href="#cb20-430"></a>gráfico </span>
<span id="cb20-431"><a href="#cb20-431"></a><span class="in">```</span></span>
<span id="cb20-432"><a href="#cb20-432"></a></span>
<span id="cb20-433"><a href="#cb20-433"></a></span>
<span id="cb20-434"><a href="#cb20-434"></a><span class="fu">## OECD Animación</span></span>
<span id="cb20-437"><a href="#cb20-437"></a><span class="in">```{r}</span></span>
<span id="cb20-438"><a href="#cb20-438"></a>url_ocde <span class="ot">&lt;-</span> <span class="st">"https://sdmx.oecd.org/public/rest/data/OECD.SDD.TPS,DSD_PRICES@DF_PRICES_ALL,1.0/CAN+AUS+BEL+FRA+DEU+ITA+JPN+NLD+ESP+CHE+SWE+GBR+USA+OECD+EU27_2020.A.N.CPI.IX.CP041.N.?startPeriod=1996&amp;endPeriod=2024&amp;dimensionAtObservation=AllDimensions&amp;format=csvfilewithlabels"</span></span>
<span id="cb20-439"><a href="#cb20-439"></a></span>
<span id="cb20-440"><a href="#cb20-440"></a><span class="co">#Creamos el archivo y descargamos los datos</span></span>
<span id="cb20-441"><a href="#cb20-441"></a><span class="fu">dir.create</span>(<span class="st">"datos"</span>)</span>
<span id="cb20-442"><a href="#cb20-442"></a></span>
<span id="cb20-443"><a href="#cb20-443"></a>ruta_ocde <span class="ot">&lt;-</span> <span class="st">"./datos/alquileres_ocde.csv"</span></span>
<span id="cb20-444"><a href="#cb20-444"></a></span>
<span id="cb20-445"><a href="#cb20-445"></a>curl<span class="sc">::</span><span class="fu">curl_download</span>(url_ocde, ruta_ocde) </span>
<span id="cb20-446"><a href="#cb20-446"></a></span>
<span id="cb20-447"><a href="#cb20-447"></a>alquileres_ocde <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(ruta_ocde)</span>
<span id="cb20-448"><a href="#cb20-448"></a></span>
<span id="cb20-449"><a href="#cb20-449"></a><span class="co">#Filtramos los datos</span></span>
<span id="cb20-450"><a href="#cb20-450"></a>alquileres_ocde <span class="ot">&lt;-</span> alquileres_ocde <span class="sc">%&gt;%</span></span>
<span id="cb20-451"><a href="#cb20-451"></a>                   <span class="fu">select</span>(Measure, BASE_PER, EXPENDITURE, Expenditure,                                         <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>, TIME_PERIOD, OBS_VALUE) <span class="sc">%&gt;%</span></span>
<span id="cb20-452"><a href="#cb20-452"></a>                   <span class="fu">mutate</span>(año <span class="ot">=</span> TIME_PERIOD,</span>
<span id="cb20-453"><a href="#cb20-453"></a>                          <span class="at">values =</span> OBS_VALUE,</span>
<span id="cb20-454"><a href="#cb20-454"></a>                          país <span class="ot">=</span> <span class="st">`</span><span class="at">Reference area</span><span class="st">`</span>)</span>
<span id="cb20-455"><a href="#cb20-455"></a>  </span>
<span id="cb20-456"><a href="#cb20-456"></a><span class="co">#Creamos el gráfico </span></span>
<span id="cb20-457"><a href="#cb20-457"></a>gráfico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(alquileres_ocde, <span class="fu">aes</span>(<span class="at">x =</span> año, <span class="at">y =</span> values, <span class="at">color =</span> país)) <span class="sc">+</span></span>
<span id="cb20-458"><a href="#cb20-458"></a>            <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb20-459"><a href="#cb20-459"></a>            <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 7: Incremento del precio del alquiler (Base 2015) G-12"</span>, </span>
<span id="cb20-460"><a href="#cb20-460"></a>                  <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Porcentaje (Base 2015)"</span>,</span>
<span id="cb20-461"><a href="#cb20-461"></a>                 <span class="at">caption =</span> <span class="st">"Fuente: OCDE 2025"</span>) <span class="sc">+</span></span>
<span id="cb20-462"><a href="#cb20-462"></a>            <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1996</span>, <span class="dv">2024</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb20-463"><a href="#cb20-463"></a>            <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="at">by =</span> <span class="fl">12.5</span>),</span>
<span id="cb20-464"><a href="#cb20-464"></a>                               <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">150</span>),</span>
<span id="cb20-465"><a href="#cb20-465"></a>                               <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb20-466"><a href="#cb20-466"></a>            <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb20-467"><a href="#cb20-467"></a>            <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb20-468"><a href="#cb20-468"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb20-469"><a href="#cb20-469"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb20-470"><a href="#cb20-470"></a>            <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> país))</span>
<span id="cb20-471"><a href="#cb20-471"></a>  </span>
<span id="cb20-472"><a href="#cb20-472"></a><span class="co">#Animámos el gráfico</span></span>
<span id="cb20-473"><a href="#cb20-473"></a>gráfico_animado <span class="ot">&lt;-</span> gráfico <span class="sc">+</span> <span class="fu">transition_reveal</span>(año)<span class="sc">+</span></span>
<span id="cb20-474"><a href="#cb20-474"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span> </span>
<span id="cb20-475"><a href="#cb20-475"></a>  <span class="fu">exit_fade</span>()</span>
<span id="cb20-476"><a href="#cb20-476"></a></span>
<span id="cb20-477"><a href="#cb20-477"></a>gráfico_animado</span>
<span id="cb20-478"><a href="#cb20-478"></a><span class="in">```</span></span>
<span id="cb20-479"><a href="#cb20-479"></a></span>
<span id="cb20-480"><a href="#cb20-480"></a>El gráfico evidencia una tendencia alcista estructural y sostenida en el precio de los alquileres para las principales economías de la OCDE entre 1996 y 2024. Tomando 2015 como año base (índice 100), se observa cómo la totalidad de los países analizados parten de niveles inferiores (cercanos a los 50-60 puntos) a mediados de los noventa y experimentan un crecimiento constante e ininterrumpido a lo largo de las tres décadas. Aunque la pendiente varía según el país —reflejando distintas presiones inflacionarias locales—, la imagen general confirma un encarecimiento progresivo y universal del acceso a la vivienda en alquiler en el bloque occidental, situándose los valores actuales muy por encima de los registros históricos.</span>
<span id="cb20-481"><a href="#cb20-481"></a></span>
<span id="cb20-482"><a href="#cb20-482"></a><span class="fu"># [España y el precio del alquiler]{style="color: yellow; background-color: red"}</span></span>
<span id="cb20-483"><a href="#cb20-483"></a></span>
<span id="cb20-484"><a href="#cb20-484"></a>Después de entender un poco la situación en Europa, nos acercamos a lo que más nos concierne, nuestro país, España. Hacemos ciertas modificaciones y entonces podremos empezar a trabajar con los datos.</span>
<span id="cb20-485"><a href="#cb20-485"></a></span>
<span id="cb20-488"><a href="#cb20-488"></a><span class="in">```{r}</span></span>
<span id="cb20-489"><a href="#cb20-489"></a><span class="co">#| label: P error 1</span></span>
<span id="cb20-490"><a href="#cb20-490"></a><span class="co">#Importamos los datos</span></span>
<span id="cb20-491"><a href="#cb20-491"></a></span>
<span id="cb20-492"><a href="#cb20-492"></a>my_url <span class="ot">&lt;-</span> <span class="st">"https://www.ine.es/jaxiT3/files/t/es/px/50914.px?nocab=1"</span></span>
<span id="cb20-493"><a href="#cb20-493"></a></span>
<span id="cb20-494"><a href="#cb20-494"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb20-495"><a href="#cb20-495"></a></span>
<span id="cb20-496"><a href="#cb20-496"></a>my_destino <span class="ot">&lt;-</span> <span class="st">"./datos/50914.px"</span></span>
<span id="cb20-497"><a href="#cb20-497"></a></span>
<span id="cb20-498"><a href="#cb20-498"></a>curl<span class="sc">::</span><span class="fu">curl_download</span>(my_url, my_destino)</span>
<span id="cb20-499"><a href="#cb20-499"></a></span>
<span id="cb20-500"><a href="#cb20-500"></a><span class="co">#Obtenemos el DataFrame completo</span></span>
<span id="cb20-501"><a href="#cb20-501"></a></span>
<span id="cb20-502"><a href="#cb20-502"></a>df <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(my_destino) <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb20-503"><a href="#cb20-503"></a></span>
<span id="cb20-504"><a href="#cb20-504"></a><span class="co">#Filtramos el df y nos quedamos con el subgrupo y el tipo de dato a estudiar. Tambien quitamos los NA de la columna value</span></span>
<span id="cb20-505"><a href="#cb20-505"></a></span>
<span id="cb20-506"><a href="#cb20-506"></a><span class="fu">names</span>(df)</span>
<span id="cb20-507"><a href="#cb20-507"></a>nombres_actuales <span class="ot">&lt;-</span> <span class="fu">names</span>(df)</span>
<span id="cb20-508"><a href="#cb20-508"></a>nombres_actuales[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">"CCAA"</span></span>
<span id="cb20-509"><a href="#cb20-509"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> nombres_actuales</span>
<span id="cb20-510"><a href="#cb20-510"></a></span>
<span id="cb20-511"><a href="#cb20-511"></a></span>
<span id="cb20-512"><a href="#cb20-512"></a>df_VIVIENDA <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb20-513"><a href="#cb20-513"></a>  <span class="fu">filter</span>(Subgrupos <span class="sc">==</span> <span class="st">"041 Alquiler de vivienda"</span>, Tipo.de.dato <span class="sc">==</span> <span class="st">"Variación anual"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb20-514"><a href="#cb20-514"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(value)) </span>
<span id="cb20-515"><a href="#cb20-515"></a>  </span>
<span id="cb20-516"><a href="#cb20-516"></a></span>
<span id="cb20-517"><a href="#cb20-517"></a><span class="co">#Cambiamos el formato de la fecha con el paquete lubridate</span></span>
<span id="cb20-518"><a href="#cb20-518"></a></span>
<span id="cb20-519"><a href="#cb20-519"></a>df_VIVIENDA_Fechas <span class="ot">&lt;-</span> df_VIVIENDA <span class="sc">%&gt;%</span></span>
<span id="cb20-520"><a href="#cb20-520"></a>    <span class="fu">arrange</span>(CCAA, Periodo) <span class="sc">%&gt;%</span></span>
<span id="cb20-521"><a href="#cb20-521"></a>    <span class="fu">mutate</span>(<span class="at">Fecha_Base =</span> <span class="fu">gsub</span>(<span class="st">"M"</span>, <span class="st">"-"</span>, Periodo),</span>
<span id="cb20-522"><a href="#cb20-522"></a>    <span class="at">Fecha_Completa =</span> <span class="fu">paste0</span>(Fecha_Base, <span class="st">"-01"</span>),</span>
<span id="cb20-523"><a href="#cb20-523"></a>    <span class="at">Periodo_Fecha =</span> <span class="fu">ymd</span>(Fecha_Completa)) <span class="sc">%&gt;%</span></span>
<span id="cb20-524"><a href="#cb20-524"></a>    <span class="fu">select</span>(<span class="sc">-</span>Fecha_Base, <span class="sc">-</span>Fecha_Completa,<span class="sc">-</span>Periodo)</span>
<span id="cb20-525"><a href="#cb20-525"></a></span>
<span id="cb20-526"><a href="#cb20-526"></a>df__VIVIENDA <span class="ot">&lt;-</span> df_VIVIENDA_Fechas <span class="sc">%&gt;%</span></span>
<span id="cb20-527"><a href="#cb20-527"></a>  <span class="fu">filter</span>(<span class="fu">month</span>(Periodo_Fecha) <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-528"><a href="#cb20-528"></a>  <span class="fu">arrange</span>(Periodo_Fecha) <span class="sc">%&gt;%</span></span>
<span id="cb20-529"><a href="#cb20-529"></a>  <span class="fu">mutate</span>(<span class="at">Periodo_Fecha =</span> <span class="fu">as.Date</span>(Periodo_Fecha, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>))</span>
<span id="cb20-530"><a href="#cb20-530"></a></span>
<span id="cb20-531"><a href="#cb20-531"></a><span class="co">#Obtenemos el data frame final "bonito" con el que trabajar</span></span>
<span id="cb20-532"><a href="#cb20-532"></a></span>
<span id="cb20-533"><a href="#cb20-533"></a>df_FINAL_VIVIENDA <span class="ot">&lt;-</span> df__VIVIENDA <span class="sc">%&gt;%</span></span>
<span id="cb20-534"><a href="#cb20-534"></a>  <span class="fu">select</span>(<span class="sc">-</span>Subgrupos, <span class="sc">-</span>Tipo.de.dato) <span class="sc">%&gt;%</span></span>
<span id="cb20-535"><a href="#cb20-535"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">var_anual_precio_alquiler =</span> value)</span>
<span id="cb20-536"><a href="#cb20-536"></a></span>
<span id="cb20-537"><a href="#cb20-537"></a><span class="fu">str</span>(df_FINAL_VIVIENDA)</span>
<span id="cb20-538"><a href="#cb20-538"></a><span class="in">```</span></span>
<span id="cb20-539"><a href="#cb20-539"></a></span>
<span id="cb20-540"><a href="#cb20-540"></a>Para ver cómo ha evolucionado la variación anual del precio del alquiler NACIONAL desde 2002 a 2025 crearemos un gráfico. Además este nos servira como gráfico introductorio para ver los datos que trataremos en esta sección.</span>
<span id="cb20-541"><a href="#cb20-541"></a></span>
<span id="cb20-544"><a href="#cb20-544"></a><span class="in">```{r}</span></span>
<span id="cb20-545"><a href="#cb20-545"></a><span class="co">#| label: P error 2</span></span>
<span id="cb20-546"><a href="#cb20-546"></a>df_vivienda_nacional <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> <span class="fu">filter</span>(CCAA <span class="sc">==</span> <span class="st">"Nacional"</span>)</span>
<span id="cb20-547"><a href="#cb20-547"></a></span>
<span id="cb20-548"><a href="#cb20-548"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_vivienda_nacional, <span class="fu">aes</span>(<span class="at">x =</span> Periodo_Fecha, <span class="at">y =</span> var_anual_precio_alquiler)) <span class="sc">+</span></span>
<span id="cb20-549"><a href="#cb20-549"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="st">"Nacional"</span>), <span class="at">linewidth =</span> <span class="fl">0.8</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb20-550"><a href="#cb20-550"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-551"><a href="#cb20-551"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Nacional"</span> <span class="ot">=</span> <span class="st">"#004488"</span>)) <span class="sc">+</span></span>
<span id="cb20-552"><a href="#cb20-552"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 8: Evolución de la variación anual del precio del alquiler</span><span class="sc">\n</span><span class="st">a nivel NACIONAL"</span>,</span>
<span id="cb20-553"><a href="#cb20-553"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb20-554"><a href="#cb20-554"></a>       <span class="at">caption =</span> <span class="st">"Fuente: INE"</span>,</span>
<span id="cb20-555"><a href="#cb20-555"></a>       <span class="at">x =</span> <span class="st">"Periodo (años)"</span>,</span>
<span id="cb20-556"><a href="#cb20-556"></a>       <span class="at">y =</span> <span class="st">"Variación anual (%)"</span>,</span>
<span id="cb20-557"><a href="#cb20-557"></a>       <span class="at">color =</span> <span class="st">"Región"</span>) <span class="sc">+</span> </span>
<span id="cb20-558"><a href="#cb20-558"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"2 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) </span>
<span id="cb20-559"><a href="#cb20-559"></a></span>
<span id="cb20-560"><a href="#cb20-560"></a>p1</span>
<span id="cb20-561"><a href="#cb20-561"></a><span class="in">```</span></span>
<span id="cb20-562"><a href="#cb20-562"></a>El Gráfico 8 evidencia una marcada volatilidad en el crecimiento anual de los precios del alquiler entre 2002 y 2025. Tras registrar tasas superiores al 4% hasta 2008, la variación cayó drásticamente, llegando a ser negativa en el período 2014-2016. Desde ese mínimo, se observa una clara recuperación y una aceleración post-2022 que sitúa la variación proyectada para 2025 cerca del 2.5%.</span>
<span id="cb20-563"><a href="#cb20-563"></a></span>
<span id="cb20-564"><a href="#cb20-564"></a><span class="fu">## ¿Donde sube más el alquiler?</span></span>
<span id="cb20-565"><a href="#cb20-565"></a></span>
<span id="cb20-568"><a href="#cb20-568"></a><span class="in">```{r}</span></span>
<span id="cb20-569"><a href="#cb20-569"></a><span class="co">#| label: P error 3</span></span>
<span id="cb20-570"><a href="#cb20-570"></a>df_vivienda_promedios_maxs <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb20-571"><a href="#cb20-571"></a>                         <span class="fu">group_by</span>(CCAA) <span class="sc">%&gt;%</span></span>
<span id="cb20-572"><a href="#cb20-572"></a>                         <span class="fu">summarise</span>(<span class="at">media_var_anual =</span> <span class="fu">mean</span>(var_anual_precio_alquiler))<span class="sc">%&gt;%</span></span>
<span id="cb20-573"><a href="#cb20-573"></a>                         <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-574"><a href="#cb20-574"></a>                         <span class="fu">slice_max</span>(media_var_anual, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb20-575"><a href="#cb20-575"></a>                      </span>
<span id="cb20-576"><a href="#cb20-576"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_vivienda_promedios_maxs, <span class="fu">aes</span>(<span class="at">x =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(CCAA, media_var_anual), <span class="at">y =</span> media_var_anual)) <span class="sc">+</span></span>
<span id="cb20-577"><a href="#cb20-577"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb20-578"><a href="#cb20-578"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb20-579"><a href="#cb20-579"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 9: Las 5 comunidades con una mayor variación</span><span class="sc">\n</span><span class="st">anual media del precio de alquiler"</span>,</span>
<span id="cb20-580"><a href="#cb20-580"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb20-581"><a href="#cb20-581"></a>       <span class="at">caption =</span> <span class="st">"Fuente: INE"</span>,</span>
<span id="cb20-582"><a href="#cb20-582"></a>       <span class="at">x =</span> <span class="st">"Comunidades Autónomas"</span>,</span>
<span id="cb20-583"><a href="#cb20-583"></a>       <span class="at">y =</span> <span class="st">"Variación anual media (%)"</span>)</span>
<span id="cb20-584"><a href="#cb20-584"></a>p2</span>
<span id="cb20-585"><a href="#cb20-585"></a><span class="in">```</span></span>
<span id="cb20-586"><a href="#cb20-586"></a></span>
<span id="cb20-587"><a href="#cb20-587"></a>El Gráfico 9 identifica las 5 comunidades autónomas con la mayor variación anual media en el precio del alquiler durante el periodo 2002-2025. Liderando la lista se encuentran las Islas Baleares, seguidas muy de cerca por Cataluña, ambas con una variación media superior al 2.1%. Las comunidades de Aragón, Comunidad de Madrid y País Vasco cierran el top 5, manteniendo también variaciones medias anuales por encima del 2.0% para todo el período. Se muestra en un plot de barras con las coordenas invertidas y con el paquete forcats utilizamos la funcion fct_reorder para ordenar de mayor a menor</span>
<span id="cb20-588"><a href="#cb20-588"></a></span>
<span id="cb20-589"><a href="#cb20-589"></a>Vemos la evolución de las 5 comunidades que han experimentado una mayor variación anual media del precio de alquiler durante los periodos 2002-2025. Primero hacemos el gráfico de lineas y luego con el paquete gganimate lo hacemos animado. Se puede ver una disminución de la variación anual en las 5 CCAA en el año 2010 debido a la crisis inmobiliaria.</span>
<span id="cb20-590"><a href="#cb20-590"></a></span>
<span id="cb20-593"><a href="#cb20-593"></a><span class="in">```{r}</span></span>
<span id="cb20-594"><a href="#cb20-594"></a><span class="co">#| label: P error 4</span></span>
<span id="cb20-595"><a href="#cb20-595"></a>df_vivienda_maxs <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb20-596"><a href="#cb20-596"></a>                    <span class="fu">filter</span>(CCAA <span class="sc">%in%</span> </span>
<span id="cb20-597"><a href="#cb20-597"></a>                    <span class="fu">c</span>(<span class="st">"04 Balears, Illes"</span>,<span class="st">"09 Cataluña"</span>,<span class="st">"02 Aragón"</span>,<span class="st">"13 Madrid, Comunidad de"</span>,<span class="st">"16 País Vasco"</span>))</span>
<span id="cb20-598"><a href="#cb20-598"></a></span>
<span id="cb20-599"><a href="#cb20-599"></a>p4 <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>(df_vivienda_maxs, <span class="fu">aes</span>(<span class="at">x =</span> Periodo_Fecha, <span class="at">y =</span> var_anual_precio_alquiler, <span class="at">color =</span> CCAA)) <span class="sc">+</span></span>
<span id="cb20-600"><a href="#cb20-600"></a>       <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb20-601"><a href="#cb20-601"></a>       <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 10: Evolución de la variación anual del precio del alquiler</span><span class="sc">\n</span><span class="st">de las 5 comunidades"</span>,</span>
<span id="cb20-602"><a href="#cb20-602"></a>        <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb20-603"><a href="#cb20-603"></a>        <span class="at">caption =</span> <span class="st">"Fuente: INE"</span>,</span>
<span id="cb20-604"><a href="#cb20-604"></a>        <span class="at">x =</span> <span class="st">"Periodo (años)"</span>,</span>
<span id="cb20-605"><a href="#cb20-605"></a>        <span class="at">y =</span> <span class="st">"Variación anual (%)"</span>,</span>
<span id="cb20-606"><a href="#cb20-606"></a>        <span class="at">color =</span> <span class="st">"Comunidades Autónomas"</span>) </span>
<span id="cb20-607"><a href="#cb20-607"></a></span>
<span id="cb20-608"><a href="#cb20-608"></a>grafico_ani_top5 <span class="ot">&lt;-</span> p4 <span class="sc">+</span></span>
<span id="cb20-609"><a href="#cb20-609"></a>  <span class="fu">transition_reveal</span>(Periodo_Fecha) <span class="sc">+</span>  </span>
<span id="cb20-610"><a href="#cb20-610"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span></span>
<span id="cb20-611"><a href="#cb20-611"></a>  <span class="fu">exit_fade</span>()</span>
<span id="cb20-612"><a href="#cb20-612"></a></span>
<span id="cb20-613"><a href="#cb20-613"></a>grafico_ani_top5</span>
<span id="cb20-614"><a href="#cb20-614"></a><span class="in">```</span></span>
<span id="cb20-615"><a href="#cb20-615"></a></span>
<span id="cb20-616"><a href="#cb20-616"></a>El Gráfico 10 muestra que, aunque las 5 comunidades comenzaron el periodo 2002-2025 con tasas de crecimiento anual superiores al 4%, todas experimentaron una fuerte y simultánea caída hasta el entorno de 2014-2016, llegando incluso a tasas negativas. A partir de 2016, las variaciones se recuperaron y fluctuaron alrededor del 1% al 2.5%, con las Islas Baleares liderando el crecimiento en varios puntos y la Comunidad de Madrid mostrando una menor variación en el último periodo. En general, se observa una alta correlación en el ciclo de precios entre estas cinco comunidades.</span>
<span id="cb20-617"><a href="#cb20-617"></a></span>
<span id="cb20-618"><a href="#cb20-618"></a><span class="fu">## ¿Donde baja más el alquiler?</span></span>
<span id="cb20-619"><a href="#cb20-619"></a></span>
<span id="cb20-620"><a href="#cb20-620"></a>Ahora, buscamos lo contrario, qué 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler en el periodo 2002-2025.En este hacemos lo mismo pero con las 8 comunidades con menor variación anual media. Aquí ningún valor supera el 1.75% de variación media y con el condicional ifelse destacamos que la comunidad que menos ha variado es Navarra. También utilizamos la función fct_reorder para ordenar de mayor a menor y quitamos la leyenda. El resto de comunidades de este grupo, incluyendo Melilla y Asturias, se mantienen en un rango muy estrecho de variaciones, confirmando que estas son las regiones donde el alquiler se ha moderado más.</span>
<span id="cb20-621"><a href="#cb20-621"></a></span>
<span id="cb20-624"><a href="#cb20-624"></a><span class="in">```{r}</span></span>
<span id="cb20-625"><a href="#cb20-625"></a>df_vivienda_promedios_mins <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb20-626"><a href="#cb20-626"></a>  <span class="fu">group_by</span>(CCAA) <span class="sc">%&gt;%</span></span>
<span id="cb20-627"><a href="#cb20-627"></a>  <span class="fu">summarise</span>(<span class="at">media_var_anual =</span> <span class="fu">mean</span>(var_anual_precio_alquiler))<span class="sc">%&gt;%</span></span>
<span id="cb20-628"><a href="#cb20-628"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-629"><a href="#cb20-629"></a>  <span class="fu">slice_min</span>(media_var_anual, <span class="at">n =</span> <span class="dv">8</span>)</span>
<span id="cb20-630"><a href="#cb20-630"></a></span>
<span id="cb20-631"><a href="#cb20-631"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_vivienda_promedios_mins, </span>
<span id="cb20-632"><a href="#cb20-632"></a>      <span class="fu">aes</span>(<span class="at">x =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(CCAA, media_var_anual), <span class="at">y =</span> media_var_anual, </span>
<span id="cb20-633"><a href="#cb20-633"></a>      <span class="at">fill =</span> <span class="fu">ifelse</span> (CCAA <span class="sc">==</span> <span class="st">"15 Navarra, Comunidad Foral de"</span>, <span class="st">"darkred"</span>, <span class="st">"lightblue"</span>))) <span class="sc">+</span></span>
<span id="cb20-634"><a href="#cb20-634"></a>      <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-635"><a href="#cb20-635"></a>      <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb20-636"><a href="#cb20-636"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gráfico 11: Las 5 comunidades que han experimentado</span><span class="sc">\n</span><span class="st">una menor variación anual media del precio de alquiler"</span>,</span>
<span id="cb20-637"><a href="#cb20-637"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo comprendido entre 2002-2025"</span>,</span>
<span id="cb20-638"><a href="#cb20-638"></a>       <span class="at">caption =</span> <span class="st">"Fuente INE"</span>,</span>
<span id="cb20-639"><a href="#cb20-639"></a>       <span class="at">x =</span> <span class="st">"Comunidades Autónomas"</span>,</span>
<span id="cb20-640"><a href="#cb20-640"></a>       <span class="at">y =</span> <span class="st">"Variación anual media (%)"</span>) <span class="sc">+</span></span>
<span id="cb20-641"><a href="#cb20-641"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb20-642"><a href="#cb20-642"></a>p3</span>
<span id="cb20-643"><a href="#cb20-643"></a><span class="in">```</span></span>
<span id="cb20-644"><a href="#cb20-644"></a></span>
<span id="cb20-645"><a href="#cb20-645"></a>Mostramos los datos en una tabla con el paquete DT</span>
<span id="cb20-646"><a href="#cb20-646"></a>Utilizamos las opciones para dejarla mas limpia y la función formatRound para limitar la columna media_var_anual a 2 decimales</span>
<span id="cb20-647"><a href="#cb20-647"></a></span>
<span id="cb20-650"><a href="#cb20-650"></a><span class="in">```{r}</span></span>
<span id="cb20-651"><a href="#cb20-651"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(df_vivienda_promedios_mins,</span>
<span id="cb20-652"><a href="#cb20-652"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">dom =</span> <span class="st">"t"</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">targets =</span> <span class="st">"_all"</span>, <span class="at">className =</span> <span class="st">"dt-center"</span>))),</span>
<span id="cb20-653"><a href="#cb20-653"></a>  <span class="at">caption =</span> <span class="st">"Tabla 3: Las 8 comunidades han experimentado una menor variación anual promedio del precio de alquiler"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-654"><a href="#cb20-654"></a>  <span class="fu">formatRound</span>(<span class="st">"media_var_anual"</span>, <span class="dv">2</span>) </span>
<span id="cb20-655"><a href="#cb20-655"></a><span class="in">```</span></span>
<span id="cb20-656"><a href="#cb20-656"></a></span>
<span id="cb20-657"><a href="#cb20-657"></a><span class="fu">## Mapa de coropletas de la variación anual promedio del precio de alquiler del periodo 2002-2025</span></span>
<span id="cb20-658"><a href="#cb20-658"></a></span>
<span id="cb20-661"><a href="#cb20-661"></a><span class="in">```{r}</span></span>
<span id="cb20-662"><a href="#cb20-662"></a><span class="co">#Obtenemos el mapa del paquete del curso </span></span>
<span id="cb20-663"><a href="#cb20-663"></a></span>
<span id="cb20-664"><a href="#cb20-664"></a>df_mapa <span class="ot">&lt;-</span> pjpv.curso.R<span class="fl">.2022</span><span class="sc">::</span>LAU2_prov_2020_canarias</span>
<span id="cb20-665"><a href="#cb20-665"></a></span>
<span id="cb20-666"><a href="#cb20-666"></a><span class="co">#Primero agregamos provincias para obtener geometrías para las CCAA (script)</span></span>
<span id="cb20-667"><a href="#cb20-667"></a></span>
<span id="cb20-668"><a href="#cb20-668"></a>ccaa <span class="ot">&lt;-</span> df_mapa <span class="sc">%&gt;%</span> </span>
<span id="cb20-669"><a href="#cb20-669"></a>  <span class="fu">group_by</span>(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) <span class="sc">%&gt;%</span> </span>
<span id="cb20-670"><a href="#cb20-670"></a>  <span class="fu">summarise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-671"><a href="#cb20-671"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb20-672"><a href="#cb20-672"></a></span>
<span id="cb20-673"><a href="#cb20-673"></a><span class="co">#Modificamos nuestro dataframe creando la media de todas las CCAAs. También creamos la columna común</span></span>
<span id="cb20-674"><a href="#cb20-674"></a></span>
<span id="cb20-675"><a href="#cb20-675"></a>df_vivienda_promedios <span class="ot">&lt;-</span> df_FINAL_VIVIENDA <span class="sc">%&gt;%</span> </span>
<span id="cb20-676"><a href="#cb20-676"></a>  <span class="fu">group_by</span>(CCAA) <span class="sc">%&gt;%</span></span>
<span id="cb20-677"><a href="#cb20-677"></a>  <span class="fu">summarise</span>(<span class="at">media_var_anual =</span> <span class="fu">mean</span>(var_anual_precio_alquiler))<span class="sc">%&gt;%</span></span>
<span id="cb20-678"><a href="#cb20-678"></a>  <span class="fu">filter</span>(CCAA <span class="sc">!=</span> <span class="st">"Nacional"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-679"><a href="#cb20-679"></a>  <span class="fu">ungroup</span>()<span class="sc">%&gt;%</span></span>
<span id="cb20-680"><a href="#cb20-680"></a>  <span class="fu">mutate</span>( <span class="at">ine_ccaa =</span> <span class="fu">str_pad</span>( <span class="at">string =</span> <span class="fu">row_number</span>(), </span>
<span id="cb20-681"><a href="#cb20-681"></a>    <span class="at">width =</span> <span class="dv">2</span>,            </span>
<span id="cb20-682"><a href="#cb20-682"></a>    <span class="at">pad =</span> <span class="st">"0"</span>,           </span>
<span id="cb20-683"><a href="#cb20-683"></a>    <span class="at">side =</span> <span class="st">"left"</span>), </span>
<span id="cb20-684"><a href="#cb20-684"></a>    <span class="at">.before =</span> CCAA)</span>
<span id="cb20-685"><a href="#cb20-685"></a></span>
<span id="cb20-686"><a href="#cb20-686"></a><span class="co">#Con la función left_join creamos nuestro dataframe preparado para hacer el plot de coropletas</span></span>
<span id="cb20-687"><a href="#cb20-687"></a></span>
<span id="cb20-688"><a href="#cb20-688"></a>df_mapa <span class="ot">&lt;-</span> <span class="fu">left_join</span>(ccaa, df_vivienda_promedios, <span class="at">by =</span> <span class="st">"ine_ccaa"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-689"><a href="#cb20-689"></a>           <span class="fu">select</span>(ine_ccaa,ine_ccaa.n,geometry,media_var_anual)</span>
<span id="cb20-690"><a href="#cb20-690"></a></span>
<span id="cb20-691"><a href="#cb20-691"></a><span class="co">#Con print podemos ver la estructura del df en la consola</span></span>
<span id="cb20-692"><a href="#cb20-692"></a></span>
<span id="cb20-693"><a href="#cb20-693"></a><span class="fu">print</span>(df_mapa)</span>
<span id="cb20-694"><a href="#cb20-694"></a></span>
<span id="cb20-695"><a href="#cb20-695"></a><span class="co">#Creamos el dataframe con los cuartiles </span></span>
<span id="cb20-696"><a href="#cb20-696"></a></span>
<span id="cb20-697"><a href="#cb20-697"></a>df_mapa_ntiles <span class="ot">&lt;-</span> df_mapa <span class="sc">%&gt;%</span></span>
<span id="cb20-698"><a href="#cb20-698"></a>   <span class="fu">mutate</span>(<span class="at">CLASE_COROPLETAS_NTILE =</span> <span class="fu">ntile</span>(media_var_anual, <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-699"><a href="#cb20-699"></a>   <span class="fu">mutate</span>(</span>
<span id="cb20-700"><a href="#cb20-700"></a>    <span class="at">CLASE_COROPLETAS_NTILE =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-701"><a href="#cb20-701"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Cuartil 1 - Variación Baja"</span>,</span>
<span id="cb20-702"><a href="#cb20-702"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Cuartil 2 - Variación Media-Baja"</span>,</span>
<span id="cb20-703"><a href="#cb20-703"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Cuartil 3 - Variación Media-Alta"</span>,</span>
<span id="cb20-704"><a href="#cb20-704"></a>      CLASE_COROPLETAS_NTILE <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"Cuartil 4 - Variación Alta"</span>))</span>
<span id="cb20-705"><a href="#cb20-705"></a> </span>
<span id="cb20-706"><a href="#cb20-706"></a><span class="co">#Mapeamos</span></span>
<span id="cb20-707"><a href="#cb20-707"></a></span>
<span id="cb20-708"><a href="#cb20-708"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_mapa_ntiles) <span class="sc">+</span></span>
<span id="cb20-709"><a href="#cb20-709"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> CLASE_COROPLETAS_NTILE),</span>
<span id="cb20-710"><a href="#cb20-710"></a>          <span class="at">color =</span> <span class="st">"Black"</span>,</span>
<span id="cb20-711"><a href="#cb20-711"></a>          <span class="at">linewidth =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb20-712"><a href="#cb20-712"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Blues"</span>,</span>
<span id="cb20-713"><a href="#cb20-713"></a>          <span class="at">name =</span> <span class="st">"Variación Anual Media</span><span class="sc">\n</span><span class="st">(Clasificación por Cuartiles)"</span>) <span class="sc">+</span></span>
<span id="cb20-714"><a href="#cb20-714"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mapa 2: Variación Anual Media del precio del alquiler por CCAA"</span>,</span>
<span id="cb20-715"><a href="#cb20-715"></a>          <span class="at">subtitle =</span> <span class="st">"Promedio obtenido de 2002-2025 (Expresado en variación porcentual)"</span>,</span>
<span id="cb20-716"><a href="#cb20-716"></a>          <span class="at">caption =</span> <span class="st">"Fuente: Instituto Nacional de Estadística"</span>) <span class="sc">+</span></span>
<span id="cb20-717"><a href="#cb20-717"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb20-718"><a href="#cb20-718"></a><span class="in">```</span></span>
<span id="cb20-719"><a href="#cb20-719"></a></span>
<span id="cb20-720"><a href="#cb20-720"></a>En el Mapa 2 se observa la variación media anual del alquiler (2002-2025), muestra una fuerte dualidad territorial en España. Las subidas más altas (Cuartil 4) se concentran de forma clara en el Mediterráneo, lideradas por Cataluña y las Islas Baleares. La Comunidad de Madrid y la Comunidad Valenciana se sitúan en el cuartil de variación media-alta (Cuartil 3). En contraste, las regiones de la mitad oeste (Galicia, Extremadura, Castilla y León) presentan la variación más baja (Cuartil 1). El patrón subraya una mayor presión de la demanda en zonas costeras y en los principales centros económicos del país.</span>
<span id="cb20-721"><a href="#cb20-721"></a></span>
<span id="cb20-722"><a href="#cb20-722"></a><span class="dt">&lt;</span><span class="kw">br</span><span class="dt">&gt;</span></span>
<span id="cb20-723"><a href="#cb20-723"></a></span>
<span id="cb20-724"><a href="#cb20-724"></a><span class="fu">### Información sobre la sesión</span></span>
<span id="cb20-725"><a href="#cb20-725"></a></span>
<span id="cb20-726"><a href="#cb20-726"></a>Abajo muestro mi entorno de trabajo y paquetes utilizados</span>
<span id="cb20-727"><a href="#cb20-727"></a></span>
<span id="cb20-730"><a href="#cb20-730"></a><span class="in">```{r}</span></span>
<span id="cb20-731"><a href="#cb20-731"></a><span class="co">#| echo: false</span></span>
<span id="cb20-732"><a href="#cb20-732"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-733"><a href="#cb20-733"></a>  details<span class="sc">::</span><span class="fu">details</span>(<span class="at">summary =</span> <span class="st">'current session info'</span>) </span>
<span id="cb20-734"><a href="#cb20-734"></a><span class="in">```</span></span>
</code><button title="Copiar al portapapeles" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Los tres mosqueperros</p>
</div>   
    <div class="nav-footer-center">
<p>Hecho con <a href="https://quarto.org">Quarto</a></p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/juan200210">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:juanpaen@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>