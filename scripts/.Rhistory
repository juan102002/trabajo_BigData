library(eurostat)
library(tidyverse)
library(ggplot2)
library(gganimate)
library(ggthemes)
library(gt)
library(gtExtras)
#Escogemos los datos de la página de Eurostat
my_table <- "prc_hicp_aind"
eurostat::label_eurostat_tables(my_table)
#Creamos el dataframe asociado al índice de IPC de Eurostat y filtramos
df <- eurostat::get_eurostat(my_table, time_format = "raw")
df_alquileres_index <- df %>%
filter(coicop == "CP041",
!geo %in% c("EU27_2020", "EA19", "EU28",
"EA", "EA20","EA19", "US",
"XK", "TR", "RS", "AL", "MK",
"ME", "UK", "EEA", "EU")) %>%
label_eurostat() %>%
filter(unit == "Annual average index") %>%
rename(paises = geo,
año = TIME_PERIOD) %>%
mutate(año = as.numeric(año)) %>%
select(-freq)
##Top (Los 6 que más han crecido desde 2015 hasta 2024)
df_alquileres_top_6_2024 <- df_alquileres_index %>%
filter(año == 2024) %>%
slice_max(values, n=6)
library(eurostat)
library(tidyverse)
library(ggplot2)
library(gganimate)
library(ggthemes)
library(gt)
library(gtExtras)
#Escogemos los datos de la página de Eurostat
my_table <- "prc_hicp_aind"
eurostat::label_eurostat_tables(my_table)
#Creamos el dataframe asociado al índice de IPC de Eurostat y filtramos
df <- eurostat::get_eurostat(my_table, time_format = "raw")
df_alquileres_index <- df %>%
filter(coicop == "CP041",
!geo %in% c("EU27_2020", "EA19", "EU28",
"EA", "EA20","EA19", "US",
"XK", "TR", "RS", "AL", "MK",
"ME", "UK", "EEA", "EU")) %>%
label_eurostat() %>%
filter(unit == "Annual average index") %>%
rename(paises = geo,
año = TIME_PERIOD) %>%
mutate(año = as.numeric(año)) %>%
select(-freq)
##Top (Los 6 que más han crecido desde 2015 hasta 2024)
df_alquileres_top_6_2024 <- df_alquileres_index %>%
filter(año == 2024) %>%
slice_max(values, n=6)
View(df_alquileres_top_6_2024)
tabla_df_alquileres_top_6_2024
tabla_df_alquileres_top_6_2024 <- df_alquileres_top_6_2024 %>%
gt() %>%
gt_theme_excel() %>%
tab_header(title = "Incremento del precio del alquiler en los 6 países que más ha crecido",
subtitle = "TOP 6") %>%
tab_footnote(footnote = "Eurostat 2025")
tabla_df_alquileres_top_6_2024
top_paises <- df_alquileres_top_6_2024$paises
df_top <- df_alquileres_index %>%
filter(paises %in% top_paises)
